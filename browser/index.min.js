const t="red thin10 nofill ",n="http://www.w3.org/2000/svg";function e(e,r,o=t,i){const u=r.center,s=r.radius,c=document.createElementNS(n,"circle");return c.setAttributeNS(null,"cx",u[0].toString()),c.setAttributeNS(null,"cy",u[1].toString()),c.setAttributeNS(null,"r",s.toString()),c.setAttributeNS(null,"class",o),e.appendChild(c),i&&setTimeout(()=>c.remove(),i),[c]}function r(t,n,r=3,o="red",i){const[u]=e(t,{center:n,radius:r},"dot "+o,i);return i&&setTimeout(()=>u.remove(),i),[u]}function o(e,o,i=t,u=0,s=void 0,c=0){const f=document.createElementNS(n,"line");f.setAttributeNS(null,"x1",o[0][0].toString()),f.setAttributeNS(null,"y1",o[0][1].toString()),f.setAttributeNS(null,"x2",o[1][0].toString()),f.setAttributeNS(null,"y2",o[1][1].toString()),f.setAttributeNS(null,"class",i),e.appendChild(f);let l=[];if(void 0!==s)for(const t of o)l.push(...r(e,t,c,s,u));for(const t of l)e.appendChild(t);const h=[f,...l];return u&&setTimeout(()=>{for(const t of h)t.remove()},u),h}function i(n,r,i=t,u=3,s){const c=e(n,{center:r,radius:u},i),f=[[r[0]-u,r[1]],[r[0]+u,r[1]]],l=[[r[0],r[1]-u],[r[0],r[1]+u]],h=o(n,f,i),a=o(n,l,i);return s&&setTimeout(()=>{c.forEach(t=>t.remove()),h.forEach(t=>t.remove()),a.forEach(t=>t.remove())},s),[...c,...h,...a]}function u(t){return 2===t?"L":3===t?"Q":4===t?"C":void 0}function s(e,i,u=t,s=0,c=void 0,f=0,l=void 0){const[[h,a],[v,p],[d,g]]=i,m=document.createElementNS(n,"path");m.setAttributeNS(null,"d",`M${h} ${a} Q${v} ${p} ${d} ${g}`),u&&m.setAttributeNS(null,"class",u);let _=[];if(void 0!==c)for(const t of i)_.push(...r(e,t,f,c,s));let b=[];if(void 0!==l)for(let t=0;t<i.length-1;t++)b.push(...o(e,[i[t],i[t+1]],l,s));const x=[m,..._,...b];for(const t of x)e.appendChild(t);return s&&setTimeout(()=>{for(const t of x)t.remove()},s),x}function c(e,u,s=t,c=0,f=void 0,l=0,h=void 0){const[[a,v],[p,d],[g,m],[_,b]]=u;if(a===_&&p===_&&g===_&&v===b&&d===b&&m===b)return i(e,[a,v],s,.2,c);const x=document.createElementNS(n,"path");x.setAttributeNS(null,"d",`M${a} ${v} C${p} ${d} ${g} ${m} ${_} ${b}`),x.setAttributeNS(null,"class",s);let I=[];if(void 0!==f)for(const t of u)I.push(...r(e,t,l,f,c));let N=[];if(void 0!==h)for(let t=0;t<u.length-1;t++)N.push(...o(e,[u[t],u[t+1]],h,c));const S=[x,...I,...N];for(const t of S)e.appendChild(t);return c&&setTimeout(()=>{for(const t of S)t.remove()},c),S}function f(n,e,r=t,i=0,u=void 0,f=0,l=void 0){return 2===e.length?o(n,e,r,i,u,f):3===e.length?s(n,e,r,i,u,f,l):4===e.length?c(n,e,r,i,u,f,l):[]}const l=["red","green","cyan","blue"];function h(t,n){const e=1-n;if(4===t.length){const[[r,o],[i,u],[s,c],[f,l]]=t;return[r*e**3+3*i*e**2*n+3*s*e*n**2+f*n**3,o*e**3+3*u*e**2*n+3*c*e*n**2+l*n**3]}if(3===t.length){const[[r,o],[i,u],[s,c]]=t;return[r*e**2+2*i*e*n+s*n**2,o*e**2+2*u*e*n+c*n**2]}if(2===t.length){const[[r,o],[i,u]]=t;return[r*e+i*n,o*e+u*n]}return[NaN,NaN]}function a(t,n){return 2===t.length?function(t,n){const[[e,r],[o,i]]=t,u=1-n,s=[u*e+n*o,u*r+n*i];return[[[e,r],s],[s,[o,i]]]}(t,n):3===t.length?function(t,n){const[[e,r],[o,i],[u,s]]=t,c=1-n,f=[c*c*e+2*c*n*o+n*n*u,c*c*r+2*c*n*i+n*n*s];return[[[e,r],[c*e+n*o,c*r+n*i],f],[f,[c*o+n*u,c*i+n*s],[u,s]]]}(t,n):4===t.length?function(t,n){const[[e,r],[o,i],[u,s],[c,f]]=t,l=1-n,h=n*n,a=h*n,v=l*l,p=v*l,d=[a*c+3*l*h*u+3*v*n*o+p*e,a*f+3*l*h*s+3*v*n*i+p*r];return[[[e,r],[n*o+l*e,n*i+l*r],[h*u+2*l*n*o+v*e,h*s+2*l*n*i+v*r],d],[d,[h*c+2*n*l*u+v*o,h*f+2*n*l*s+v*i],[n*c+l*u,n*f+l*s],[c,f]]]}(t,n):[]}const v={circle:e,crossHair:i,dot:r,line:o,rect:function(e,r,o=t,i){const[[u,s],[c,f]]=r,l=u<c?u:c,h=s<f?s:f,a=Math.abs(u-c),v=Math.abs(s-f),p=document.createElementNS(n,"rect");return p.setAttributeNS(null,"x",l.toString()),p.setAttributeNS(null,"y",h.toString()),p.setAttributeNS(null,"width",a.toString()),p.setAttributeNS(null,"height",v.toString()),o&&p.setAttributeNS(null,"class",o),e.appendChild(p),i&&setTimeout(()=>p.remove(),i),[p]},beziers:function(t,n,e,r){const o=void 0===e,i=[];for(let r=0;r<n.length;r++){const u=n[r],s=o?"thin5 nofill "+l[r%l.length]:e;i.push(...f(t,u,s))}return r&&setTimeout(()=>i.forEach(t=>t.remove()),r),i},bezier:f,bezierPiece:function(n,e,r,o=t,u){const s=r[0]===r[1]?i(n,h(e,r[0]),o,1.5):f(n,function(t,n){if(0===n[0]&&1===n[1])return t;if(n[0]===n[1]){const e=h(t,n[0]);return[e,e,e,e]}return 0===n[0]?a(t,n[1])[0]:1===n[1]?a(t,n[0])[1]:a(a(t,n[0])[1],(n[1]-n[0])/(1-n[0]))[0]}(e,r),o);return u&&setTimeout(()=>s.forEach(t=>t.remove()),u),s},quadBezier:s,cubicBezier:c,polygon:function(e,r,o=t,i){const u=document.createElementNS(n,"path");let s=`M${r[0][0]} ${r[0][1]} L`;for(let t=0;t<r.length;t++)s+=`${r[t][0]} ${r[t][1]} `;return s+=" z",u.setAttributeNS(null,"d",s),o&&u.setAttributeNS(null,"class",o),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]},loop:function(e,r,o=t,i){if(!r.length)return[];const s=document.createElementNS(n,"path");let c=`M${r[0][0][0]} ${r[0][0][1]} `;for(let t=0;t<r.length;t++){const n=r[t];c+=`${u(n.length)} `;for(let t=1;t<n.length;t++)c+=`${n[t][0]} ${n[t][1]} `}return c+=" z",s.setAttributeNS(null,"d",c),o&&s.setAttributeNS(null,"class",o),e.appendChild(s),i&&setTimeout(()=>s.remove(),i),[s]},polyline:function(e,r,o=t,i){if(r.length<2)return[];const u=document.createElementNS(n,"path");let s=`M${r[0][0]} ${r[0][1]} L`;for(let t=0;t<r.length;t++)s+=`${r[t][0]} ${r[t][1]} `;return u.setAttributeNS(null,"d",s),o&&u.setAttributeNS(null,"class",o),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]},text:function(e,r,o,i,u=t,s){const c=document.createElementNS(n,"text");return c.setAttributeNS(null,"x",r[0].toString()),c.setAttributeNS(null,"y",r[1].toString()),c.setAttributeNS(null,"font-size",i.toString()),c.setAttributeNS(null,"class",u),c.textContent=o,e.appendChild(c),s&&setTimeout(()=>c.remove(),s),[c]}};function p(t,n){if(0===n)return t[0];if(1===n)return t[t.length-1];if(4===t.length){const[[e,r],[o,i],[u,s],[c,f]]=t,l=e+(o-e)*n,h=o+(u-o)*n,a=l+(h-l)*n,v=r+(i-r)*n,p=i+(s-i)*n,d=v+(p-v)*n;return[a+(h+(u+(c-u)*n-h)*n-a)*n,d+(p+(s+(f-s)*n-p)*n-d)*n]}if(3===t.length){const[[e,r],[o,i],[u,s]]=t,c=e+(o-e)*n,f=r+(i-r)*n;return[c+(o+(u-o)*n-c)*n,f+(i+(s-i)*n-f)*n]}if(2===t.length){const[[e,r],[o,i]]=t;return[e+(o-e)*n,r+(i-r)*n]}if(1===t.length)return t[0];throw new Error("The given bezier curve must be of order <= 3.")}function d(t){if(4===t.length)return g(t);if(3===t.length)return m(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n,n],[o-e,e]]}(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[n],[e]]}(t);throw new Error("The given bezier curve must be of order <= 3.")}function g(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[s-n+3*(r-i),3*(i+n-2*r),3*(r-n),n],[c-e+3*(o-u),3*(u+e-2*o),3*(o-e),e]]}function m(t){const[[n,e],[r,o],[i,u]]=t;return[[i+n-2*r,2*(r-n),n],[u+e-2*o,2*(o-e),e]]}function _(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[3*(s-n+3*(r-i)),6*(i+n-2*r),3*(r-n)],[3*(c-e+3*(o-u)),6*(u+e-2*o),3*(o-e)]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,u]]=t;return[[2*(i+n-2*r),2*(r-n)],[2*(u+e-2*o),2*(o-e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n],[o-e]]}(t);if(1===t.length)return[[0],[0]];throw new Error("The bezier curve must be of order <= 3.")}function b(t){let n=0;for(let e=0;e<=t.length-1&&0===t[e];e++)n++;return 0!==n&&(t=t.slice(n)),t}const x=b;function I(t,n){const e=t.length-1,r=n.length-1;if(e<0||r<0)return[];const o=e+r,i=new Array(o+1).fill(0);for(let u=0;u<e+1;u++)for(let s=0;s<r+1;s++)i[o-(u+s)]+=t[e-u]*n[r-s];return x(i)}function N(t){const n=[];for(let e=0;e<t.length;e++)n.push(-t[e]);return n}function S(t,n){const e=[],r=t.length-1;for(let n=0;n<r+1;n++)e.push(t[n]/(r+1-n));return e.push(n),e}const E=b;function M(t,n){const e=t.length-1,r=n.length-1,o=e-r,i=o<0?+o:0,u=o>0?-o:0,s=Math.max(e,r),c=[];for(let e=0;e<s+1;e++){const r=t[e+i]||0,o=n[e+u]||0;c.push(r+o)}return E(c)}function w(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+t[r];return e}function y(t){let n=0;for(const e of t.curves){const t=e.ps,[r,o]=d(t),[i,u]=_(t);n+=w(S(M(I(r,u),N(I(o,i))),0),1)}return-n/2}function P(t){const n=y(t);let e=0,r=0;for(const n of t.curves){const t=n.ps,[o,i]=d(t),[u,s]=_(t),c=S(I(I(o,o),s),0),f=S(I(I(i,i),u),0);e+=w(c,1),r+=w(f,1)}const o=1/(2*n);return[-o*e,o*r]}class T{constructor(t,n){this.curve=t,this.t=n,this.p_=void 0}get p(){return void 0===this.p_?this.p_=p(this.curve.ps,this.t):this.p_}}function A(t){const n=new WeakMap;return function(e){let r=n.get(e);return void 0!==r||(r=t(e),n.set(e,r)),r}}function B(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push((e-r)*t[r]);return n}const C=w,O=Number.EPSILON/2,z=Math.abs,Y=Math.max,F=N,k=function(t){return n=>1/t(function(t){return t.slice().reverse()}(n))};function V(t){const n=t.length-1;if(n<1)return 0;t[0]<0&&(t=F(t));const e=[];for(let t=0;t<n;t++)e.push(1);let r=0;for(let o=0;o<=n;o++){if(t[o]>=0)continue;let n=Number.POSITIVE_INFINITY,i=!1;for(let r=0;r<o;r++){if(t[r]<=0)continue;const u=(-t[o]/(t[r]/2**e[r]))**(1/(o-r));e[r]++,n>u&&(n=u),i=!0}i&&r<n&&(r=n)}return r}k(V);const L=(H=V,t=>-H(function(t){const n=t.length-1;if(n<0)return[];const e=t.slice();for(let t=0;t<n+1;t++)t%2==(n-1)%2&&(e[t]=-e[t]);return e}(t))),$=(k(L),B),X=w,q=function(t,n,e,r=C(t,n),o=C(t,e)){let i=n,u=e,s=i,c=r,f=u-i,l=f;for(;;){z(c)<z(o)&&(i=u,u=s,s=i,r=o,o=c,c=r);const n=2*O*Y(1,z(i),z(u)),e=.5*(s-u);if(z(e)<=n)return u;if(z(f)<n||z(r)<=z(o))f=e,l=f;else{let t,h,a=o/r;if(i===s)t=2*e*a,h=1-a;else{h=r/c;const n=o/c;t=a*(2*e*h*(h-n)-(u-i)*(n-1)),h=(h-1)*(n-1)*(a-1)}0<t?h=-h:t=-t,a=f,f=l,2*t<3*e*h-z(n*h)&&t<z(.5*a*h)?l=t/h:(f=e,l=f)}if(i=u,r=o,n<z(l)?u+=l:0<e?u+=n:u-=n,0===(o=C(t,u)))return u;o*c>0&&(s=i,c=r,f=u-i,l=f)}},Q=L,G=V,D=b;var H;function U(t,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){t=D(t);let r=0;for(;0===t[t.length-1];)t=t.slice(0,-1),r++;if(t.length<=1){const t=[];for(let n=0;n<r;n++)t.push(0);return t}n===Number.NEGATIVE_INFINITY&&(n=Q(t)),e===Number.POSITIVE_INFINITY&&(e=G(t));const o=[t];for(let n=1;n<=t.length-1;n++)o.push($(o[n-1]));let i=[];for(let r=t.length-2;r>=0;r--){const t=o[r],u=[];let s=n,c=X(t,s);0===c&&0===r&&u.push(n);for(let n=0;n<i.length;n++){const e=i[n],r=X(t,e);0===r?u.push(e):c*r<0&&u.push(q(t,s,e,c,r)),s=e,c=r}const f=X(t,e);c*f<0&&u.push(q(t,s,e,c,f)),0===f&&0===r&&u.push(e),i=u}if(r>0&&n<=0&&e>=0){const t=[];let n=!1;for(let e=0;e<i.length;e++){if(!n&&i[e]>=0){for(let n=0;n<r;n++)t.push(0);n=!0}t.push(i[e])}if(!n)for(let n=0;n<r;n++)t.push(0);return t}return i}const Z=A(function(t){const n=_(t),e=U(n[0],0,1),r=U(n[1],0,1);e.push(0,1),r.push(0,1);let o,i,u,s,c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n],[u]=p(t,r);u<c&&(c=u,o=r),u>f&&(f=u,i=r)}for(let n=0;n<r.length;n++){const e=r[n],[,o]=p(t,e);o<l&&(l=o,u=e),o>h&&(h=o,s=e)}return{ts:[[o,u],[i,s]],box:[[c,l],[f,h]]}}),R=Number.POSITIVE_INFINITY,W=A(function(t){const n=[[{bezier:void 0,t:void 0,val:R},{bezier:void 0,t:void 0,val:R}],[{bezier:void 0,t:void 0,val:-R},{bezier:void 0,t:void 0,val:-R}]];return t.curves.forEach(function(t){const e=t.ps,r=Z(e);{const e=r.box[0][0],o=n[0][0].val;(e<o||e===o&&r.ts[0][0]>n[0][0].t)&&(n[0][0]={bezier:t,t:r.ts[0][0],val:e})}{const e=r.box[0][1],o=n[0][1].val;(e<o||e===o&&r.ts[0][1]>n[0][1].t)&&(n[0][1]={bezier:t,t:r.ts[0][1],val:e})}{const e=r.box[1][0],o=n[1][0].val;(e>o||e===o&&r.ts[1][0]>n[1][0].t)&&(n[1][0]={bezier:t,t:r.ts[1][0],val:e})}{const e=r.box[1][1],o=n[1][1].val;(e>o||e===o&&r.ts[1][1]>n[1][1].t)&&(n[1][1]={bezier:t,t:r.ts[1][1],val:e})}}),{minX:new T(n[0][0].bezier,n[0][0].t),minY:new T(n[0][1].bezier,n[0][1].t),maxX:new T(n[1][0].bezier,n[1][0].t),maxY:new T(n[1][1].bezier,n[1][1].t)}});function j(t){let n="";for(let e=0;e<t.length;e++){const r=t[e];0===e&&(n="M "+r[0][0].toString()+" "+r[0][1].toString()+"\n"),4===r.length?n+="C "+r[1][0].toString()+" "+r[1][1].toString()+" "+r[2][0].toString()+" "+r[2][1].toString()+" "+r[3][0].toString()+" "+r[3][1].toString()+" \n":3===r.length?n+="Q "+r[1][0].toString()+" "+r[1][1].toString()+" "+r[2][0].toString()+" "+r[2][1].toString()+" \n":2===r.length&&(n+="L "+r[1][0].toString()+" "+r[1][1].toString()+" \n")}return n+" z\n"}function J(t,n,e="red thin10 nofill ",r){const o=document.createElementNS("http://www.w3.org/2000/svg","path"),i=j(n);return o.setAttributeNS(null,"d",i),e&&o.setAttributeNS(null,"class",e),t.appendChild(o),r&&setTimeout(()=>o.remove(),r),[o]}function K(t,n){const e=P(n);var r;return y(n),(r=W(n)).minX.p[0],r.minY.p[1],r.maxX.p[0],r.maxY.p[1],v.crossHair(t,e,"thin10 red nofill",1,500),J(t,n.curves.map(t=>t.ps),"red thin10 fill30",void 0)}function tt(t,n,e,r){const o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",n[0].toString()),o.setAttributeNS(null,"cy",n[1].toString()),o.setAttributeNS(null,"r",e.toString()+"%"),o.setAttributeNS(null,"class",r),t.appendChild(o),o}function nt(t,n){return J(t,n,"red thin10 fill30",void 0)}const et={minY:function(t,n){const e=p(n.curve.ps,n.t);return v.crossHair(t,e,"red thin10 nofill")},loop:K,loopPre:nt,loopsPre:function(t,n){const e=[];for(const r of n)e.push(...nt(t,r));return e},loops:function(t,n){const e=[];for(const r of n)e.push(...K(t,r));return e},intersection:function(t,n){return[tt(t,n.x.box[0],.7,"purple thin5 nofill")]},container:function(t,n,e,r=0){const o=n.box,i=n.xs,u=.0125,s=[];for(let n=0;n<i.length;n++){const e=i[n];s.push(...v.circle(t,{center:e.x.box[0],radius:u},"thin2 red nofill",r))}const c=[],f=n.inOuts;for(let n=0;n<f.length;n++){const e=f[n],o=e.p.slice(),i=-1===e.dir?"red":"blue",l=u*(1+.5*n);void 0!==e.idx&&c.push(...v.text(t,o,e.idx.toString(),.1,`thin5 nofill ${i}`,r)),s.push(...v.dot(t,e.p,l,`thin2 nofill ${i}`,r))}return[...v.rect(t,o,"thin2 blue nofill",r),...s,...c]},bezier_:v.bezier,looseBoundingBox_:function(t,n,e="thin5 brown nofill",r=0){const[[o,i],[u,s]]=n;return n=[[o,i],[u,i],[u,s],[o,s]],v.polygon(t,n,e,r)},tightBoundingBox_:function(t,n,e="thin5 pinker nofill",r=0){return v.polygon(t,n,e,r)},boundingHull_:function(t,n,e="thin5 black nofill",r=0){return v.polygon(t,n,e,r)}};function rt(t){if(!t)return void(window._debug_=void 0);const n=window._debug_,e={...n,generated:{...n&&n.generated?n.generated:{},elems:{...n&&n.generated&&n.generated.elems?n.generated.elems:{},minY:[],loop:[],loopPre:[],loopsPre:[],loops:[],intersection:[],container:[],bezier_:[],looseBoundingBox_:[],tightBoundingBox_:[],boundingHull_:[]},timing:{...n&&n.generated&&n.generated.timing?n.generated.timing:{},normalize:0,simplifyPaths:0}},fs:{...n&&n.fs?n.fs:{},drawElem:{...n&&n.fs&&n.fs.drawElem?n.fs.drawElem:{},...et}}};window._debug_=e}function ot(t,n){const e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function it(t,n,e){function r(e){return[e[0]*n-e[1]*t,e[0]*t+e[1]*n]}return void 0===e?r:r(e)}function ut(t,n){function e(n){return[t[0]+n[0],t[1]+n[1]]}return void 0===n?e:e(n)}function st(t){let n=t[0];for(let e=1;e<t.length;e++)n+=t[e];return n}function ct(t){return t[t.length-1]}const ft=Number.EPSILON/2,lt=ft*ft,ht=134217729;function at(t,n){const e=n[0],r=n[1],o=r*t,i=ht*r,u=i-(i-r),s=r-u,c=ht*t,f=c-(c-t),l=t-f,h=s*l-(o-u*f-s*f-u*l)+e*t,a=o+h;return[h-(a-o),a]}const vt=at,pt=st,dt=function(){const t=3*lt;return t/(1-t)}(),gt=134217729;function mt(t,n){const e=t.length;let r;const o=t[0];let i=o*n;const u=gt*o,s=u-(u-o),c=o-s,f=gt*n,l=f-(f-n),h=n-l,a=[],v=c*h-(i-s*l-c*l-s*h);0!==v&&a.push(v);for(let o=1;o<e;o++){const e=t[o],u=e*n,s=gt*e,c=s-(s-e),f=e-c,l=gt*n,h=l-(l-n),v=n-h,p=f*v-(u-c*h-f*h-c*v),d=i+p,g=d-i,m=i-(d-g)+(p-g);0!==m&&a.push(m),r=d;const _=u+r,b=r-(_-u);0!==b&&a.push(b),i=_}return 0===i&&0!==a.length||a.push(i),a}function _t(t,n){const e=n.length;let r;const o=n[0];let i=o*t;const u=gt*o,s=u-(u-o),c=o-s,f=gt*t,l=f-(f-t),h=t-l,a=[],v=c*h-(i-s*l-c*l-s*h);0!==v&&a.push(v);for(let o=1;o<e;o++){const e=n[o],u=e*t,s=gt*e,c=s-(s-e),f=e-c,l=gt*t,h=l-(l-t),v=t-h,p=f*v-(u-c*h-f*h-c*v),d=i+p,g=d-i,m=i-(d-g)+(p-g);0!==m&&a.push(m),r=d;const _=u+r,b=r-(_-u);0!==b&&a.push(b),i=_}return 0===i&&0!==a.length||a.push(i),a}const bt=mt,xt=134217729;function It(t,n){const e=t*n,r=xt*t,o=r-(r-t),i=t-o,u=xt*n,s=u-(u-n),c=n-s;return[i*c-(e-o*s-i*s-o*c),e]}function Nt(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]}const St=Nt,Et=It,Mt=Math.abs,wt=Number.EPSILON/2;function yt(t,n){let e=t[0],r=.5*Mt(e);for(let o=1;o<t.length;o++)e=e*n+t[o],r=r*Mt(n)+Mt(e);return r=wt*(2*r-Mt(e)),[e,r]}const Pt=Math.abs,Tt=function(t){const n=t*ft;return n/(1-n)},At=yt,Bt=w,Ct=Tt(1),Ot=Tt(2);function zt(t,n,e=void 0,r=1){const o=Math.abs(n),i=t[0],[u,s]=At(i,n),c=Ot*function(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+Pt(t[r]);return e}(i,o),f=void 0!==e?Bt(e,o):0;if((s+c+f)*r<Math.abs(u))return u;const l=function(t,n){const e=[],r=[];let o,i=t[0];for(let u=1;u<t.length;u++){const[s,c]=Et(i,n);[o,i]=St(c,t[u]),e.push(s),r.push(o)}return{r̂:i,pπ:e,pσ:r}}(i,n),{pπ:h,pσ:a}=l;let{r̂:v}=l;const[p,d]=At(h,n),[g,m]=At(a,n),[_,b]=At(t[1],n);let x=d+m+b+f;return v=p+g+_+v,x+=Ct*v,x*r<Math.abs(v)?v:0}function Yt(t,n){const e=t.length,r=n.length;let o=0,i=0;const u=[];for(;o<e&&i<r;)0!==t[o]?0!==n[i]?Math.abs(t[o])<=Math.abs(n[i])?(u.push(t[o]),o++):(u.push(n[i]),i++):i++:o++;for(;o<e;)u.push(t[o]),o++;for(;i<r;)u.push(n[i]),i++;if(0===u.length)return[0];const s=u.length;if(1===s)return u;const c=[],f=u[1],l=u[0];let h=f+l;const a=l-(h-f);0!==a&&c.push(a),i=0;for(let t=2;t<s;t++){const n=u[t],e=h+n,r=e-h,o=h-(e-r)+(n-r);0!==o&&c.push(o),h=e}return 0===h&&0!==c.length||c.push(h),c}const Ft=Yt,kt=mt;function Vt(t,n){let e=[0];for(let r=0;r<t.length;r++)e=Ft(t[r],kt(e,n));return e}const Lt=zt,$t=Vt,Xt=st,qt=zt,Qt=Vt,Gt=st,Dt=Number.EPSILON,Ht=Math.abs,Ut=Math.max,Zt=function(t){const{p:n,pE:e}=t,r=[],o=[],i=n.length-1;for(let t=0;t<i;t++){const u=i-t,s=vt(u,n[t]);r.push(s);const c=u&u-1?dt:0,f=pt(s);o.push(u*e[t]+Math.abs(f)*c)}return{p:r,pE:o}},Rt=zt,Wt=Vt,jt=function(t){const n=t[0].length,e=[];for(let r=0;r<n;r++){const o=[];for(let e=0;e<t.length;e++)o.push(t[e][n-(r+1)]);e.push(o)}return e},Jt=function(t,n,e,r){const o=Lt(t,e,n,4);return 0!==o?o:Xt($t(r(),e))},Kt=function(t,n,e,r,o,i,u,s){let c=e,f=r,l=c,h=o,a=f-c,v=a;for(;;){let p;Ht(h)<Ht(i)&&(c=f,f=l,l=c,o=i,i=h,h=o);const d=Ut(Ht(c),Ht(f));p=d<=1?Dt:Dt*2**Math.ceil(Math.log2(d));const g=.5*(l-f);if(Ht(g)<=p)return f<l?[f,l]:[l,f];if(Ht(a)<p||Ht(o)<=Ht(i))a=g,v=a;else{let t,n,e=i/o;if(c===l)t=2*g*e,n=1-e;else{n=o/h;const r=i/h;t=e*(2*g*n*(n-r)-(f-c)*(r-1)),n=(n-1)*(r-1)*(e-1)}0<t?n=-n:t=-t,e=a,a=v,2*t<3*g*n-Ht(p*n)&&t<Ht(.5*e*n)?v=t/n:(a=g,v=a)}if(c=f,o=i,p<Ht(v)?f+=v:0<g?f+=p:f-=p,0===(i=s?Gt(Qt(u(),f)):qt(t,f,n))){if(s)return[f,f];const o=Math.max(e,f-p),c=Math.min(r,f+p);if(qt(t,o,n)*qt(t,c,n)!==0)return[o,c];if(s=!0,0===(i=Gt(Qt(u(),f))))return[f,f]}(0<i&&0<h||i<=0&&h<=0)&&(l=c,h=o,a=f-c,v=a)}},tn=L,nn=V,en=function(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push(bt(t[r],e-r));return n},rn=st,on=yt,un=ct,sn=Math.max,cn=Math.min,fn=Math.abs,ln=1+Number.EPSILON;function hn(t,n=0,e=1,r,o,i){o||(o=()=>t),r=r||new Array(t.length).fill(0);let u,s,c=0;for(;t.length>0&&fn(t[0][1])<=r[0]&&(s=s||o(),0===un(s[0]));)(t=t.slice()).shift(),(r=r.slice()).shift(),s.shift();if(0===t.length)return i?void 0:[];if(1===t.length)return[];if(n===Number.NEGATIVE_INFINITY||e===Number.POSITIVE_INFINITY){const r=t.map(t=>t[1]);n===Number.NEGATIVE_INFINITY&&(n=tn(r)),e===Number.POSITIVE_INFINITY&&(e=nn(r))}const f=jt(t);let l,h;const a=t.length-1;let v,p;l=0,h=!1;do{if(v=h?rn(Wt(x(),n)):Rt(f,n,r),0===v){if(l++,l>=3&&!h){h=!0;continue}n-=2*Number.EPSILON*sn(1,fn(n))}}while(0===v);l=0,h=!1;do{if(p=h?rn(Wt(x(),e)):Rt(f,e,r),0===p){if(l++,l>=3&&!h){h=!0;continue}e+=2*Number.EPSILON*sn(1,fn(e))}}while(0===p);const d=[{p:t,pE:r}],g=[jt(t)];for(let t=1;t<=a;t++){const n=Zt(d[t-1]);d.push(n),g.push(jt(n.p))}let m,_,b=[];for(c=a-1;c>=0;c--)m=d[c].pE,_=g[c],b=I();function x(){if(void 0!==u)return u[c];let t=s||o();for(u=[t];t.length>1;)t=en(t),u.push(t);return u[c]}return b;function I(){const t=[],r=Jt(_,m,n,x);if(!b.length){const t=Jt(_,m,e,x);if(r*t>=0)return[];const[o,i]=Kt(_,m,n,e,r,t,x);return[{tS:o,tE:i,multiplicity:1}]}let o=b[0].tS,i=Jt(_,m,o,x);if(r*i>0);else if(r*i<0){const[e,u]=Kt(_,m,n,o,r,i,x);t.push({tS:e,tE:u,multiplicity:1})}let u,s=n,f=r,l=o,h=i;for(let n=0;n<b.length;n++){const r=b[n+1];u=b[n],o=l,s=b[n].tE,l=r?r.tS:e;const c=f;if(i=h,f=Jt(_,m,s,x),h=Jt(_,m,l,x),i*f>0)if(f*h>0)s!==o&&u.multiplicity%2==1&&v();else if(f*h<0){s!==o&&u.multiplicity%2==1&&v();const[n,e]=Kt(_,m,s,l,f,h,x);t.push({tS:n,tE:e,multiplicity:1})}else s!==o&&u.multiplicity%2==1&&v();else if(i*f<0){if(t.push({tS:u.tS,tE:u.tE,multiplicity:3}),f*h<0){const[n,e]=Kt(_,m,s,l,f,h,x);t.push({tS:n,tE:e,multiplicity:1})}}else if(0===f)0===i?t.push({tS:u.tS,tE:u.tE,multiplicity:u.multiplicity+1}):i*h>0?t.push({tS:u.tS,tE:u.tE,multiplicity:2}):t.push({tS:u.tS,tE:u.tE,multiplicity:3});else{if(f*h<0){const[n,e]=Kt(_,m,s,l,f,h,x);t.push({tS:n,tE:e,multiplicity:1})}c*f>0?t.push({tS:u.tS,tE:u.tE,multiplicity:2}):t.push({tS:u.tS,tE:u.tE,multiplicity:3})}}for(let n=0;n<t.length-1;n++){const e=t[n],r=t[n+1];if(e.tE>=r.tS)return an(t)}return t;function v(){const n=(s-o)*ln;let e=1,r=0;for(let t=c+2;t<=a;t++){const i=g[t][0],u=on(i,o);r+=(fn(u[0])+u[1])*e,e*=n*ln}const l=f>0?cn(i,f):sn(i,f),h=2*Number.EPSILON*sn(1,fn(s)),v=r*(2*h);(l+(f>0?2*-v*h:2*v*h))*f<0&&t.push({tS:u.tS,tE:u.tE,multiplicity:2})}}}function an(t){const n=[],e=t[0];let r={tS:e.tS,tE:e.tE,multiplicity:e.multiplicity};for(let e=0;e<t.length-1;e++){const o=t[e],i=t[e+1];o.tE<i.tS?(n.push(r),r={tS:i.tS,tE:i.tE,multiplicity:i.multiplicity}):(r.tE=i.tE,r.multiplicity=o.multiplicity+i.multiplicity)}return n.push(r),n}function vn(t,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){return hn(t.map(t=>[0,t]),n,e,void 0,void 0,r)}const pn=Math.abs;function dn(t,n){if(0===n[0]&&0===n[1])return[0,0];if(0===n[0]&&1===n[1])return[0,0];const e=pn(n[1]);if(4===t.length){const[[n,r],[o,i],[u,s],[c,f]]=t,l=pn(n),h=pn(r),a=pn(o),v=pn(i),p=pn(u),d=pn(s),g=l+(a+l)*e,m=a+(p+a)*e,_=g+(m+g)*e,b=h+(v+h)*e,x=v+(d+v)*e,I=b+(x+b)*e;return[_+(m+(p+(pn(c)+p)*e+m)*e+_)*e,I+(x+(d+(pn(f)+d)*e+x)*e+I)*e]}if(3===t.length){const[[n,r],[o,i],[u,s]]=t,c=pn(n),f=pn(r),l=pn(o),h=pn(i),a=c+(l+c)*e,v=f+(h+f)*e;return[a+(l+(pn(u)+l)*e+a)*e,v+(h+(pn(s)+h)*e+v)*e]}if(2===t.length){const[[n,r],[o,i]]=t,u=pn(n),s=pn(r);return[u+(pn(o)+u)*e,s+(pn(i)+s)*e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}const gn=Number.EPSILON/2,mn=gn*gn;function _n(t){const n=t*gn;return n/(1-n)}function bn(t){const n=t*mn;return n/(1-n)}_n(1),bn(3);const xn=Math.abs,In=[[0,0],[0,0],[0,0],[0,0]];const Nn=Math.abs,Sn=[[0,0],[0,0],[0,0]];const En=Math.abs,Mn=[[0,0],[0,0]];const wn=Number.EPSILON/2,yn=_n(1);function Pn(t,n){return n[0]!==n[1]?4===t.length?function(t,n){const{ps:e,_ps:r}=function(t,n,e){return 0===n?1===e?{ps:t,_ps:In}:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],p=u-n*(u-c),d=c-n*(c-l),g=p-n*(p-d),m=g-n*(g-(d-n*(d-(l-n*(l-a))))),_=s-n*(s-f),b=f-n*(f-h),x=_-n*(_-b),I=x-n*(x-(b-n*(b-(h-n*(h-v))))),N=xn(n),S=xn(u),E=xn(c),M=xn(l),w=xn(a),y=xn(s),P=xn(f),T=xn(h),A=S+N*(S+E),B=E+N*(E+M),C=A+N*(A+B),O=y+N*(y+P),z=P+N*(P+T),Y=O+N*(O+z);return{ps:[[u,s],[p,_],[g,x],[m,I]],_ps:[[0,0],[A,O],[C,Y],[C+N*(C+(B+N*(B+(M+N*(M+w))))),Y+N*(Y+(z+N*(z+(T+N*(T+xn(v))))))]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],p=u-n*(u-c),d=c-n*(c-l),g=l-n*(l-a),m=p-n*(p-d),_=d-n*(d-g),b=m-n*(m-_),x=s-n*(s-f),I=f-n*(f-h),N=h-n*(h-v),S=x-n*(x-I),E=I-n*(I-N),M=S-n*(S-E),w=xn(n),y=xn(u),P=xn(c),T=xn(l),A=xn(a),B=xn(s),C=xn(f),O=xn(h),z=y+w*(y+P),Y=P+w*(P+T),F=T+w*(T+A),k=z+w*(z+Y),V=Y+w*(Y+F),L=B+w*(B+C),$=C+w*(C+O),X=O+w*(O+xn(v)),q=L+w*(L+$),Q=$+w*($+X);return{ps:[[b,M],[_,E],[g,N],[a,v]],_ps:[[k+w*(k+V),q+w*(q+Q)],[V,Q],[F,X],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],u=t[3],s=r[0],c=r[1],f=o[0],l=o[1],h=i[0],a=i[1],v=n*n,p=n*v,d=e*e,g=e*d,m=n*e,_=s-f,b=h-f,x=u[0]-s,I=_+b,N=n*_,S=e*_,E=x-3*b,M=c-l,w=a-l,y=u[1]-c,P=M+w,T=n*M,A=e*M,B=y-3*w,C=p*E+(3*n*(n*I-_)+s),O=m*(n*E+2*I)+(v*I+s-(S+2*N)),z=m*(e*E+2*I)+(d*I+s-(2*S+N)),Y=g*E+(3*e*(e*I-_)+s),F=p*B+(3*n*(n*P-M)+c),k=m*(n*B+2*P)+(v*P+c-(A+2*T)),V=m*(e*B+2*P)+(d*P+c-(2*A+T)),L=g*B+(3*e*(e*P-M)+c),$=xn(n),X=xn(e),q=xn(m),Q=xn(p),G=xn(g),D=xn(s),H=xn(f),U=D+H,Z=xn(h)+H,R=U+Z,W=$*U,j=X*U,J=xn(x)+3*Z,K=xn(c),tt=xn(l),nt=K+tt,et=xn(a)+tt,rt=nt+et,ot=$*nt,it=X*nt,ut=xn(y)+3*et;return{ps:[[C,F],[O,k],[z,V],[Y,L]],_ps:[[Q*J+(3*$*($*R+U)+D),Q*ut+(3*$*($*rt+nt)+K)],[q*($*J+2*R)+(v*R+D+(j+2*W)),q*($*ut+2*rt)+(v*rt+K+(it+2*ot))],[q*(X*J+2*R)+(d*R+D+(2*j+W)),q*(X*ut+2*rt)+(d*rt+K+(2*it+ot))],[G*J+(3*X*(X*R+U)+D),G*ut+(3*X*(X*rt+nt)+K)]]}}(t,n,e)}(t,n[0],n[1]),o=e[0][0],i=e[1][0],u=e[2][0],s=e[3][0],c=9*wn*r[0][0],f=9*wn*r[1][0],l=9*wn*r[2][0],h=9*wn*r[3][0],a=e[0][1],v=e[1][1],p=e[2][1],d=e[3][1],g=9*wn*r[0][1],m=9*wn*r[1][1],_=9*wn*r[2][1],b=9*wn*r[3][1],x=Math.min(o-c,i-f,u-l,s-h),I=Math.max(o+c,i+f,u+l,s+h);return[[x,Math.min(a-g,v-m,p-_,d-b)],[I,Math.max(a+g,v+m,p+_,d+b)]]}(t,n):3===t.length?function(t,n){const{ps:e,_ps:r}=function(t,n,e){return 0===n?1===e?{ps:t,_ps:Sn}:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],s=r[0],c=r[1],f=o[0],l=o[1],h=n*n,a=i-s,v=u-c,p=[[i,u],[-n*a+i,-n*v+u],[h*(a+(f-s))-(2*n*a-i),h*(v+(l-c))-(2*n*v-u)]],d=Nn(n),g=Nn(i),m=Nn(s),_=Nn(f),b=g+m,x=Nn(u),I=Nn(c),N=x+I;return{ps:p,_ps:[[0,0],[d*b+g,d*N+x],[h*(b+(_+m))+(2*d*b+g),h*(N+(Nn(l)+I))+(2*d*N+x)]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],s=r[0],c=r[1],f=o[0],l=o[1],h=n*n,a=i-s,v=f-s,p=u-c,d=l-c,g=[[h*(a+v)-(2*n*a-i),h*(p+d)-(2*n*p-u)],[n*v+s,n*d+c],[f,l]],m=Nn(n),_=Nn(i),b=Nn(s),x=_+b,I=Nn(f)+b,N=Nn(u),S=Nn(c),E=N+S;return{ps:g,_ps:[[h*(x+I)+(2*m*x+_),h*(E+(Nn(l)+S))+(2*m*E+N)],[m*I+b,0],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],u=r[0],s=r[1],c=o[0],f=o[1],l=i[0],h=i[1],a=n*n,v=e*e,p=n*e,d=u-c,g=d+(l-c),m=s-f,_=m+(h-f),b=a*g-(2*n*d-u),x=p*g-(d*(e+n)-u),I=v*g-(2*e*d-u),N=a*_-(2*n*m-s),S=p*_-(m*(e+n)-s),E=v*_-(2*e*m-s),M=Nn(n),w=Nn(e),y=Nn(p),P=Nn(u),T=Nn(c),A=P+T,B=A+Nn(l)+T,C=Nn(s),O=Nn(f),z=C+O,Y=z+Nn(h)+O;return{ps:[[b,N],[x,S],[I,E]],_ps:[[a*B+(2*M*A+P),a*Y+(2*M*z+C)],[y*B+(A*(w+M)+P),y*_+(z*(w+M)+C)],[v*B+(2*w*A+P),v*Y+(2*w*z+C)]]}}(t,n,e)}(t,n[0],n[1]),o=e[0][0],i=e[1][0],u=e[2][0],s=5*wn*r[0][0],c=5*wn*r[1][0],f=5*wn*r[2][0],l=e[0][1],h=e[1][1],a=e[2][1],v=5*wn*r[0][1],p=5*wn*r[1][1],d=5*wn*r[2][1],g=Math.min(o-s,i-c,u-f),m=Math.max(o+s,i+c,u+f);return[[g,Math.min(l-v,h-p,a-d)],[m,Math.max(l+v,h+p,a+d)]]}(t,n):function(t,n){const{ps:e,_ps:r}=function(t,n,e){return 0===n?1===e?{ps:t,_ps:Mn}:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],s=r[1],c=[[o,i],[n*(u-o)+o,n*(s-i)+i]],f=En(n),l=En(o),h=En(u),a=En(i);return{ps:c,_ps:[[0,0],[f*(h+l)+l,f*(En(s)+a)+a]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],s=r[1],c=[[n*(u-o)+o,n*(s-i)+i],[u,s]],f=En(n),l=En(o),h=En(u),a=En(i);return{ps:c,_ps:[[f*(h+l)+l,f*(En(s)+a)+a],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],u=r[1],s=o[0],c=o[1],f=[[n*(s-i)+i,n*(c-u)+u],[e*(s-i)+i,e*(c-u)+u]],l=En(n),h=En(e),a=En(i),v=En(s),p=En(u),d=En(c);return{ps:f,_ps:[[l*(v+a)+a,l*(d+p)+p],[h*(v+a)+a,h*(d+p)+p]]}}(t,n,e)}(t,n[0],n[1]),o=e[0][0],i=e[1][0],u=3*wn*r[0][0],s=3*wn*r[1][0],c=e[0][1],f=e[1][1],l=3*wn*r[0][1],h=3*wn*r[1][1],a=Math.min(o-u,i-s),v=Math.max(o+u,i+s);return[[a,Math.min(c-l,f-h)],[v,Math.max(c+l,f+h)]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n)return[e,e];if(1===n)return[r,r];const o=p(t,n);let i;if(4===t.length)i=dn(t,[0,n]).map(t=>8*yn*t);else if(3===t.length)i=dn(t,[0,n]).map(t=>5*yn*t);else if(2===t.length)i=dn(t,[0,n]).map(t=>2*yn*t);else if(1===t.length)return[o,o];return[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]]}(t,n[0])}function Tn(t){const n=t[0],e=t[t.length-1];let r,o;if(n[1]<e[1]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minY:r,maxY:o};const[,i]=_(t),u=vn(i,0,1);for(let n=0;n<u.length;n++){const e=u[n],i=[e.tS,e.tE],s=Pn(t,i);s[0][1]<r.box[0][1]&&(r={ts:i,box:s}),s[1][1]>o.box[0][1]&&(o={ts:i,box:s})}return{minY:r,maxY:o}}function An(t){const n=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[0]<e[0]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minX:r,maxX:o};const[i]=_(t),u=vn(i,0,1);for(let n=0;n<u.length;n++){const e=u[n],i=[e.tS,e.tE],s=Pn(t,i);s[0][0]<r.box[0][0]&&(r={ts:i,box:s}),s[1][0]>o.box[0][0]&&(o={ts:i,box:s})}return{minX:r,maxX:o}}(t),e=Tn(t);return[[n.minX.box[0][0],e.minY.box[0][1]],[n.maxX.box[1][0],e.maxY.box[1][1]]]}function Bn(t,n){const e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function Cn(t){const[n,e]=t[0],[r,o]=t[t.length-1];let i,u;const s=function(t){let n=0;for(let e=0;e<t.length-1;e++)n+=Bn(t[e],t[e+1]);return n}(t);if(256*ot(t[0],t[t.length-1])<s*s){const[r,o]=p(t,.5),s=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/s,u=(r-n)/s}else{const t=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/t,u=(r-n)/t}const c=function(t,n,e){const r=ut(t[0].map(t=>-t));return An(t.map(t=>it(-n,e,r(t))))}(t,i,u),[[f,l],[h,a]]=c,v=[c[0],[h,l],c[1],[f,a]],d=it(i,u);return v.map(n=>ut(t[0],d(n)))}function On(t){const n=t.length,e=new Array(n);for(let r=0;r<n;r++)e[r]=-t[r];return e}const zn=On,Yn=Yt;function Fn(t,n){const e=zn(n);return Yn(t,e)}function kn(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]}function Vn(t){const n=t.slice(),e=n.length;if(1===e)return n;let r=n[e-1],o=e;for(let t=e-2;t>=0;--t){const e=r,i=n[t];r=e+i;const u=i-(r-e);u&&(n[--o]=r,r=u)}let i=0;for(let t=o;t<e;++t){const e=n[t],o=r;r=e+o;const u=o-(r-e);u&&(n[i++]=u)}return n[i++]=r,n.length=i,n}function Ln(t,n,e){const r=(t[0]-e[0])*(n[1]-e[1]),o=(t[1]-e[1])*(n[0]-e[0]),i=r-o;let u;if(r>0){if(o<=0)return i;u=r+o}else{if(!(r<0))return i;if(o>=0)return i;u=-r-o}return Math.abs(i)>=3330669073875472e-31*u?i:function(t,n,e,r){const o=t[0]-e[0],i=n[0]-e[0],u=t[1]-e[1],s=n[1]-e[1],c=Fn(It(o,s),It(u,i));let f=st(c);if(Math.abs(f)>=2220446049250315e-31*r)return f;const l=kn(t[0],e[0])[0],h=kn(n[0],e[0])[0],a=kn(t[1],e[1])[0],v=kn(n[1],e[1])[0];if(0===l&&0===a&&0===h&&0===v)return f;const p=1109335647967049e-46*r+3330669073875471e-31*Math.abs(f);if(f+=o*v+s*l-(u*h+i*a),Math.abs(f)>=p)return f;const d=Yt(c,Fn(It(l,s),It(a,i))),g=Yt(d,Fn(It(o,v),It(u,h)));let m=Yt(g,Fn(It(l,v),It(a,h)));return m=Vn(m),m[m.length-1]}(t,n,e,u)}function $n(t,n,e){const r=n[0]-t[0],o=n[1]-t[1];return r*(e[0]-n[0])+o*(e[1]-n[1])}const Xn=function(t,n){if(0===t.length)return;const e=t.slice(),r=function(t){let n,e=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let r=0;r<t.length;r++){const o=t[r][1];(o<e[1]||o===e[1]&&t[r][0]<e[0])&&(n=r,e=t[r])}return n}(e),[o]=e.splice(r,1);e.sort((t,n)=>{let e=-Ln(o,t,n);return 0!==e?e:(e=t[1]-n[1],0!==e?e:t[0]-n[0])}),e.unshift(o);const i=function(t){const n=[t[0]],e=t.length;for(let r=1;r<t.length;r++){const o=t[(r+e-1)%e],i=t[r];o[0]===i[0]&&o[1]===i[1]||n.push(i)}return n}(e),u=[];for(const t of i){for(;u.length>=2&&Ln(u[u.length-2],u[u.length-1],t)<0;)u.pop();u.push(t)}if(n||u.length<3)return u;const s=[];{const t=u.length;for(let n=0;n<t;n++){const e=(n+1)%t,r=u[(n+t-1)%t],o=u[n],i=u[e];(0!==Ln(r,o,i)||$n(r,o,i)<0)&&s.push(o)}}return s};function qn(t){return(t.tS+t.tE)/2}function Qn(t){const n=t[0],e=t[1];return[(n[0]+e[0])/2,(n[1]+e[1])/2]}const Gn=mt,Dn=Yt;function Hn(t,n){let e=[0];for(let r=0;r<t.length;r++)e=Dn(e,Gn(n,t[r]));return e}const Un=st,Zn=kn,Rn=Hn,Wn=Yt,jn=Number.EPSILON;function Jn(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]}function Kn(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r+i,s=u-r,c=e+o,f=c-e,l=r-(u-s)+(i-s)+c,h=u+l,a=e-(c-f)+(o-f)+(l-(h-u)),v=h+a;return[a-(v-h),v]}const te=2**27+1;function ne(t,n){const e=t[1],r=n[1],o=e*r,i=te*e,u=i-(i-e),s=e-u,c=te*r,f=c-(c-r),l=r-f,h=s*l-(o-u*f-s*f-u*l)+(e*n[0]+t[0]*r),a=o+h;return[h-(a-o),a]}function ee(t){return[2*t[0],2*t[1]]}function re(t){return[4*t[0],4*t[1]]}function oe(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r-i,s=u-r,c=e-o,f=c-e,l=r-(u-s)+(-i-s)+c,h=u+l,a=e-(c-f)+(-o-f)+(l-(h-u)),v=h+a;return[a-(v-h),v]}const ie=Jn,ue=Kn,se=at,ce=ne,fe=ee,le=re,he=oe;function ae(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],[p,d]=n,g=ie(u,p),m=ie(c,p),_=ie(l,p),b=ie(a,p),x=ie(s,d),I=ie(f,d),N=ie(h,d),S=ie(v,d),E=ce(g,g),M=se(6,ce(g,m)),w=se(6,ce(g,_)),y=fe(ce(g,b)),P=se(9,ce(m,m)),T=se(18,ce(m,_)),A=se(6,ce(m,b)),B=se(9,ce(_,_)),C=se(6,ce(_,b)),O=ce(b,b),z=ce(x,x),Y=se(6,ce(x,I)),F=se(6,ce(x,N)),k=fe(ce(x,S)),V=se(9,ce(I,I)),L=se(18,ce(I,N)),$=se(6,ce(I,S)),X=se(9,ce(N,N)),q=se(6,ce(N,S)),Q=ce(S,S),G=ue(A,B),D=ue(y,T),H=ue(w,P),U=ue($,X),Z=ue(k,L),R=ue(F,V);return[se(6,ue(ue(ue(ue(he(O,C),he(E,M)),G),he(H,D)),ue(ue(ue(he(Q,q),he(z,Y)),U),he(R,Z)))),se(5,ue(he(ue(ue(C,se(5,M)),se(3,D)),fe(ue(ue(G,fe(H)),se(3,E)))),he(ue(ue(q,se(5,Y)),se(3,Z)),fe(ue(ue(U,fe(R)),se(3,z)))))),le(ue(he(he(G,se(3,he(D,fe(H)))),se(5,he(fe(M),se(3,E)))),he(he(U,se(3,he(Z,fe(R)))),se(5,he(fe(Y),se(3,z)))))),se(3,ue(he(D,fe(he(fe(H),se(5,he(M,fe(E)))))),he(Z,fe(he(fe(R),se(5,he(Y,fe(z)))))))),fe(ue(he(H,se(5,he(M,se(3,E)))),he(R,se(5,he(Y,se(3,z)))))),ue(he(M,se(6,E)),he(Y,se(6,z)))]}const ve=Jn,pe=Kn,de=at,ge=ne,me=ee,_e=oe,be=re;function xe(t,n){const[[e,r],[o,i],[u,s]]=t,[c,f]=n,l=ve(e,c),h=ve(o,c),a=ve(u,c),v=ve(r,f),p=ve(i,f),d=ve(s,f),g=ge(l,l),m=ge(l,h),_=ge(l,a),b=ge(h,h),x=ge(h,a),I=ge(a,a),N=ge(v,v),S=ge(v,p),E=ge(v,d),M=ge(p,p),w=ge(p,d),y=ge(d,d),P=pe(E,me(M)),T=pe(_,me(b));return[pe(_e(pe(pe(y,N),me(P)),be(pe(w,S))),_e(pe(pe(I,g),me(T)),be(pe(x,m)))),de(3,pe(pe(_e(w,P),_e(de(3,S),N)),pe(_e(x,T),_e(de(3,m),g)))),pe(_e(P,de(3,_e(me(S),N))),_e(T,de(3,_e(me(m),g)))),pe(_e(S,N),_e(m,g))]}const Ie=134217729;function Ne(t,n){const e=t*n,r=Ie*t,o=r-(r-t),i=t-o,u=Ie*n,s=u-(u-n),c=n-s;return[i*c-(e-o*s-i*s-o*c),e]}const Se=Ne,Ee=Kn,Me=function(t){return[-2*t[0],-2*t[1]]},we=oe;function ye(t,n){const[[e,r],[o,i]]=t,[u,s]=n,c=e-u,f=o-u,l=r-s,h=i-s,a=Se(c,c),v=Se(c,f),p=Se(f,f),d=Se(l,l),g=Se(l,h),m=Se(h,h),_=Ee(v,g),b=Ee(d,a);return[Ee(Ee(p,m),Ee(b,Me(_))),we(_,b)]}function Pe(t){const n=[];for(let e=0;e<t.length;e++)n.push(2*t[e]);return n}function Te(t){const n=[];for(let e=0;e<t.length;e++)n.push(-2*t[e]);return n}const Ae=kn,Be=Hn,Ce=_t,Oe=Pe,ze=Te,Ye=Yt,Fe=Fn,ke=kn,Ve=Hn,Le=_t,$e=Pe,Xe=Yt,qe=Fn;function Qe(t){const n=[];for(let e=0;e<t.length;e++)n.push(4*t[e]);return n}const Ge=kn,De=Hn,He=Te,Ue=Yt,Ze=Fn,Re=Math.abs;function We(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=Re(e[0]),s=Re(e[1]),c=Re(r[0]),f=Re(r[1]),l=Re(o[0]),h=Re(o[1]),a=Re(i[0]),v=Re(i[1]),p=Re(n[0]),d=Re(n[1]),g=u+p,m=c+p,_=l+p,b=a+p,x=s+d,I=f+d,N=h+d,S=v+d,E=g*g,M=6*g*m,w=6*_*b,y=x*x,P=6*x*I,T=6*N*S,A=6*m*b+9*_*_,B=2*g*b+18*m*_,C=6*g*_+9*m*m,O=6*I*S+9*N*N,z=2*x*S+18*I*N,Y=6*x*N+9*I*I;return[6*(b*b+w+(E+M)+A+(C+B)+(S*S+T+(y+P)+O+(Y+z))),5*(w+5*M+3*B+2*(A+2*C+3*E)+(T+5*P+3*z+2*(O+2*Y+3*y))),4*(A+3*(B+2*C)+5*(2*M+3*E)+(O+3*(z+2*Y)+5*(2*P+3*y))),3*(B+2*(2*C+5*(M+2*E))+(z+2*(2*Y+5*(P+2*y)))),2*(C+5*(M+3*E)+(Y+5*(P+3*y))),M+6*E+(P+6*y)]}function je(t,n){const e=t[0],r=t[1],o=t[2],i=Re(e[0]),u=Re(e[1]),s=Re(r[0]),c=Re(r[1]),f=Re(o[0]),l=Re(o[1]),h=Re(n[0]),a=Re(n[1]),v=i+h,p=s+h,d=f+h,g=u+a,m=c+a,_=l+a,b=v*v,x=v*p,I=p*d,N=g*g,S=g*m,E=m*_,M=g*_+m*m*2,w=v*d+p*p*2;return[_*_+N+2*M+4*(E+S)+(d*d+b+2*w+4*(I+x)),3*(E+M+(3*S+N)+(I+w+(3*x+b))),M+3*(2*S+N)+(w+3*(2*x+b)),S+N+(x+b)]}function Je(t,n){const e=t[0],r=t[1],o=Re(e[0]),i=Re(e[1]),u=Re(r[0]),s=Re(r[1]),c=Re(n[0]),f=Re(n[1]),l=o+c,h=u+c,a=i+f,v=s+f,p=l*h+a*v,d=a*a+l*l;return[h*h+v*v+2*p+d,p+d]}const Ke=bn(6);const{sqrt:tr}=Math;function nr(t,n,e=0,r=1){const{polyDd:o,polyE:i,getPolyExact:u}=function(t,n){const e=t.length-1;if(3===e)return{polyDd:ae(t,n),polyE:We(t,n).map(t=>10*Ke*t),getPolyExact:()=>function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],[p,d]=n,g=Ae(u,p),m=Ae(c,p),_=Ae(l,p),b=Ae(a,p),x=Ae(s,d),I=Ae(f,d),N=Ae(h,d),S=Ae(v,d),E=Be(g,g),M=Ce(6,Be(g,m)),w=Ce(6,Be(g,_)),y=Oe(Be(g,b)),P=Ce(9,Be(m,m)),T=Ce(18,Be(m,_)),A=Ce(6,Be(m,b)),B=Ce(9,Be(_,_)),C=Ce(6,Be(_,b)),O=Be(b,b),z=Be(x,x),Y=Ce(6,Be(x,I)),F=Ce(6,Be(x,N)),k=Oe(Be(x,S)),V=Ce(9,Be(I,I)),L=Ce(18,Be(I,N)),$=Ce(6,Be(I,S)),X=Ce(9,Be(N,N)),q=Ce(6,Be(N,S)),Q=Be(S,S),G=Ye(A,B),D=Ye(y,T),H=Ye(w,P),U=Ye($,X),Z=Ye(k,L),R=Ye(F,V),W=Fe(Ye(Ye(O,E),Ye(G,H)),Ye(Ye(D,C),M)),j=Fe(Ye(Ye(Q,z),Ye(U,R)),Ye(Ye(Z,q),Y)),J=Ce(6,Ye(W,j)),K=Ye(ze(Ye(Ye(G,Oe(H)),Ce(3,E))),Ye(Ye(C,Ce(3,D)),Ce(5,M))),tt=Ye(ze(Ye(Ye(U,Oe(R)),Ce(3,z))),Ye(Ye(q,Ce(3,Z)),Ce(5,Y))),nt=Ce(5,Ye(K,tt)),et=Ye(Ye(G,Ce(3,Fe(Oe(H),D))),Ce(5,Fe(Ce(3,E),Oe(M)))),rt=Ye(Ye(U,Ce(3,Fe(Oe(R),Z))),Ce(5,Fe(Ce(3,z),Oe(Y)))),ot=Ce(4,Ye(et,rt)),it=Fe(D,Oe(Fe(Oe(H),Ce(5,Fe(M,Oe(E)))))),ut=Fe(Z,Oe(Fe(Oe(R),Ce(5,Fe(Y,Oe(z)))))),st=Ce(3,Ye(it,ut)),ct=Fe(H,Ce(5,Fe(M,Ce(3,E)))),ft=Fe(R,Ce(5,Fe(Y,Ce(3,z)))),lt=Oe(Ye(ct,ft)),ht=Fe(M,Ce(6,E)),at=Fe(Y,Ce(6,z));return[J,nt,ot,st,lt,Ye(ht,at)]}(t,n)};if(2===e)return{polyDd:xe(t,n),polyE:je(t,n).map(t=>8*Ke*t),getPolyExact:()=>function(t,n){const[[e,r],[o,i],[u,s]]=t,[c,f]=n,l=ke(e,c),h=ke(o,c),a=ke(u,c),v=ke(r,f),p=ke(i,f),d=ke(s,f),g=Ve(l,l),m=Ve(l,h),_=Ve(l,a),b=Ve(h,h),x=Ve(h,a),I=Ve(a,a),N=Ve(v,v),S=Ve(v,p),E=Ve(v,d),M=Ve(p,p),w=Ve(p,d),y=Ve(d,d),P=Xe(E,$e(M)),T=Xe(_,$e(b)),A=Xe(qe(Xe(I,$e(T)),Qe(Xe(x,m))),g),B=Xe(qe(Xe(y,$e(P)),Qe(Xe(w,S))),N),C=Xe(A,B),O=Xe(qe(x,T),qe(Le(3,m),g)),z=Xe(qe(w,P),qe(Le(3,S),N)),Y=Le(3,Xe(O,z)),F=qe(P,Le(3,qe($e(S),N))),k=qe(T,Le(3,qe($e(m),g))),V=Xe(F,k),L=qe(S,N),$=qe(m,g);return[C,Y,V,Xe(L,$)]}(t,n)};if(1===e)return{polyDd:ye(t,n),polyE:Je(t,n).map(t=>6*Ke*t),getPolyExact:()=>function(t,n){const[[e,r],[o,i]]=t,[u,s]=n,c=Ge(e,u),f=Ge(o,u),l=Ge(r,s),h=Ge(i,s),a=De(c,c),v=De(c,f),p=De(f,f),d=De(l,l),g=De(l,h),m=De(h,h),_=Ue(v,g),b=Ue(d,a);return[Ue(Ue(p,m),Ue(He(_),b)),Ze(_,b)]}(t,n)};if(0===e)return{polyDd:[[0,1]],polyE:[0],getPolyExact:()=>[[1]]};throw new Error("The given bezier curve must be of order <= 3")}(t,n),s=hn(o,e,r,i,u);s.push({tS:e,tE:e,multiplicity:1}),s.push({tS:r,tE:r,multiplicity:1});const c=s.map(e=>{const r=Pn(t,[e.tS,e.tE]),o=function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],s=r[1],c=n[0],f=n[1];let l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(const[t,n]of[[o,i],[o,s],[u,i],[u,s]]){const e=Zn(t,c),r=Zn(n,f),o=Wn(Rn(e,e),Rn(r,r)),i=Un(o),u=i*(1-jn),s=i*(1+jn);u<=l&&(l=u),s>=h&&(h=s)}return[l,h]}(r,n);return{p:Qn(r),t:qn(e),d:(tr(o[0])+tr(o[1]))/2,dSquaredI:o,box:r,ri:e}});let f=Number.POSITIVE_INFINITY;for(let t=0;t<c.length;t++){const n=c[t].dSquaredI[1];n<f&&(f=n)}const l=[];for(let t=0;t<c.length;t++){const n=c[t];n.dSquaredI[0]<=f&&l.push(n)}return l}function er(t,n,e){if(4===t.length)return function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],h=o[1],a=u-n*(u-c),v=c-n*(c-l),p=a-n*(a-v),d=s-n*(s-f),g=f-n*(f-h),m=d-n*(d-g);return[[u,s],[a,d],[p,m],[p-n*(p-(v-n*(v-(l-n*(l-i[0]))))),m-n*(m-(g-n*(g-(h-n*(h-i[1])))))]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],p=u-n*(u-c),d=c-n*(c-l),g=l-n*(l-a),m=p-n*(p-d),_=d-n*(d-g),b=s-n*(s-f),x=f-n*(f-h),I=h-n*(h-v),N=b-n*(b-x),S=x-n*(x-I);return[[m-n*(m-_),N-n*(N-S)],[_,S],[g,I],[a,v]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],u=t[3],s=r[0],c=r[1],f=o[0],l=o[1],h=i[0],a=i[1],v=n*n,p=n*v,d=e*e,g=e*d,m=n*e,_=s-f,b=h-f,x=_+b,I=n*_,N=e*_,S=u[0]-s-3*b,E=c-l,M=a-l,w=E+M,y=n*E,P=e*E,T=u[1]-c-3*M;return[[p*S+(3*n*(n*x-_)+s),p*T+(3*n*(n*w-E)+c)],[m*(n*S+2*x)+(v*x+s-(N+2*I)),m*(n*T+2*w)+(v*w+c-(P+2*y))],[m*(e*S+2*x)+(d*x+s-(2*N+I)),m*(e*T+2*w)+(d*w+c-(2*P+y))],[g*S+(3*e*(e*x-_)+s),g*T+(3*e*(e*w-E)+c)]]}(t,n,e)}(t,n,e);if(3===t.length)return function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],s=r[0],c=r[1],f=n*n,l=i-s,h=u-c;return[[i,u],[-n*l+i,-n*h+u],[f*(l+(o[0]-s))-(2*n*l-i),f*(h+(o[1]-c))-(2*n*h-u)]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],s=r[0],c=r[1],f=o[0],l=o[1],h=n*n,a=i-s,v=f-s,p=u-c,d=l-c;return[[h*(a+v)-(2*n*a-i),h*(p+d)-(2*n*p-u)],[n*v+s,n*d+c],[f,l]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],u=r[0],s=r[1],c=o[0],f=o[1],l=n*n,h=e*e,a=n*e,v=u-c,p=v+(i[0]-c),d=s-f,g=d+(i[1]-f);return[[l*p-(2*n*v-u),l*g-(2*n*d-s)],[a*p-(v*(e+n)-u),a*g-(d*(e+n)-s)],[h*p-(2*e*v-u),h*g-(2*e*d-s)]]}(t,n,e)}(t,n,e);if(2===t.length)return function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1];return[[o,i],[n*(r[0]-o)+o,n*(r[1]-i)+i]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],s=r[1];return[[n*(u-o)+o,n*(s-i)+i],[u,s]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],u=r[1],s=o[0],c=o[1];return[[n*(s-i)+i,n*(c-u)+u],[e*(s-i)+i,e*(c-u)+u]]}(t,n,e)}(t,n,e);if(1===t.length)return t;throw new Error("The given bezier curve must be of order <= 3.")}function rr(t){const n=t.xs;return n.length<=2&&7!==n[0].x.kind}function or(t,n,e,r){const o=function(t,n,e){return(r,o,i)=>{n.has(r)||r.orientation||(r.orientation=o*t.orientation,r.parent=i,r.windingNum=i.windingNum+r.orientation,e.push(r))}}(n,r,e);let i,u,s=0,c=1,f=t;for(;f=1===n.orientation?f.nextAround:f.prevAround,f!==t;)s=c,c-=f.dir,-1!==f.dir&&(u?1===s&&0===c?o(f,1,n.parent):0===s&&-1===c&&o(f,-1,n.parent):0===c?u=f:1===c&&o(f,1,n));return rr(t.container)||(i=[t.p,u.p]),{out_:u,additionalBezier:i}}function ir(t,n){const e=n.next,r=e._x_.curve,o=e._x_.x.ri.tS;let i=n._x_.curve,u=n._x_.x.ri.tS;rr(n.container)||(u=qn(nr(i.ps,n.p)[0].ri));const s=[];let c;for(;;){if(i===r&&(u<o||u===o&&0!==s.length))return c=er(i.ps,u,o),{beziers:s,in_:e,inBez:c};{const t=er(i.ps,u,1);s.push(t)}u=0,i=i.next}}function ur(t,n,e){const r=[],o=[];let i,u=e;do{n.add(u);const{beziers:t,in_:s,inBez:c}=ir(0,u);if(o.push(...t),({out_:u,additionalBezier:i}=or(s,e,r,n)),i){const t=er(c,0,qn(nr(c,i[0])[0].ri));o.push(t),o.push(i)}else o.push(c)}while(u!==e);return{beziers:o,additionalOutsToCheck:r}}function sr(t,n,e,r){const o=[n];for(;o.length;){const t=o.pop();if(e.add(t._x_.curve.loop),r.has(t))continue;t.children=new Set;const{beziers:n,additionalOutsToCheck:i}=ur(0,r,t);t.beziers=n,t.parent.children=t.parent.children||new Set,t.parent.children.add(t),o.push(...i)}}const cr=I;function fr(t){let n=[1];for(let e=0;e<t.length;e++)n=cr(n,[1,-t[e]]);return n}const lr=123456789,hr=4294967296;function ar(t){return function(n,e,r,o,i=lr,u=0){const s=[];for(let c=0;c<n;c++){const n=t(e,r,o,i,u),c=n.p;i=n.seed,s.push(c)}return s}}function vr(t){return(134775813*t+1)%hr}function pr(t,n,e,r,o=0){let i=[];for(let u=0;u<t;u++)r=dr(r=vr(r),i,r/hr*(e-n)+n,o);return i=i.slice(0,t),{vs:i,seed:r}}function dr(t,n,e,r){return t=vr(t),n.push(e),t/hr<r&&(t=dr(t,n,e,r)),t}function gr(t,n=-1,e=1,r=lr){const o=pr(t,n,e,r);return r=o.seed,{p:o.vs,seed:r}}function mr(t,n){const[e,r]=_(t);return[w(e,n),w(r,n)]}function _r(t){const n=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]*n,t[1]*n]}ar(function(t,n=0,e=1,r=lr,o=0){const i=pr(t,n,e,r,o);return r=i.seed,{p:fr(i.vs),seed:r}}),ar(gr);const br=A(An),xr=1e-6;function Ir(t){const n=t.map(t=>Z(t));return{minX:Math.min(...n.map(t=>t.box[0][0])),maxX:Math.max(...n.map(t=>t.box[1][0])),minY:Math.min(...n.map(t=>t.box[0][1])),maxY:Math.max(...n.map(t=>t.box[1][1]))}}function Nr(t,n){let e;const r=[t];for(;r.length;)o(r.pop());return e;function o(o){if(o===t||function(t,n){let e=0,r=1231;do{e++;const i=gr(1,0,1,r),u=i.p[0];r=i.seed;const s=gr(1,0,t.length,r),c=Math.floor(s.p[0]);r=s.seed;const f=o(t,n,p(t[c],u));if(void 0!==f)return f}while(e<100);return;function o(t,n,e){if(function(t,n){const e=[t,n].map(Ir);return e[0].minX<e[1].minX||e[0].maxX>e[1].maxX||e[0].minY<e[1].minY||e[0].maxY>e[1].maxY}(t,n))return!1;const r=function(t,n){const[e,r]=n;let o=0;for(let i=0;i<t.length;i++){const u=t[i],[[s,c],[f,l]]=br(u);let h=c>r||l<r||!1;if(h=h||s>e||!1,h)continue;const a=[];let v,g,m;const _=!0;v=t=>d(t)[1],g=[0,-r],m=0;const b=u.map(ut(g)),x=U(v(b),0-xr,1+xr);for(let t=0;t<x.length;t++){const e=x[t];if(Math.abs(e)<xr||Math.abs(e-1)<xr)return;const r=p(b,e);(_&&n[m]>=r[m]||!_&&n[m]<=r[m])&&a.push(e)}if(1===a.length||3===a.length)for(const t of a){const n=_r(mr(u,t));if(Math.abs(n[1])<xr)return}o+=a.length}return o}(n,e);return void 0!==r?r%2!=0:void 0}}(n.beziers,o.beziers)){e=o;for(const t of o.children)r.push(t)}}}function Sr(t,n){return Er(t)-Er(n)}function Er(t){let n=Number.POSITIVE_INFINITY;for(const e of t){const t=Z(e).box[0][1];t<n&&(n=t)}return n}function Mr(t){const n=[t],e=Array.from(t.children);for(;e.length;){const t=e.pop();0===t.windingNum&&n.push(t);for(const n of t.children)e.push(n)}return n}function wr(t,n,e){let[[r,o],[i,u]]=n,[[s,c],[f,l]]=e;o>u&&([o,u]=[u,o]),c>l&&([c,l]=[l,c]),r>i&&([r,i]=[i,r]),s>f&&([s,f]=[f,s]);const h=t||r===i&&s===f,a=t||o===u&&c===l;return(h?r<=f:r<f)&&(h?i>=s:i>s)&&(a?c<=u:c<u)&&(a?l>=o:l>o)}function yr(t,n){return wr(!0,t.box,n.box)}function Pr(t,n){for(let e=0;e<n.length;e++){const r=n[e];Tr(t,[r.a,r.b])}}function Tr(t,n){const[e,r]=n;let o=t.get(e);o||(o=[],t.set(e,o));let i=t.get(r);i||(i=[],t.set(r,i)),o.push(r),i.push(e)}function Ar(t,n,e,r){e.add(n),r.push(n);const o=t.get(n);for(let n=0;n<o.length;n++){const i=o[n];e.has(i)||Ar(t,i,e,r)}}function Br(t){const n=[],e=new Set;for(const r of t){const o=r[0];e.has(o)||(n.push([]),Ar(t,o,e,n[n.length-1]))}return n}function Cr(t,n){const e=new Set;for(const t of n)for(const n of t)e.add(n);const r=[];for(let n=0;n<t.length;n++){const o=t[n];e.has(o)||r.push(o)}return r}function Or(t){const n=[];for(const e of t){let t=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const u=[];for(const n of e){const[[e,s],[c,f]]=n.box;e<t&&(t=e),s<r&&(r=s),c>o&&(o=c),f>i&&(i=f),u.push(...n.xs)}const s={box:[[t,r],[o,i]],xs:u,inOuts:void 0};n.push(s)}return n}function zr(t){return{tS:[0,t.tS],tE:[0,t.tE],multiplicity:t.multiplicity}}const Yr=Vn;function Fr(t){const n=(t=Yr(t)).length;return 2===n?t:1===n?[0,t[0]]:[t[n-2],t[n-1]]}const kr=Hn,Vr=Yt,Lr=_t,$r=hn,Xr=Fr,qr=Nt,Qr=Number.EPSILON;function Gr(t,n){const e=t.tS,r=t.tE-e;if(0===r)return[{tS:[0,e],tE:[0,e],multiplicity:t.multiplicity}];const o=function(t,n,e){const r=t.length-1;if(r<0)return[];const o=[];for(let t=0;t<r+1;t++)o.push(new Array(r+1).fill([0]));o[0][0]=[1];for(let t=1;t<=r;t++){o[0][t]=Lr(e,o[0][t-1]);for(let r=1;r<=t;r++)o[r][t]=Vr(Lr(e,o[r][t-1]),Lr(n,o[r-1][t-1]))}const i=new Array(r+1).fill([0]);for(let n=0;n<=r;n++){i[r-n]=[0];for(let e=n;e<=r;e++){const u=kr(o[n][e],t[r-e]);i[r-n]=Vr(i[r-n],u)}}return i}(n,r,e),i=o.map(Xr),u=i.map(t=>Qr*Qr*t[1]),s=$r(i,0,1,u,()=>o),c=[];for(const t of s)c.push({tS:qr(e,t.tS*r),tE:qr(e,t.tE*r),multiplicity:t.multiplicity});return c}function Dr(t,n){const e=t[0],r=t[1],o=r+n,i=o-r,u=e+(r-(o-i)+(n-i)),s=o+u;return[u-(s-o),s]}const Hr=Jn,Ur=at,Zr=Kn,Rr=Dr,Wr=Math.abs;function jr(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=Hr(s,n),l=Hr(r,i),h=3*(r-i),a=Ur(3,l),v=Wr(h),p=Zr(f,a),d=v+Wr(s-n+h),g=Hr(i,2*r),m=Rr(g,n),_=Wr(i-2*r+n),b=Ur(3,m),x=6*_,I=Hr(r,n),N=Ur(3,I),S=Wr(3*(r-n)),E=Hr(c,e),M=Hr(o,u),w=3*(o-u),y=Ur(3,M),P=Wr(w),T=Zr(E,y),A=P+Wr(c-e+w),B=Hr(u,2*o),C=Rr(B,e),O=Wr(u-2*o+e),z=Ur(3,C),Y=6*O,F=Hr(o,e);return{coeffs:[[p,b,N,[0,n]],[T,z,Ur(3,F),[0,e]]],errorBound:[[d,x,S,0],[A,Y,Wr(3*(o-e)),0]]}}function Jr(t){const[[n,e],[r,o],[i,u]]=t,s=i-2*r,c=Hr(i,2*r),f=Rr(c,n),l=Wr(s+n),h=Hr(2*r,2*n),a=u-2*o,v=Hr(u,2*o),p=Rr(v,e),d=Wr(a+e);return{coeffs:[[f,h,[0,n]],[p,Hr(2*o,2*e),[0,e]]],errorBound:[[l,0,0],[d,0,0]]}}function Kr(t){const[[n,e],[r,o]]=t;return[[Hr(r,n),[0,n]],[Hr(o,e),[0,e]]]}const to=oe,no=at,eo=On,ro=Math.abs;function oo(t){const[[n,[,e]],[r,[,o]]]=Kr(t),i=eo(r),u=n,s=no(o,n),c=ro(s[1]),f=no(e,r),l=ro(f[1]),h=to(f,s);return{coeffs:{vₓ:i,vᵧ:u,v:h},errorBound:{v_:c+l+ro(h[1])}}}const io=Kn,uo=at,so=ne,co=Math.abs,fo=bn(3);function lo(t){return[-t[0],-t[1]]}const ho=lo,ao=ee,vo=at,po=ne,go=oe,mo=Math.abs;function _o(t){const{coeffs:[[n,e,[,r]],[o,i,[,u]]],errorBound:[[s],[c]]}=Jr(t),f=n[1],l=e[1],h=o[1],a=i[1],v=mo(r),p=mo(l),d=mo(f),g=mo(u),m=mo(a),_=mo(h),b=po(n,i),x=s*m+2*mo(f*a),I=po(e,o),N=p*c+2*mo(l*h),S=vo(u,n),E=g*s+mo(u*f),M=vo(r,o),w=v*c+mo(r*h),y=vo(u,e),P=mo(u*l),T=vo(r,i),A=mo(r*a),B=po(n,n),C=2*(s*d+mo(f*f)),O=po(n,o),z=s*_+d*c+2*mo(f*h),Y=po(o,o),F=2*(c*_+mo(h*h)),k=f*a-l*h,V=f*u-r*h,L=l*u-r*a,$=go(b,I),X=mo(k),q=x+N+mo(k),Q=go(S,M),G=mo(V),D=E+w+mo(V),H=go(y,T),U=mo(L),Z=P+A+mo(L),R=ho(Y),W=F,j=ao(O),J=z,K=ho(B),tt=C,nt=a*k,et=po(i,$),rt=m*q+2*mo(nt),ot=2*V*h,it=ao(po(o,Q)),ut=2*(c*G+_*D+2*mo(ot)),st=nt-ot,ct=go(et,it),ft=rt+ut+mo(st),lt=2*f*V,ht=ao(po(n,Q)),at=2*(s*G+d*D+2*mo(lt)),vt=l*k,pt=po(e,$),dt=p*q+2*mo(vt),gt=lt-vt,mt=go(ht,pt),_t=at+dt+mo(gt),bt=k*L,xt=po($,H),It=q*U+X*Z+2*mo(bt),Nt=V*V,St=po(Q,Q),Et=2*(D*G+mo(Nt)),Mt=bt-Nt;return{coeffs:{vₓₓ:R,vₓᵧ:j,vᵧᵧ:K,vₓ:ct,vᵧ:mt,v:go(xt,St)},errorBound:{vₓₓ_:W,vₓᵧ_:J,vᵧᵧ_:tt,vₓ_:ft,vᵧ_:_t,v_:It+Et+mo(Mt)}}}const bo=Ne,xo=ee,Io=at,No=ne,So=Kn,Eo=Math.abs,Mo=bn(3),wo=Math.abs,yo=lo,Po=ee,To=at,Ao=ne,Bo=oe,Co=Kn;function Oo(t){const{coeffs:[[n,e,r,[,o]],[i,u,s,[,c]]],errorBound:[[f,l,h],[a,v,p]]}=jr(t),d=r[1],g=e[1],m=n[1],_=s[1],b=u[1],x=i[1],I=wo(o),N=wo(d),S=wo(g),E=wo(m),M=wo(c),w=wo(_),y=wo(b),P=wo(x),T=Ao(n,s),A=m*_,B=f*w+E*p+2*wo(A),C=Ao(r,i),O=d*x,z=h*P+N*a+2*wo(O),Y=Ao(n,u),F=m*b,k=f*y+E*v+2*wo(F),V=Ao(e,u),L=g*b,$=l*y+S*v+2*wo(L),X=Ao(e,i),q=g*x,Q=l*P+S*a+2*wo(q),G=Ao(n,n),D=m*m,H=wo(D),U=f*E+E*f+2*wo(D),Z=Ao(u,u),R=b*b,W=v*y+y*v+2*wo(R),j=Ao(i,i),J=x*x,K=wo(J),tt=a*P+P*a+2*wo(J),nt=Ao(r,n),et=d*m,rt=h*E+N*f+2*wo(et),ot=Ao(e,e),it=g*g,ut=l*S+S*l+2*wo(it),st=Ao(s,i),ct=_*x,ft=p*P+w*a+2*wo(ct),lt=Ao(u,i),ht=wo(b*x),at=v*P+y*a+2*ht,vt=Ao(e,n),pt=wo(g*m),dt=l*E+S*f+2*pt,gt=Ao(n,i),mt=wo(m*x),_t=f*P+E*a+2*mt,bt=To(c,n),xt=m*c,It=f*M+wo(xt),Nt=To(o,i),St=o*x,Et=I*a+wo(St),Mt=To(c,e),wt=g*c,yt=l*M+wo(wt),Pt=To(o,u),Tt=o*b,At=I*v+wo(Tt),Bt=Ao(e,s),Ct=g*_,Ot=l*w+S*p+2*wo(Ct),zt=Ao(r,u),Yt=d*b,Ft=h*y+N*v+2*wo(Yt),kt=To(c,r),Vt=d*c,Lt=h*M+wo(Vt),$t=To(o,s),Xt=o*_,qt=I*p+wo(Xt),Qt=Bo(bt,Nt),Gt=It+Et+wo(xt-St),Dt=Bo(T,C),Ht=B+z+wo(A-O),Ut=Bo(Y,X),Zt=k+Q+wo(F-q),Rt=Bo(Mt,Pt),Wt=yt+At+wo(wt-Tt),jt=Bo(Bt,zt),Jt=Ot+Ft+wo(Ct-Yt),Kt=Bo(kt,$t),tn=Lt+qt+wo(Vt-Xt),nn=wo(ct-R),en=Bo(st,Z),rn=ft+W+nn,on=wo(et-it),un=Bo(nt,ot),sn=rt+ut+wo(et-it),cn=wo(q+F),fn=Co(X,Y),ln=Q+k+wo(q+F),hn=O+A,an=wo(hn),vn=Co(C,T),pn=z+B+an,dn=Po(Dt),gn=2*Ht,mn=xt-St,_n=A-O,bn=F-q,xn=wt-Tt,In=Ct-Yt,Nn=Vt-Xt,Sn=wo(mn),En=wo(_n),Mn=wo(bn),wn=wo(xn),yn=wo(In),Pn=wo(Nn),Tn=2*En,An=Ao(Qt,Qt),Bn=Ao(Qt,Dt),Cn=Ao(Qt,Ut),On=Ao(Qt,jt),zn=Ao(Dt,Dt),Yn=Ao(dn,Rt),Fn=Ao(Ut,Rt),kn=Ao(Ut,jt),Vn=Ao(Ut,Kt),Ln=Gt*Sn+Sn*Gt+2*wo(An[1]),$n=Gt*En+Sn*Ht+2*wo(Bn[1]),Xn=Gt*Mn+Sn*Zt+2*wo(Cn[1]),qn=Gt*yn+Sn*Jt+2*wo(On[1]),Qn=Ht*En+En*Ht+2*wo(zn[1]),Gn=gn*wn+Tn*Wt+2*wo(Yn[1]),Dn=Zt*wn+Mn*Wt+2*wo(Fn[1]),Hn=Zt*yn+Mn*Jt+2*wo(kn[1]),Un=Zt*Pn+Mn*tn+2*wo(Fn[1]),Zn=Ao(yo(i),j),Rn=a*K+P*tt+2*wo(Zn[1]),Wn=3*E,jn=To(3,n),Jn=3*f+Wn,Kn=Ao(jn,j),te=Jn*K+Wn*tt+2*wo(Kn[1]),ne=3*P,ee=To(-3,i),re=3*a+ne,oe=Ao(ee,G),ie=re*H+ne*U+2*wo(oe[1]),ue=Ao(n,G),se=f*H+E*U+2*wo(ue[1]),ce=-3*mn,fe=3*Sn,le=To(-3,Qt),he=3*Gt+fe,ae=Bo(le,jt),ve=wo(ce-In),pe=he+Jt+ve,de=Ao(ae,j),ge=pe*K+ve*tt+2*wo(de[1]),me=Ao(Ut,en),_e=Zt*nn+Mn*rn+2*wo(me[1]),be=Co(de,me),xe=ge+_e+wo(be[1]),Ie=Ao(dn,lt),Ne=gn*ht+Tn*at+2*wo(Ie[1]),Se=Co(be,Ie),Ee=xe+Ne+wo(Se[1]),Me=Ao(ae,G),we=pe*H+ve*U+2*wo(Me[1]),ye=Ao(Ut,un),Pe=Zt*on+Mn*sn+2*wo(ye[1]),Te=Co(Me,ye),Ae=we+Pe+wo(Te[1]),Be=Ao(dn,vt),Ce=gn*pt+Tn*dt+2*wo(Be[1]),Oe=Co(Te,Be),ze=Ae+Ce+wo(Oe[1]),Ye=wo(L-hn/2),Fe=Bo(V,function(t){return[t[0]/2,t[1]/2]}(vn)),ke=$+pn/2+wo(Fe[1]),Ve=Ao(ae,gt),Le=pe*mt+ve*_t+2*wo(Ve[1]),$e=Ao(Dt,fn),Xe=Ht*cn+En*ln+2*wo($e[1]),qe=Co(Ve,$e),Qe=Le+Xe+wo(qe[1]),Ge=Ao(Ut,Fe),De=Zt*Ye+Mn*ke+2*wo(Ge[1]),He=Po(Bo(Ge,qe)),Ue=2*(De+Qe)+wo(He[1]),Ze=To(-3,An),Re=3*Ln+wo(Ze[1]),We=Bo(Ze,Po(On)),je=Re+2*qn+wo(We[1]),Je=Co(Yn,Vn),Ke=Gn+Un+wo(Je[1]),tr=Co(We,Je),nr=wo(tr[1]),er=je+Ke+nr,rr=Po(Bo(Bn,Fn)),or=wo(rr[1]),ir=2*($n+Dn)+or,ur=Bo(Cn,zn),sr=Xn+Qn+wo(ur[1]),cr=Co(ur,kn),fr=wo(cr[1]),lr=sr+Hn+fr,hr=Ao(i,tr),ar=a*nr+P*er+2*wo(hr[1]),vr=Ao(u,rr),pr=v*or+y*ir+2*wo(vr[1]),dr=Ao(s,cr),gr=p*fr+w*lr+2*wo(dr[1]),mr=Co(vr,dr),_r=pr+gr+wo(mr[1]),br=Co(hr,mr),xr=ar+_r+wo(br[1]),Ir=Ao(n,tr),Nr=f*nr+E*er+2*wo(Ir[1]),Sr=Ao(e,rr),Er=l*or+S*ir+2*wo(Sr[1]),Mr=Ao(r,cr),wr=h*fr+N*lr+2*wo(Mr[1]),yr=Co(Sr,Mr),Pr=Er+wr+wo(yr[1]),Tr=yo(Co(Ir,yr)),Ar=Nr+Pr+wo(Tr[1]),Br=Bo(Yn,An),Cr=Bo(Br,On),Or=wo(Cr[1]),zr=Ao(cr,Kt),Yr=Ao(Fn,Rt),Fr=Bo(zr,Yr),kr=lr*wo(Kt[1])+2*wo(zr[1])+Dn*wo(Rt[1])+2*wo(Yr[1])+wo(Fr[1]),Vr=Ao(Qt,Cr),Lr=Gt*Or+Sn*Gn+Ln+wo(Br[1])+qn+Or+2*wo(Vr[1]),$r=Co(Vr,Fr);return{coeffs:{vₓₓₓ:Zn,vₓₓᵧ:Kn,vₓᵧᵧ:oe,vᵧᵧᵧ:ue,vₓₓ:Se,vₓᵧ:He,vᵧᵧ:Oe,vₓ:br,vᵧ:Tr,v:$r},errorBound:{vₓₓₓ_:Rn,vₓₓᵧ_:te,vₓᵧᵧ_:ie,vᵧᵧᵧ_:se,vₓₓ_:Ee,vₓᵧ_:Ue,vᵧᵧ_:ze,vₓ_:xr,vᵧ_:Ar,v_:Lr+kr+wo($r[1])}}}const zo=Ne,Yo=ee,Fo=at,ko=ne,Vo=Kn,Lo=Math.abs,$o=bn(3),Xo=Kn,qo=at,Qo=ne,Go=Math.abs,Do=bn(3),Ho=Ne,Uo=ee,Zo=at,Ro=ne,Wo=Kn,jo=Math.abs,Jo=bn(3),Ko=Ne,ti=ee,ni=at,ei=ne,ri=Kn,oi=Math.abs,ii=bn(3),ui=Kn,si=at,ci=ne,fi=Math.abs,li=bn(3),hi=Ne,ai=ee,vi=at,pi=ne,di=Kn,gi=Math.abs,mi=bn(3),_i=Ne,bi=ee,xi=at,Ii=ne,Ni=Kn,Si=Math.abs,Ei=bn(3);function Mi(t,n){const e=t.length;let r=n;const o=[];for(let n=0;n<e;n++){const e=t[n],i=r+e,u=i-r,s=r-(i-u)+(e-u);0!==s&&o.push(s),r=i}return 0===r&&0!==o.length||o.push(r),o}const wi=kn,yi=Nt,Pi=_t,Ti=Mi,Ai=Yt;function Bi(t){if(4===t.length)return Ci(t);if(3===t.length)return Oi(t);if(2===t.length)return zi(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[[n]],[[e]]]}(t);throw new Error("The given bezier curve must be of order <= cubic.")}function Ci(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[Ai(wi(s,n),Pi(3,wi(r,i))),Pi(3,Ti(yi(i,n),-2*r)),Pi(3,wi(r,n)),[n]],[Ai(wi(c,e),Pi(3,wi(o,u))),Pi(3,Ti(yi(u,e),-2*o)),Pi(3,wi(o,e)),[e]]]}function Oi(t){const[[n,e],[r,o],[i,u]]=t;return[[Ti(yi(i,n),-2*r),wi(2*r,2*n),[n]],[Ti(yi(u,e),-2*o),wi(2*o,2*e),[e]]]}function zi(t){const[[n,e],[r,o]]=t;return[[wi(r,n),[n]],[wi(o,e),[e]]]}const Yi=_t,Fi=Fn,ki=On,Vi=ct;function Li(t){const[[n,[e]],[r,[o]]]=t;if(0!==Vi(n)||0!==Vi(r))return{vₓ:ki(r),vᵧ:n,v:Fi(Yi(e,r),Yi(o,n))}}const $i=_t,Xi=Hn,qi=Yt;function Qi(t,n){const e=zi(t),[[r,[o]],[i,[u]]]=zi(n),{vₓ:s,vᵧ:c,v:f}=Li(e),l=Xi(r,s),h=Xi(i,c),a=qi(l,h),v=$i(o,s),p=$i(u,c),d=qi(v,p);return[a,qi(d,f)]}const Gi=_t,Di=Pe,Hi=Fn,Ui=Hn,Zi=On;function Ri(t){const[[n,e,[r]],[o,i,[u]]]=t;if(0===ct(n)&&0===ct(o))return Li([[e,[r]],[i,[u]]]);const s=Ui(n,i),c=Ui(e,o),f=Gi(u,n),l=Gi(r,o),h=Gi(u,e),a=Gi(r,i),v=Ui(n,n),p=Ui(n,o),d=Ui(o,o),g=Hi(s,c),m=Hi(f,l),_=Hi(h,a),b=Zi(d),x=Di(p),I=Zi(v),N=Ui(i,g),S=Di(Ui(o,m)),E=Hi(N,S),M=Di(Ui(n,m)),w=Ui(e,g),y=Hi(M,w),P=Ui(g,_),T=Ui(m,m);return{vₓₓ:b,vₓᵧ:x,vᵧᵧ:I,vₓ:E,vᵧ:y,v:Hi(P,T)}}const Wi=It,ji=_t,Ji=Hn,Ki=Yt,tu=Pe,nu=ct;function eu(t,n){const e=Oi(t);if(0===nu(e[0][0])&&0===nu(e[1][0]))return Qi([t[0],t[2]],n);const[[r,[o]],[i,[u]]]=zi(n),{vₓₓ:s,vₓᵧ:c,vᵧᵧ:f,vₓ:l,vᵧ:h,v:a}=Ri(e),v=Wi(o,o),p=ji(o,r),d=Wi(o,u),g=ji(o,i),m=Ji(r,r),_=ji(u,r),b=Ji(r,i),x=Wi(u,u),I=ji(u,i),N=Ji(i,i),S=Ji(m,s),E=Ji(N,f),M=Ji(b,c),w=Ki(S,E),y=Ki(w,M),P=Ji(p,s),T=Ji(I,f),A=Ki(g,_),B=Ji(A,c),C=tu(Ki(P,T)),O=Ki(C,B),z=Ji(r,l),Y=Ji(i,h),F=Ki(z,Y),k=Ki(O,F),V=Ji(v,s),L=Ji(d,c),$=Ji(x,f),X=Ki(V,L),q=Ki(X,$),Q=ji(o,l),G=ji(u,h),D=Ki(Q,G),H=Ki(q,D);return[y,k,Ki(H,a)]}const ru=Hn,ou=kn,iu=Fn,uu=ct,su=st,cu=mt,fu=Nt;function lu(t,n=!1){if(!n){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[n,e],[su(iu(cu(fu(r/4,i/4),3),fu(n/4,s/4))),su(iu(cu(fu(o/4,u/4),3),fu(e/4,c/4)))],[s,c]]}const[e,r,o,i]=t,u=function(t,n){const[[e,r],[o,i]]=t,[[u,s],[c,f]]=n,l=ou(o,e),h=ou(i,r),a=ou(c,u),v=ou(f,s),p=iu(ru(a,h),ru(v,l));if(0===uu(p))return;const d=ou(u,e),g=ou(s,r),m=iu(ru(g,l),ru(d,h)),_=su(m)/su(p);return[u+_*su(a),s+_*su(v)]}([e,r],[i,o]);if(void 0!==u)return[e,u,i]}const hu=_t,au=Hn,vu=Yt,pu=Fn,du=On,gu=Pe,mu=ct;function _u(t){const[[n,e,r,[o]],[i,u,s,[c]]]=t;if(0===mu(n)&&0===mu(i))return Ri([[e,r,[o]],[u,s,[c]]]);const f=au(n,s),l=au(r,i),h=au(n,u),a=au(e,u),v=au(e,i),p=au(n,n),d=au(u,u),g=au(i,i),m=au(r,n),_=au(e,e),b=au(s,i),x=au(u,i),I=au(e,n),N=au(n,i),S=hu(c,n),E=hu(o,i),M=hu(c,e),w=hu(o,u),y=au(e,s),P=au(r,u),T=hu(c,r),A=hu(o,s),B=pu(S,E),C=pu(f,l),O=pu(h,v),z=pu(M,w),Y=pu(y,P),F=pu(T,A),k=pu(b,d),V=pu(m,_),L=vu(v,h),$=vu(l,f),X=gu(C),q=au(B,B),Q=au(B,C),G=au(B,O),D=au(B,Y),H=au(C,C),U=au(X,z),Z=au(O,z),R=au(O,Y),W=au(O,F),j=au(du(i),g),J=au(hu(3,n),g),K=au(hu(-3,i),p),tt=au(n,p),nt=pu(hu(-3,B),Y),et=au(nt,g),rt=au(O,k),ot=vu(et,rt),it=au(X,x),ut=vu(ot,it),st=au(nt,p),ct=au(O,V),ft=vu(st,ct),lt=au(X,I),ht=vu(ft,lt),at=pu(a,function(t){const n=[];for(let e=0;e<t.length;e++)n.push(.5*t[e]);return n}($)),vt=au(nt,N),pt=au(C,L),dt=vu(vt,pt),gt=au(O,at),mt=gu(pu(gt,dt)),_t=hu(-3,q),bt=pu(_t,gu(D)),xt=vu(U,W),It=vu(bt,xt),Nt=gu(pu(Q,Z)),St=pu(G,H),Et=vu(St,R),Mt=au(i,It),wt=au(u,Nt),yt=au(s,Et),Pt=vu(wt,yt),Tt=vu(Mt,Pt),At=au(n,It),Bt=au(e,Nt),Ct=au(r,Et),Ot=vu(Bt,Ct),zt=du(vu(At,Ot)),Yt=pu(U,q),Ft=pu(Yt,D),kt=au(Et,F),Vt=au(Z,z),Lt=pu(kt,Vt),$t=au(B,Ft);return{vₓₓₓ:j,vₓₓᵧ:J,vₓᵧᵧ:K,vᵧᵧᵧ:tt,vₓₓ:ut,vₓᵧ:mt,vᵧᵧ:ht,vₓ:Tt,vᵧ:zt,v:vu($t,Lt)}}const bu=It,xu=_t,Iu=Hn,Nu=Yt,Su=Pe,Eu=ct;function Mu(t,n){const e=Ci(t);if(0===Eu(e[0][0])&&0===Eu(e[1][0]))return eu(lu(t),n);const[[r,[o]],[i,[u]]]=zi(n),{vₓₓₓ:s,vₓₓᵧ:c,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:h,vₓᵧ:a,vᵧᵧ:v,vₓ:p,vᵧ:d,v:g}=_u(e),m=bu(o,o),_=xu(o,r),b=bu(o,u),x=xu(o,i),I=Iu(r,r),N=xu(u,r),S=Iu(r,i),E=bu(u,u),M=xu(u,i),w=Iu(i,i),y=xu(o,s),P=Iu(bu(3,o),s),T=xu(o,c),A=xu(u,c),B=xu(o,f),C=xu(u,f),O=xu(u,l),z=Iu(bu(3,u),l),Y=Iu(r,s),F=Iu(r,f),k=Iu(i,c),V=Iu(i,l),L=Nu(Y,k),$=Nu(F,V),X=Iu(I,L),q=Iu(w,$),Q=Nu(X,q),G=Nu(P,A),D=Su(Nu(T,C)),H=Nu(B,z),U=Nu(G,h),Z=Nu(D,a),R=Nu(H,v),W=Iu(I,U),j=Iu(S,Z),J=Iu(w,R),K=Nu(W,j),tt=Nu(K,J),nt=Su(Nu(A,h)),et=Su(Nu(B,v)),rt=Nu(P,nt),ot=Nu(z,et),it=Nu(T,a),ut=Nu(C,a),st=Iu(_,rt),ct=Iu(M,ot),ft=Iu(x,it),lt=Iu(N,ut),ht=Iu(r,p),at=Iu(i,d),vt=Nu(st,ct),pt=Nu(ft,lt),dt=Nu(vt,pt),gt=Nu(ht,at),mt=Nu(dt,gt),_t=Nu(y,A),bt=Nu(O,B),xt=Nu(_t,h),It=Nu(bt,v),Nt=Iu(m,xt),St=Iu(E,It),Et=Iu(b,a),Mt=Nu(Nt,St),wt=Nu(Mt,Et),yt=xu(o,p),Pt=xu(u,d),Tt=Nu(yt,Pt),At=Nu(wt,Tt);return[Q,tt,mt,Nu(At,g)]}const wu=_t,yu=Hn,Pu=Yt,Tu=ct;function Au(t,n){const e=zi(t),[[r,o,[i]],[u,s,[c]]]=Oi(n);if(0===Tu(r)&&0===Tu(u))return Qi(t,[n[0],n[2]]);const{vₓ:f,vᵧ:l,v:h}=Li(e),a=yu(r,f),v=yu(u,l),p=Pu(a,v),d=yu(o,f),g=yu(s,l),m=Pu(d,g),_=wu(i,f),b=wu(c,l),x=Pu(_,b);return[p,m,Pu(x,h)]}const Bu=It,Cu=_t,Ou=Hn,zu=Yt,Yu=Pe,Fu=ct;function ku(t,n){const e=Oi(t);if(0===Fu(e[0][0])&&0===Fu(e[1][0]))return Au([t[0],t[2]],n);const[[r,o,[i]],[u,s,[c]]]=Oi(n);if(0===Fu(r)&&0===Fu(u))return eu(t,[n[0],n[2]]);const{vₓₓ:f,vₓᵧ:l,vᵧᵧ:h,vₓ:a,vᵧ:v,v:p}=Ri(e),d=Bu(i,i),g=Cu(i,o),m=Cu(i,r),_=Bu(i,c),b=Cu(i,s),x=Cu(i,u),I=Ou(o,o),N=Ou(o,r),S=Cu(c,o),E=Ou(o,s),M=Ou(o,u),w=Ou(r,s),y=Ou(r,r),P=Cu(c,r),T=Ou(r,u),A=Bu(c,c),B=Cu(c,s),C=Cu(c,u),O=Ou(s,s),z=Ou(s,u),Y=Ou(u,u),F=Ou(y,f),k=Ou(T,l),V=Ou(Y,h),L=zu(F,k),$=zu(L,V),X=Ou(N,f),q=Ou(z,h),Q=zu(M,w),G=Ou(Q,l),D=Yu(zu(X,q)),H=zu(D,G),U=zu(Yu(m),I),Z=zu(Yu(C),O),R=zu(x,E),W=zu(R,P),j=Ou(U,f),J=Ou(Z,h),K=Ou(W,l),tt=Ou(r,a),nt=Ou(u,v),et=zu(j,J),rt=zu(et,K),ot=zu(tt,nt),it=zu(rt,ot),ut=Ou(g,f),st=Ou(B,h),ct=zu(b,S),ft=Ou(ct,l),lt=Yu(zu(ut,st)),ht=Ou(o,a),at=Ou(s,v),vt=zu(lt,ft),pt=zu(ht,at),dt=zu(vt,pt),gt=Ou(d,f),mt=Ou(_,l),_t=Ou(A,h),bt=Cu(i,a),xt=Cu(c,v),It=zu(gt,mt),Nt=zu(It,_t),St=zu(bt,xt),Et=zu(Nt,St);return[$,H,it,dt,zu(Et,p)]}const Vu=It,Lu=_t,$u=Hn,Xu=Yt,qu=Pe,Qu=ct;function Gu(t,n){const e=Ci(t);if(0===Qu(e[0][0])&&0===Qu(e[1][0]))return ku(lu(t),n);const[[r,o,[i]],[u,s,[c]]]=Oi(n);if(0===Qu(r)&&0===Qu(u))return Mu(t,[n[0],n[2]]);const{vₓₓₓ:f,vₓₓᵧ:l,vₓᵧᵧ:h,vᵧᵧᵧ:a,vₓₓ:v,vₓᵧ:p,vᵧᵧ:d,vₓ:g,vᵧ:m,v:_}=_u(e),b=Vu(i,i),x=Lu(i,o),I=Lu(i,r),N=Vu(i,c),S=Lu(i,s),E=Lu(i,u),M=$u(o,o),w=$u(o,r),y=Lu(c,o),P=$u(o,s),T=$u(o,u),A=$u(r,s),B=$u(r,r),C=Lu(c,r),O=$u(r,u),z=Vu(c,c),Y=Lu(c,s),F=Lu(c,u),k=$u(s,s),V=$u(s,u),L=$u(u,u),$=$u(r,f),X=$u(r,h),q=$u(u,l),Q=$u(u,a),G=Xu($,q),D=Xu(X,Q),H=$u(B,G),U=$u(L,D),Z=Xu(H,U),R=Xu(I,M),W=Xu(F,k),j=Xu(qu(I),M),J=Xu(qu(F),k),K=Xu(qu(P),C),tt=Xu(qu(P),E),nt=Xu(qu(C),P),et=Xu(Lu(6,I),M),rt=Xu(Lu(6,F),k),ot=Xu(T,A),it=Xu(E,C),ut=Xu(qu(y),S),st=Xu(qu(S),y),ct=Xu(E,P),ft=Xu(ct,C),lt=Lu(3,B),ht=Lu(3,L),at=$u(lt,f),vt=$u(B,l),pt=qu($u(O,l)),dt=qu($u(O,h)),gt=$u(L,h),mt=$u(ht,a),_t=Xu(at,pt),bt=Xu(vt,dt),xt=Xu(_t,gt),It=Xu(bt,mt),Nt=$u(o,xt),St=$u(s,It),Et=Xu(Nt,St),Mt=$u(u,j),wt=$u(u,tt),yt=$u(r,K),Pt=$u(r,J),Tt=$u(Lu(3,r),R),At=$u(Lu(3,u),W),Bt=Xu(Mt,yt),Ct=Xu(wt,Pt),Ot=$u(Tt,f),zt=$u(At,a),Yt=$u(Bt,l),Ft=$u(Ct,h),kt=Xu(Ot,zt),Vt=Xu(Yt,Ft),Lt=$u(B,v),$t=$u(L,d),Xt=$u(O,p),qt=Xu(Lt,$t),Qt=Xu(kt,Vt),Gt=Xu(qt,Xt),Dt=Xu(Qt,Gt),Ht=$u(o,et),Ut=$u(s,rt),Zt=Lu(2*i,ot),Rt=$u(qu(s),it),Wt=$u(o,nt),jt=$u(o,J),Jt=Xu(Zt,Wt),Kt=Xu(Rt,jt),tn=$u(V,d),nn=$u(w,v),en=$u(ot,p),rn=Xu(tn,nn),on=$u(Ht,f),un=$u(Jt,l),sn=$u(Ut,a),cn=$u(Kt,h),fn=Xu(on,sn),ln=Xu(un,cn),hn=Xu(fn,ln),an=Xu(qu(rn),en),vn=Xu(hn,an),pn=$u(Vu(3,i),R),dn=$u(Vu(3,c),W),gn=Lu(i,tt),mn=Lu(i,J),_n=Lu(c,j),bn=Lu(c,K),xn=Xu(gn,_n),In=Xu(mn,bn),Nn=$u(pn,f),Sn=$u(dn,a),En=$u(xn,l),Mn=$u(In,h),wn=$u(j,v),yn=$u(J,d),Pn=$u(ft,p),Tn=$u(r,g),An=$u(u,m),Bn=Xu(Nn,Sn),Cn=Xu(En,Mn),On=Xu(wn,yn),zn=Xu(Bn,Cn),Yn=Xu(On,Pn),Fn=Xu(Tn,An),kn=Xu(zn,Yn),Vn=Xu(kn,Fn),Ln=$u(Vu(3,i),x),$n=$u(Vu(3,c),Y),Xn=Lu(i,ut),qn=Lu(c,st),Qn=$u(x,v),Gn=$u(Y,d),Dn=$u(S,p),Hn=$u(y,p),Un=qu(Xu(Qn,Gn)),Zn=Xu(Dn,Hn),Rn=$u(o,g),Wn=$u(s,m),jn=$u(Ln,f),Jn=$u($n,a),Kn=$u(Xn,l),te=$u(qn,h),ne=Xu(jn,Jn),ee=Xu(Kn,te),re=Xu(ne,ee),oe=Xu(Un,Zn),ie=Xu(Rn,Wn),ue=Xu(re,oe),se=Xu(ue,ie),ce=Lu(i,f),fe=Lu(i,h),le=Lu(c,l),he=Lu(c,a),ae=Xu(ce,le),ve=Xu(fe,he),pe=Xu(ae,v),de=Xu(ve,d),ge=$u(b,pe),me=$u(z,de),_e=$u(N,p),be=Lu(i,g),xe=Lu(c,m),Ie=Xu(ge,me),Ne=Xu(Ie,_e),Se=Xu(be,xe),Ee=Xu(Ne,Se);return[Z,Et,Dt,vn,Vn,se,Xu(Ee,_)]}const Du=_t,Hu=Hn,Uu=Yt,Zu=ct;function Ru(t,n){const e=zi(t),[[r,o,i,[u]],[s,c,f,[l]]]=Ci(n);if(0===Zu(r)&&0===Zu(s))return Au(t,lu(n));const{vₓ:h,vᵧ:a,v}=Li(e),p=Hu(r,h),d=Hu(s,a),g=Uu(p,d),m=Hu(o,h),_=Hu(c,a),b=Uu(m,_),x=Hu(i,h),I=Hu(f,a),N=Uu(x,I),S=Du(u,h),E=Du(l,a),M=Uu(S,E);return[g,b,N,Uu(M,v)]}const Wu=It,ju=_t,Ju=Hn,Ku=Yt,ts=Pe,ns=ct;function es(t,n){const e=Oi(t);if(0===ns(e[0][0])&&0===ns(e[1][0]))return Ru([t[0],t[2]],n);const[[r,o,i,[u]],[s,c,f,[l]]]=Ci(n);if(0===ns(r)&&0===ns(s))return ku(t,lu(n));const{vₓₓ:h,vₓᵧ:a,vᵧᵧ:v,vₓ:p,vᵧ:d,v:g}=Ri(e),m=Wu(u,u),_=ju(u,i),b=ju(u,o),x=ju(u,r),I=Wu(u,l),N=ju(u,f),S=ju(u,c),E=ju(u,s),M=Ju(i,i),w=Ju(i,o),y=Ju(i,r),P=ju(l,i),T=Ju(i,f),A=Ju(i,c),B=Ju(i,s),C=Ju(o,f),O=Ju(o,o),z=Ju(o,r),Y=ju(l,o),F=Ju(o,c),k=Ju(o,s),V=Ju(r,r),L=ju(l,r),$=Ju(r,f),X=Ju(r,c),q=Ju(r,s),Q=Wu(l,l),G=ju(l,f),D=ju(l,c),H=ju(l,s),U=Ju(f,f),Z=Ju(f,c),R=Ju(s,s),W=Ju(c,c),j=Ju(c,s),J=Ju(f,s),K=Ju(V,h),tt=Ju(q,a),nt=Ju(R,v),et=Ku(K,tt),rt=Ku(et,nt),ot=Ju(z,h),it=Ju(j,v),ut=Ku(ot,it),st=Ku(k,X),ct=Ju(st,a),ft=Ku(ts(ut),ct),lt=Ku(ts(y),O),ht=Ku(ts(J),W),at=Ku(B,F),vt=Ku(at,$),pt=Ju(lt,h),dt=Ju(ht,v),gt=Ku(pt,dt),mt=Ju(vt,a),_t=Ku(gt,mt),bt=Ku(x,w),xt=Ku(H,Z),It=Ku(E,A),Nt=Ku(C,L),St=Ku(It,Nt),Et=Ju(bt,h),Mt=Ju(xt,v),wt=ts(Ku(Et,Mt)),yt=Ju(St,a),Pt=Ju(r,p),Tt=Ju(s,d),At=Ku(Pt,Tt),Bt=Ku(wt,yt),Ct=Ku(Bt,At),Ot=Ku(ts(b),M),zt=Ku(ts(D),U),Yt=Ku(S,T),Ft=Ku(Yt,Y),kt=Ju(Ot,h),Vt=Ju(zt,v),Lt=Ju(Ft,a),$t=Ku(kt,Vt),Xt=Ku($t,Lt),qt=Ju(o,p),Qt=Ju(c,d),Gt=Ku(qt,Qt),Dt=Ku(Xt,Gt),Ht=Ju(_,h),Ut=Ju(G,v),Zt=Ku(N,P),Rt=Ju(Zt,a),Wt=ts(Ku(Ht,Ut)),jt=Ku(Wt,Rt),Jt=Ju(i,p),Kt=Ju(f,d),tn=Ku(Jt,Kt),nn=Ku(jt,tn),en=Ju(m,h),rn=Ju(I,a),on=Ju(Q,v),un=ju(u,p),sn=ju(l,d),cn=Ku(en,rn),fn=Ku(cn,on),ln=Ku(un,sn),hn=Ku(fn,ln);return[rt,ft,_t,Ct,Dt,nn,Ku(hn,g)]}const rs=It,os=_t,is=Hn,us=Yt,ss=Pe,cs=ct,fs=[[function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=oo(t),[[u,[,s]],[c,[,f]]]=Kr(n),l=u[1],h=c[1],a=e[1],v=r[1],p=o[1],d=l*a,g=2*co(d),m=so(u,e),_=h*v,b=2*co(_),x=so(c,r),I=d+_,N=io(m,x),S=g+b+co(I),E=s*a,M=uo(s,e),w=co(E),y=f*v,P=uo(f,r),T=co(y),A=E+y,B=io(M,P),C=w+T+co(A),O=io(B,o),z=C+i+co(A+p);return{coeffs:[N,O],errBound:[fo*S,fo*z]}},function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=oo(t),{coeffs:[[u,s,[,c]],[f,l,[,h]]],errorBound:[[a],[v]]}=Jr(n),p=e[1],d=r[1],g=o[1],m=Go(p),_=Go(d),b=(Go(g),s[1]),x=u[1],I=l[1],N=f[1],S=x*p,E=Qo(u,e),M=a*m+2*Go(S),w=N*d,y=Qo(f,r),P=v*_+2*Go(w),T=S+w,A=Xo(E,y),B=M+P+Go(T),C=b*p,O=Qo(s,e),z=2*Go(C),Y=I*d,F=Qo(l,r),k=2*Go(Y),V=C+Y,L=Xo(O,F),$=z+k+Go(V),X=qo(c,e),q=c*p,Q=Go(q),G=qo(h,r),D=h*d,H=Go(D),U=q+D,Z=Xo(X,G),R=Q+H+Go(U),W=U+g,j=Xo(Z,o),J=R+i+Go(W);return{coeffs:[A,L,j],errBound:[Do*B,Do*$,Do*J]}},function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=oo(t),{coeffs:[[u,s,c,[,f]],[l,h,a,[,v]]],errorBound:[[p,d,g],[m,_,b]]}=jr(n),x=fi(e[1]),I=fi(r[1]),N=ci(u,e),S=p*x+2*fi(N[1]),E=ci(l,r),M=m*I+2*fi(E[1]),w=ui(N,E),y=S+M+fi(w[1]),P=ci(s,e),T=d*x+2*fi(P[1]),A=ci(h,r),B=_*I+2*fi(A[1]),C=ui(P,A),O=T+B+fi(C[1]),z=ci(c,e),Y=g*x+2*fi(z[1]),F=ci(a,r),k=b*I+2*fi(F[1]),V=ui(z,F),L=Y+k+fi(V[1]),$=si(f,e),X=fi($[1]),q=si(v,r),Q=fi(q[1]),G=ui($,q),D=X+Q+fi(G[1]),H=ui(G,o),U=D+i+fi(H[1]);return{coeffs:[w,C,V,H],errBound:[li*y,li*O,li*L,li*U]}}],[function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:s},errorBound:{vₓₓ_:c,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:v}}=_o(t),[[p,[,d]],[g,[,m]]]=Kr(n),_=e[1],b=r[1],x=o[1],I=i[1],N=u[1],S=s[1],E=Eo(_),M=Eo(b),w=Eo(x),y=p[1],P=g[1],T=Eo(d),A=Eo(y),B=Eo(m),C=Eo(P),O=d*d,z=d*y,Y=d*m,F=d*P,k=y*y,V=y*m,L=y*P,$=m*m,X=m*P,q=P*P,Q=bo(d,d),G=Io(d,p),D=Eo(z),H=bo(d,m),U=Io(d,g),Z=Eo(F),R=Eo(k),W=No(p,p),j=2*R,J=Io(m,p),K=Eo(V),tt=Eo(L),nt=No(p,g),et=2*tt,rt=bo(m,m),ot=Io(m,g),it=Eo(X),ut=Eo(q),st=No(g,g),ct=2*ut,ft=k*_,lt=No(W,e),ht=j*E*R*c+2*Eo(ft),at=q*x,vt=No(st,o),pt=ct*w*ut*l+2*Eo(at),dt=L*b,gt=No(nt,r),mt=et*M*tt*f+2*Eo(dt),_t=ft+at,bt=So(lt,vt),xt=ht+pt+Eo(_t),It=_t+dt,Nt=So(bt,gt),St=xt+mt+Eo(It),Et=z*_,Mt=No(G,e),wt=D*(E+c)+2*Eo(Et),yt=X*x,Pt=No(ot,o),Tt=it*(w+l)+2*Eo(yt),At=F+V,Bt=So(U,J),Ct=Z+K+Eo(At),Ot=At*b,zt=No(Bt,r),Yt=Ct*M+Eo(At)*f+2*Eo(Ot),Ft=2*(Et+yt),kt=xo(So(Mt,Pt)),Vt=2*(wt+Tt)+Eo(Ft),Lt=Ft+Ot,$t=So(kt,zt),Xt=Vt+Yt+Eo(Lt),qt=y*I,Qt=No(p,i),Gt=A*h+2*Eo(qt),Dt=P*N,Ht=No(g,u),Ut=C*a+2*Eo(Dt),Zt=qt+Dt,Rt=So(Qt,Ht),Wt=Gt+Ut+Eo(Zt),jt=Lt+Zt,Jt=So($t,Rt),Kt=Xt+Wt+Eo(jt),tn=O*_,nn=No(Q,e),en=2*Eo(tn),rn=Y*b,on=No(H,r),un=2*Eo(rn),sn=$*x,cn=No(rt,o),fn=2*Eo(sn),ln=tn+rn,hn=So(nn,on),an=en+un+Eo(ln),vn=ln+sn,pn=So(hn,cn),dn=an+fn+Eo(vn),gn=d*I,mn=Io(d,i),_n=T*h+Eo(gn),bn=m*N,xn=Io(m,u),In=B*a+Eo(bn),Nn=gn+bn,Sn=So(mn,xn),En=_n+In+Eo(Nn),Mn=vn+Nn,wn=So(pn,Sn),yn=dn+En+Eo(Mn),Pn=Mn+S,Tn=So(wn,s),An=yn+v+Eo(Pn);return{coeffs:[Nt,Jt,Tn],errBound:[Mo*St,Mo*Kt,Mo*An]}},function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:s},errorBound:{vₓₓ_:c,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:v}}=_o(t),{coeffs:[[p,d,[,g]],[m,_,[,b]]],errorBound:[[x],[I]]}=Jr(n),N=e[1],S=r[1],E=o[1],M=i[1],w=u[1],y=s[1],P=jo(N),T=jo(S),A=jo(E),B=jo(M),C=jo(w),O=d[1],z=p[1],Y=_[1],F=m[1],k=jo(g),V=jo(O),L=jo(z),$=jo(b),X=jo(Y),q=jo(F),Q=g*g,G=g*O,D=g*z,H=g*b,U=g*Y,Z=g*F,R=O*O,W=O*z,j=O*b,J=O*Y,K=O*F,tt=z*Y,nt=z*z,et=z*b,rt=z*F,ot=b*b,it=b*Y,ut=b*F,st=Y*Y,ct=Y*F,ft=F*F,lt=jo(Q),ht=jo(H),at=jo(ot),vt=Ho(g,g),pt=Zo(g,d),dt=jo(G),gt=Zo(g,p),mt=jo(D),_t=Ho(g,b),bt=Zo(g,_),xt=jo(U),It=Zo(g,m),Nt=jo(Z),St=Ro(d,d),Et=2*jo(R),Mt=Ro(d,p),wt=jo(W),yt=V*x+2*wt,Pt=Zo(b,d),Tt=jo(j),At=Ro(d,_),Bt=2*jo(J),Ct=Ro(d,m),Ot=V*I+2*jo(K),zt=Ro(p,_),Yt=x*X+2*jo(tt),Ft=Ro(p,p),kt=jo(nt),Vt=2*(x*L+kt),Lt=Zo(b,p),$t=jo(et),Xt=Ro(p,m),qt=jo(rt),Qt=x*q+L*I+2*qt,Gt=Ho(b,b),Dt=Zo(b,_),Ht=jo(it),Ut=Zo(b,m),Zt=jo(ut),Rt=Ro(_,_),Wt=2*jo(st),jt=Ro(_,m),Jt=jo(ct),Kt=X*I+2*Jt,tn=Ro(m,m),nn=jo(ft),en=2*(I*q+nn),rn=nt*N,on=Ro(Ft,e),un=Vt*P+kt*c+2*jo(rn),sn=rt*S,cn=Ro(Xt,r),fn=Qt*T+qt*f+2*jo(sn),ln=ft*E,hn=Ro(tn,o),an=en*A+nn*l+2*jo(ln),vn=rn+sn,pn=Wo(on,cn),dn=un+fn+jo(vn),gn=vn+ln,mn=Wo(pn,hn),_n=dn+an+jo(gn),bn=W*N,xn=Ro(Mt,e),In=yt*P+wt*c+2*jo(bn),Nn=ct*E,Sn=Ro(jt,o),En=Kt*A+Jt*l+2*jo(Nn),Mn=K+tt,wn=Wo(Ct,zt),yn=jo(Mn),Pn=Ot+Yt+yn,Tn=Mn*S,An=Ro(wn,r),Bn=Pn*T+yn*f+2*jo(Tn),Cn=2*(bn+Nn),On=Uo(Wo(xn,Sn)),zn=2*(In+En)+jo(Cn),Yn=Cn+Tn,Fn=Wo(On,An),kn=zn+Bn+jo(Yn),Vn=2*D+R,Ln=jo(Vn),$n=Wo(Uo(gt),St),Xn=2*mt+Et+jo(Vn),qn=2*ut+st,Qn=jo(qn),Gn=Wo(Uo(Ut),Rt),Dn=2*Zt+Wt+jo(qn),Hn=Z+J,Un=(jo(Hn),Wo(It,At)),Zn=Nt+Bt+jo(Hn),Rn=Hn+et,Wn=Wo(Un,Lt),jn=jo(Rn),Jn=Zn+$t+jn,Kn=Vn*N,te=Ro($n,e),ne=Xn*P+Ln*c+2*jo(Kn),ee=qn*E,re=Ro(Gn,o),oe=Dn*A+Qn*l+2*jo(ee),ie=Rn*S,ue=Ro(Wn,r),se=Jn*T+jn*f+2*jo(ie),ce=z*M,fe=Ro(p,i),le=x*B+L*h+jo(ce),he=F*w,ae=Ro(m,u),ve=I*C+q*a+jo(he),pe=Kn+ee,de=Wo(te,re),ge=ne+oe+jo(pe),me=pe+ie,_e=Wo(de,ue),be=ge+se+jo(me),xe=ce+he,Ie=Wo(fe,ae),Ne=le+ve+jo(xe),Se=me+xe,Ee=Wo(_e,Ie),Me=be+Ne+jo(Se),we=G*N,ye=Ro(pt,e),Pe=dt*(P+c)+2*jo(we),Te=it*E,Ae=Ro(Dt,o),Be=Ht*(A+l)+2*jo(Te),Ce=U+j,Oe=Wo(bt,Pt),ze=jo(Ce),Ye=xt+Tt+ze,Fe=Ce*S,ke=Ro(Oe,r),Ve=Ye*T+ze*f+2*jo(Fe),Le=2*(we+Te),$e=Uo(Wo(ye,Ae)),Xe=2*(Pe+Be)+jo(Le),qe=O*M,Qe=Ro(d,i),Ge=V*h+2*jo(qe),De=Y*w,He=Ro(_,u),Ue=X*a+2*jo(De),Ze=Le+Fe,Re=Wo($e,ke),We=Xe+Ve+jo(Ze),je=qe+De,Je=Wo(Qe,He),Ke=Ge+Ue+jo(je),tr=Ze+je,nr=Wo(Re,Je),er=We+Ke+jo(tr),rr=Q*N,or=Ro(vt,e),ir=lt*c+2*jo(rr),ur=H*S,sr=Ro(_t,r),cr=ht*f+2*jo(ur),fr=ot*E,lr=Ro(Gt,o),hr=at*l+2*jo(fr),ar=g*M,vr=Zo(g,i),pr=k*h+jo(ar),dr=b*w,gr=Zo(b,u),mr=$*a+jo(dr),_r=rr+ur,br=Wo(or,sr),xr=ir+cr+jo(_r),Ir=_r+fr,Nr=Wo(br,lr),Sr=xr+hr+jo(Ir),Er=ar+dr,Mr=Wo(vr,gr),wr=pr+mr+jo(Er),yr=Ir+Er,Pr=Wo(Nr,Mr),Tr=Sr+wr+jo(yr),Ar=yr+y,Br=Wo(Pr,s),Cr=Tr+v+jo(Ar);return{coeffs:[mn,Fn,Ee,nr,Br],errBound:[Jo*_n,Jo*kn,Jo*Me,Jo*er,Jo*Cr]}},function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:s},errorBound:{vₓₓ_:c,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:v}}=_o(t),{coeffs:[[p,d,g,[,m]],[_,b,x,[,I]]],errorBound:[[N,S,E],[M,w,y]]}=jr(n),P=e[1],T=r[1],A=o[1],B=i[1],C=u[1],O=s[1],z=gi(P),Y=gi(T),F=gi(A),k=gi(B),V=gi(C),L=g[1],$=d[1],X=p[1],q=x[1],Q=b[1],G=_[1],D=gi(m),H=gi(L),U=gi($),Z=gi(X),R=gi(I),W=gi(q),j=gi(Q),J=gi(G),K=m*m,tt=m*L,nt=m*$,et=m*X,rt=m*I,ot=m*q,it=m*Q,ut=m*G,st=L*L,ct=L*$,ft=L*X,lt=L*I,ht=L*q,at=L*Q,vt=L*G,pt=$*q,dt=$*$,gt=$*X,mt=$*I,_t=$*Q,bt=$*G,xt=X*X,It=X*I,Nt=X*q,St=X*Q,Et=X*G,Mt=I*I,wt=I*q,yt=I*Q,Pt=I*G,Tt=q*q,At=q*Q,Bt=G*G,Ct=Q*Q,Ot=Q*G,zt=q*G,Yt=hi(m,m),Ft=gi(K),kt=vi(m,g),Vt=gi(tt),Lt=D*E+Vt,$t=vi(m,d),Xt=D*S+gi(nt),qt=vi(m,p),Qt=D*N+gi(et),Gt=hi(m,I),Dt=gi(rt),Ht=vi(m,x),Ut=D*y+gi(ot),Zt=vi(m,b),Rt=D*w+gi(it),Wt=vi(m,_),jt=D*M+gi(ut),Jt=pi(g,g),Kt=E*H+H*E+2*gi(st),tn=pi(g,d),nn=E*U+H*S+2*gi(ct),en=pi(g,p),rn=E*Z+H*N+2*gi(ft),on=vi(I,g),un=R*E+gi(lt),sn=pi(g,x),cn=E*W+H*y+2*gi(ht),fn=pi(g,b),ln=E*j+H*w+2*gi(at),hn=pi(g,_),an=E*J+H*M+2*gi(vt),vn=pi(d,x),pn=S*W+U*y+2*gi(pt),dn=pi(d,d),gn=S*U+U*S+2*gi(dt),mn=pi(d,p),_n=gi(gt),bn=S*Z+U*N+2*_n,xn=vi(I,d),In=R*S+gi(mt),Nn=pi(d,b),Sn=S*j+U*w+2*gi(_t),En=pi(d,_),Mn=S*J+U*M+2*gi(bt),wn=pi(p,p),yn=gi(xt),Pn=N*Z+Z*N+2*yn,Tn=vi(I,p),An=R*N+gi(It),Bn=pi(p,x),Cn=N*W+Z*y+2*gi(Nt),On=pi(p,b),zn=N*j+Z*w+2*gi(St),Yn=pi(p,_),Fn=gi(Et),kn=N*J+Z*M+2*Fn,Vn=hi(I,I),Ln=gi(Mt),$n=vi(I,x),Xn=gi(wt),qn=R*y+Xn,Qn=vi(I,b),Gn=R*w+gi(yt),Dn=vi(I,_),Hn=R*M+gi(Pt),Un=pi(x,x),Zn=y*W+W*y+2*gi(Tt),Rn=pi(x,b),Wn=y*j+W*w+2*gi(At),jn=pi(_,_),Jn=gi(Bt),Kn=M*J+J*M+2*Jn,te=pi(b,b),ne=w*j+j*w+2*gi(Ct),ee=pi(b,_),re=gi(Ot),oe=w*J+j*M+2*re,ie=pi(x,_),ue=y*J+W*M+2*gi(zt),se=xt*P,ce=pi(wn,e),fe=Pn*z+yn*c+2*gi(se),le=Et*T,he=pi(Yn,r),ae=kn*Y+Fn*f+2*gi(le),ve=Bt*A,pe=pi(jn,o),de=Kn*F+Jn*l+2*gi(ve),ge=se+le,me=di(ce,he),_e=fe+ae+gi(ge),be=ge+ve,xe=di(me,pe),Ie=_e+de+gi(be),Ne=gt*P,Se=pi(mn,e),Ee=bn*z+_n*c+2*gi(Ne),Me=Ot*A,we=pi(ee,o),ye=oe*F+re*l+2*gi(Me),Pe=Ne+Me,Te=di(Se,we),Ae=Ee+ye+gi(Pe),Be=bt+St,Ce=di(En,On),Oe=gi(Be),ze=Mn+zn+Oe,Ye=Be*T,Fe=pi(Ce,r),ke=ze*Y+Oe*f+2*gi(Ye),Ve=2*Pe+Ye,Le=di(ai(Te),Fe),$e=2*Ae+ke+gi(Ve),Xe=2*ft+dt,qe=di(ai(en),dn),Qe=gi(Xe),Ge=2*rn+gn+gi(Xe),De=2*zt+Ct,He=di(ai(ie),te),Ue=gi(De),Ze=2*ue+ne+gi(De),Re=vt+_t,We=di(hn,Nn),je=an+Sn+gi(Re),Je=Re+Nt,Ke=di(We,Bn),tr=gi(Je),nr=je+Cn+tr,er=Xe*P,rr=pi(qe,e),or=Ge*z+Qe*c+2*gi(er),ir=De*A,ur=pi(He,o),sr=Ze*F+Ue*l+2*gi(ir),cr=er+ir,fr=di(rr,ur),lr=or+sr+gi(cr),hr=Je*T,ar=pi(Ke,r),vr=nr*Y+tr*f+2*gi(hr),pr=cr+hr,dr=di(fr,ar),gr=lr+vr+gi(pr),mr=et+ct,_r=di(qt,tn),br=gi(mr),xr=Qt+nn+br,Ir=Pt+At,Nr=di(Dn,Rn),Sr=gi(Ir),Er=Hn+Wn+Sr,Mr=ut+at,wr=di(Wt,fn),yr=jt+ln+gi(Mr),Pr=pt+It,Tr=di(vn,Tn),Ar=pn+An+gi(Pr),Br=Mr+Pr,Cr=di(wr,Tr),Or=gi(Br),zr=yr+Ar+Or,Yr=mr*P,Fr=pi(_r,e),kr=xr*z+br*c+2*gi(Yr),Vr=Ir*A,Lr=pi(Nr,o),$r=Er*F+Sr*l+2*gi(Vr),Xr=2*(Yr+Vr),qr=ai(di(Fr,Lr)),Qr=2*(kr+$r)+gi(Xr),Gr=Br*T,Dr=pi(Cr,r),Hr=zr*Y+Or*f+2*gi(Gr),Ur=X*B,Zr=pi(p,i),Rr=N*k+Z*h+2*gi(Ur),Wr=G*C,Jr=pi(_,u),Kr=M*V+J*a+2*gi(Wr),to=Ur+Wr,no=di(Zr,Jr),eo=Rr+Kr+gi(to),ro=Xr+Gr,oo=di(qr,Dr),io=Qr+Hr+gi(ro),uo=ro+to,so=di(oo,no),co=io+eo+gi(uo),fo=2*nt+st,lo=di(ai($t),Jt),ho=gi(fo),ao=2*Xt+Kt+ho,vo=2*yt+Tt,po=di(ai(Qn),Un),go=gi(vo),mo=2*Gn+Zn+go,bo=it+ht,xo=di(Zt,sn),Io=Rt+cn+gi(bo),No=bo+mt,So=di(xo,xn),Eo=gi(No),Mo=Io+In+Eo,wo=fo*P,yo=pi(lo,e),Po=ao*z+ho*c+2*gi(wo),To=vo*A,Ao=pi(po,o),Bo=mo*F+go*l+2*gi(To),Co=No*T,Oo=pi(So,r),zo=Mo*Y+Eo*f+2*gi(Co),Yo=wo+To,Fo=di(yo,Ao),ko=Po+Bo+gi(Yo),Vo=Yo+Co,Lo=di(Fo,Oo),$o=ko+zo+gi(Vo),Xo=$*B,qo=pi(d,i),Qo=S*k+U*h+2*gi(Xo),Go=Q*C,Do=pi(b,u),Ho=w*V+j*a+2*gi(Go),Uo=Xo+Go,Zo=di(qo,Do),Ro=Qo+Ho+gi(Uo),Wo=Vo+Uo,jo=di(Lo,Zo),Jo=$o+Ro+gi(Wo),Ko=tt*P,ti=pi(kt,e),ni=Lt*z+Vt*c+2*gi(Ko),ei=wt*A,ri=pi($n,o),oi=qn*F+Xn*l+2*gi(ei),ii=ot+lt,ui=di(Ht,on),si=gi(ii),ci=Ut+un+si,fi=ii*T,li=pi(ui,r),_i=ci*Y+si*f+2*gi(fi),bi=2*(Ko+ei),xi=ai(di(ti,ri)),Ii=2*(ni+oi)+gi(bi),Ni=bi+fi,Si=di(xi,li),Ei=Ii+_i+gi(Ni),Mi=L*B,wi=pi(g,i),yi=E*k+H*h+2*gi(Mi),Pi=q*C,Ti=pi(x,u),Ai=y*V+W*a+2*gi(Pi),Bi=Mi+Pi,Ci=di(wi,Ti),Oi=yi+Ai+gi(Bi),zi=Ni+Bi,Yi=di(Si,Ci),Fi=Ei+Oi+gi(zi),ki=K*P,Vi=pi(Yt,e),Li=Ft*c+2*gi(ki),$i=rt*T,Xi=pi(Gt,r),qi=Dt*f+2*gi($i),Qi=Mt*A,Gi=pi(Vn,o),Di=Ln*l+2*gi(Qi),Hi=m*B,Ui=vi(m,i),Zi=D*h+gi(Hi),Ri=I*C,Wi=vi(I,u),ji=R*a+gi(Ri),Ji=ki+$i,Ki=di(Vi,Xi),tu=Li+qi+gi(Ji),nu=Ji+Qi,eu=di(Ki,Gi),ru=tu+Di+gi(nu),ou=Hi+Ri,iu=di(Ui,Wi),uu=Zi+ji+gi(ou),su=nu+ou,cu=di(eu,iu),fu=ru+uu+gi(su),lu=su+O,hu=di(cu,s),au=fu+v+gi(lu);return{coeffs:[xe,Le,dr,so,jo,Yi,hu],errBound:[mi*Ie,mi*$e,mi*gr,mi*co,mi*Jo,mi*Fi,mi*au]}}],[function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:s,vᵧᵧ:c,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:v,vₓᵧᵧ_:p,vᵧᵧᵧ_:d,vₓₓ_:g,vₓᵧ_:m,vᵧᵧ_:_,vₓ_:b,vᵧ_:x,v_:I}}=Oo(t),[[N,[,S]],[E,[,M]]]=Kr(n),w=e[1],y=r[1],P=o[1],T=i[1],A=u[1],B=s[1],C=c[1],O=f[1],z=l[1],Y=h[1],F=N[1],k=E[1],V=Lo(S),L=Lo(F),$=Lo(M),X=Lo(k),q=S*S,Q=S*F,G=S*M,D=S*k,H=F*F,U=F*M,Z=F*k,R=M*M,W=M*k,j=k*k,J=zo(S,S),K=Fo(S,N),tt=Lo(Q),nt=zo(S,M),et=Fo(S,E),rt=Lo(D),ot=ko(N,N),it=2*Lo(H),ut=Fo(M,N),st=Lo(U),ct=ko(N,E),ft=2*Lo(Z),lt=zo(M,M),ht=Fo(M,E),at=Lo(W),vt=ko(E,E),pt=2*Lo(j),dt=Lo(q),gt=Lo(Q),mt=Lo(G),_t=Lo(D),bt=Lo(H),xt=Lo(U),It=Lo(Z),Nt=Lo(R),St=Lo(W),Et=Lo(j),Mt=S*w,wt=Fo(S,e),yt=V*a+Lo(Mt),Pt=3*S,Tt=zo(3,S),At=Lo(Pt),Bt=Pt*w,Ct=ko(Tt,e),Ot=At*a+2*Lo(Bt),zt=S*y,Yt=Fo(S,r),Ft=V*v+Lo(zt),kt=M*y,Vt=Fo(M,r),Lt=$*v+Lo(kt),$t=S*P,Xt=Fo(S,o),qt=V*p+Lo($t),Qt=M*P,Gt=Fo(M,o),Dt=$*p+Lo(Qt),Ht=M*T,Ut=Fo(M,i),Zt=$*d+Lo(Ht),Rt=3*M,Wt=zo(3,M),jt=Lo(Rt),Jt=Rt*T,Kt=ko(Wt,i),tn=jt*d+2*Lo(Jt),nn=F*w,en=ko(N,e),rn=L*a+2*Lo(nn),on=F*P,un=ko(N,o),sn=L*p+2*Lo(on),cn=k*y,fn=ko(E,r),ln=X*v+2*Lo(cn),hn=k*T,an=ko(E,i),vn=X*d+2*Lo(hn),pn=nn+cn,dn=Vo(en,fn),gn=Lo(pn),mn=rn+ln+gn,_n=on+hn,bn=Vo(un,an),xn=Lo(_n),In=sn+vn+xn,Nn=H*pn,Sn=ko(ot,dn),En=it*gn+bt*mn+2*Lo(Nn),Mn=j*_n,wn=ko(vt,bn),yn=pt*xn+Et*In+2*Lo(Mn),Pn=Nn+Mn,Tn=Vo(Sn,wn),An=En+yn+Lo(Pn),Bn=Bt+kt,Cn=Vo(Ct,Vt),On=Ot+Lt+Lo(Bn),zn=2*(zt+Qt),Yn=Yo(Vo(Yt,Gt)),Fn=2*(Ft+Dt)+Lo(zn),kn=$t+Jt,Vn=Vo(Xt,Kt),Ln=qt+tn+Lo(kn),$n=Bn+A,Xn=Vo(Cn,u),qn=Lo($n),Qn=On+g+qn,Gn=zn+B,Dn=Vo(Yn,s),Hn=Lo(Gn),Un=Fn+m+Hn,Zn=kn+C,Rn=Vo(Vn,c),Wn=Lo(Zn),jn=Ln+_+Wn,Jn=H*$n,Kn=ko(ot,Xn),te=it*qn+bt*Qn+2*Lo(Jn),ne=Z*Gn,ee=ko(ct,Dn),re=ft*Hn+It*Un+2*Lo(ne),oe=j*Zn,ie=ko(vt,Rn),ue=pt*Wn+Et*jn+2*Lo(oe),se=Jn+ne,ce=Vo(Kn,ee),fe=te+re+Lo(se),le=se+oe,he=Vo(ce,ie),ae=fe+ue+Lo(le),ve=2*(kt+A),pe=Yo(Vo(Vt,u)),de=2*(Lt+g)+Lo(ve),ge=2*($t+C),me=Yo(Vo(Xt,c)),_e=2*(qt+_)+Lo(ge),be=Bt+ve,xe=Vo(Ct,pe),Ie=Lo(be),Ne=Ot+de+Ie,Se=Jt+ge,Ee=Vo(Kt,me),Me=Lo(Se),we=tn+_e+Me,ye=zt+B,Pe=Vo(Yt,s),Te=Lo(ye),Ae=Ft+m+Te,Be=Qt+B,Ce=Vo(Gt,s),Oe=Lo(Be),ze=Dt+m+Oe,Ye=Q*be,Fe=ko(K,xe),ke=tt*Ie+gt*Ne+2*Lo(Ye),Ve=W*Se,Le=ko(ht,Ee),$e=at*Me+St*we+2*Lo(Ve),Xe=D*ye,qe=ko(et,Pe),Qe=rt*Te+_t*Ae+2*Lo(Xe),Ge=U*Be,De=ko(ut,Ce),He=st*Oe+xt*ze+2*Lo(Ge),Ue=F*O,Ze=ko(N,f),Re=L*b+2*Lo(Ue),We=k*z,je=ko(E,l),Je=X*x+2*Lo(We),Ke=Ye+Ve,tr=Vo(Fe,Le),nr=ke+$e+Lo(Ke),er=Xe+Ge,rr=Vo(qe,De),or=Qe+He+Lo(er),ir=Ke+er,ur=Vo(tr,rr),sr=nr+or+Lo(ir),cr=Ue+We,fr=Vo(Ze,je),lr=Re+Je+Lo(cr),hr=ir+cr,ar=Vo(ur,fr),vr=sr+lr+Lo(hr),pr=Mt+kt,dr=Vo(wt,Vt),gr=yt+Lt+Lo(pr),mr=Ht+$t,_r=Vo(Ut,Xt),br=Zt+qt+Lo(mr),xr=pr+A,Ir=Vo(dr,u),Nr=gr+g+Lo(xr),Sr=mr+C,Er=Vo(_r,c),Mr=br+_+Lo(Sr),wr=q*xr,yr=ko(J,Ir),Pr=dt*Nr+2*Lo(wr),Tr=R*Sr,Ar=ko(lt,Er),Br=Nt*Mr+2*Lo(Tr),Cr=G*B,Or=ko(nt,s),zr=mt*m+2*Lo(Cr),Yr=wr+Tr,Fr=Vo(yr,Ar),kr=Pr+Br+Lo(Yr),Vr=Yr+Cr,Lr=Vo(Fr,Or),$r=kr+zr+Lo(Vr),Xr=S*O,qr=Fo(S,f),Qr=V*b+Lo(Xr),Gr=M*z,Dr=Fo(M,l),Hr=$*x+Lo(Gr),Ur=Xr+Gr,Zr=Vo(qr,Dr),Rr=Qr+Hr+Lo(Ur),Wr=Vr+Ur,jr=Vo(Lr,Zr),Jr=$r+Rr+Lo(Wr),to=Wr+Y,no=Vo(jr,h),eo=Jr+I+Lo(to);return{coeffs:[Tn,he,ar,no],errBound:[$o*An,$o*ae,$o*vr,$o*eo]}},function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:s,vᵧᵧ:c,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:v,vₓᵧᵧ_:p,vᵧᵧᵧ_:d,vₓₓ_:g,vₓᵧ_:m,vᵧᵧ_:_,vₓ_:b,vᵧ_:x,v_:I}}=Oo(t),{coeffs:[[N,S,[,E]],[M,w,[,y]]],errorBound:[[P],[T]]}=Jr(n),A=e[1],B=r[1],C=o[1],O=i[1],z=u[1],Y=s[1],F=c[1],k=f[1],V=l[1],L=h[1],$=oi(A),X=oi(B),q=oi(C),Q=oi(O),G=oi(z),D=oi(F),H=oi(Y),U=oi(k),Z=oi(V),R=S[1],W=N[1],j=w[1],J=M[1],K=oi(E),tt=oi(R),nt=oi(W),et=oi(y),rt=oi(j),ot=oi(J),it=E*E,ut=E*R,st=E*W,ct=E*y,ft=E*j,lt=E*J,ht=R*R,at=R*W,vt=R*y,pt=R*j,dt=R*J,gt=W*j,mt=W*W,_t=W*y,bt=W*J,xt=y*y,It=y*j,Nt=y*J,St=j*j,Et=j*J,Mt=J*J,wt=Ko(E,E),yt=ni(E,S),Pt=oi(ut),Tt=ni(E,N),At=K*P+oi(st),Bt=Ko(E,y),Ct=ni(E,w),Ot=oi(ft),zt=ni(E,M),Yt=K*T+oi(lt),Ft=ei(S,S),kt=2*oi(ht),Vt=ei(S,N),Lt=tt*P+2*oi(at),$t=ni(y,S),Xt=oi(vt),qt=ei(S,w),Qt=2*oi(pt),Gt=ei(S,M),Dt=tt*T+2*oi(dt),Ht=ei(N,w),Ut=P*rt+2*oi(gt),Zt=ei(N,N),Rt=2*(P*nt+oi(mt)),Wt=ni(y,N),jt=et*P+oi(_t),Jt=ei(N,M),Kt=P*ot+nt*T+2*oi(bt),tn=Ko(y,y),nn=ni(y,w),en=oi(It),rn=ni(y,M),on=et*T+oi(Nt),un=ei(w,w),sn=2*oi(St),cn=ei(w,M),fn=rt*T+2*oi(Et),ln=ei(M,M),hn=2*(T*ot+oi(Mt)),an=oi(it),vn=oi(ut),pn=oi(ct),dn=oi(ft),gn=oi(at),mn=oi(mt),_n=oi(bt),bn=oi(vt),xn=oi(xt),In=oi(It),Nn=oi(Et),Sn=oi(Mt),En=ei(N,e),Mn=W*A,wn=P*$+nt*a+2*oi(Mn),yn=ei(N,o),Pn=W*C,Tn=P*q+nt*p+2*oi(Pn),An=ei(M,r),Bn=J*B,Cn=T*X+ot*v+2*oi(Bn),On=ei(M,i),zn=J*O,Yn=T*Q+ot*d+2*oi(zn),Fn=Mn+Bn,kn=ri(En,An),Vn=oi(Fn),Ln=wn+Cn+Vn,$n=Pn+zn,Xn=ri(yn,On),qn=oi($n),Qn=Tn+Yn+qn,Gn=mt*Fn,Dn=ei(Zt,kn),Hn=Rt*Vn+mn*Ln+2*oi(Gn),Un=Mt*$n,Zn=ei(ln,Xn),Rn=hn*qn+Sn*Qn+2*oi(Un),Wn=Gn+Un,jn=ri(Dn,Zn),Jn=Hn+Rn+oi(Wn),Kn=st+ht,te=ri(Tt,Ft),ne=oi(Kn),ee=At+kt+ne,re=Nt+St,oe=ri(rn,un),ie=oi(re),ue=on+sn+ie,se=2*st+ht,ce=oi(se),fe=ri(ti(Tt),Ft),le=2*At+kt+ce,he=2*Nt+St,ae=ri(ti(rn),un),ve=oi(he),pe=2*on+sn+ve,de=2*pt+_t,ge=ri(ti(qt),Wt),me=oi(de),_e=2*Qt+jt+me,be=2*pt+lt,xe=ri(ti(qt),zt),Ie=oi(be),Ne=2*Qt+Yt+Ie,Se=2*_t+pt,Ee=ri(ti(Wt),qt),Me=2*jt+Qt+oi(Se),we=6*st+ht,ye=6*st,Pe=ni(6,Tt),Te=6*At+oi(ye),Ae=ri(Pe,Ft),Be=Te+kt+oi(ye+ht),Ce=6*Nt+St,Oe=6*Nt,ze=ni(6,rn),Ye=6*on+oi(Oe),Fe=ri(ze,un),ke=Ye+sn+oi(Oe+St),Ve=dt+gt,Le=ri(Gt,Ht),$e=oi(Ve),Xe=Dt+Ut+$e,qe=lt+_t,Qe=ri(zt,Wt),Ge=Yt+jt+oi(qe),De=2*vt+ft,He=ri(ti($t),Ct),Ue=2*Xt+Ot+oi(De),Ze=2*ft+vt,Re=ri(ti(Ct),$t),We=2*Ot+Xt+oi(Ze),je=lt+pt,Je=ri(zt,qt),Ke=Yt+Qt+oi(je),tr=je+_t,nr=ri(Je,Wt),er=oi(tr),rr=Ke+jt+er,or=3*mt,ir=ni(3,Zt),ur=3*Rt+oi(or),sr=oi(or),cr=3*Mt,fr=ni(3,ln),lr=3*hn+oi(cr),hr=oi(cr),ar=or*A,vr=ei(ir,e),pr=ur*$+sr*a+2*oi(ar),dr=mt*B,gr=ei(Zt,r),mr=Rt*X+mn*v+2*oi(dr),_r=2*bt*B,br=ti(ei(Jt,r)),xr=2*(Kt*X+_n*v+oi(_r)),Ir=2*bt*C,Nr=ti(ei(Jt,o)),Sr=2*(Kt*q+_n*p+oi(Ir)),Er=Mt*C,Mr=ei(ln,o),wr=hn*q+Sn*p+2*oi(Er),yr=cr*O,Pr=ei(fr,i),Tr=lr*Q+hr*d+2*oi(yr),Ar=ar+_r,Br=ri(vr,br),Cr=pr+xr+oi(Ar),Or=dr+Ir,zr=ri(gr,Nr),Yr=mr+Sr+oi(Or),Fr=Ar+Er,kr=ri(Br,Mr),Vr=Cr+wr+oi(Fr),Lr=Or+yr,$r=ri(zr,Pr),Xr=Yr+Tr+oi(Lr),qr=R*Fr,Qr=ei(S,kr),Gr=tt*Vr+oi(qr),Dr=j*Lr,Hr=ei(w,$r),Ur=rt*Xr+oi(Dr),Zr=qr+Dr,Rr=ri(Qr,Hr),Wr=Gr+Ur+oi(Zr),jr=J*se,Kr=ei(M,fe),to=T*ce+ot*le+2*oi(jr),no=J*be,eo=ei(M,xe),ro=T*Ie+ot*Ne+2*oi(no),oo=W*de,io=ei(N,ge),uo=P*me+nt*_e+2*oi(oo),so=W*he,co=ei(N,ae),fo=P*ve+nt*pe+2*oi(so),lo=3*W,ho=ni(3,N),ao=oi(lo),vo=3*P+ao,po=lo*Kn,go=ei(ho,te),mo=oi(po),_o=vo*ne+ao*ee+mo,bo=3*J,xo=ni(3,M),Io=oi(bo),No=3*T+Io,So=bo*re,Eo=ei(xo,oe),Mo=oi(So),wo=No*ie+Io*ue+Mo,yo=jr+oo,Po=ri(Kr,io),To=oi(yo),Ao=to+uo+To,Bo=no+so,Co=ri(eo,co),zo=oi(Bo),Yo=ro+fo+zo,Fo=po*A,ko=ei(go,e),Vo=_o*$+mo*a+2*oi(Fo),Lo=So*O,$o=ei(Eo,i),Xo=wo*Q+Mo*d+2*oi(Lo),qo=yo*B,Qo=ei(Po,r),Go=Ao*X+To*v+2*oi(qo),Do=Bo*C,Ho=ei(Co,o),Uo=Yo*q+zo*p+2*oi(Do),Zo=Fo+Lo,Ro=ri(ko,$o),Wo=Vo+Xo+oi(Zo),jo=qo+Do,Jo=ri(Qo,Ho),ui=Go+Uo+oi(jo),si=mt*z,ci=ei(Zt,u),fi=Rt*G+mn*g+2*oi(si),li=Mt*F,hi=ei(ln,c),ai=hn*D+Sn*_+2*oi(li),vi=bt*Y,pi=ei(Jt,s),di=Kt*H+_n*m+2*oi(vi),gi=si+li,mi=ri(ci,hi),_i=fi+ai+oi(gi),bi=Zo+jo,xi=ri(Ro,Jo),Ii=Wo+ui+oi(bi),Ni=gi+vi,Si=ri(mi,pi),Ei=_i+di+oi(Ni),Mi=bi+Ni,wi=ri(xi,Si),yi=Ii+Ei+oi(Mi),Pi=R*we,Ti=ei(S,Ae),Ai=tt*Be+2*oi(Pi),Bi=2*Ai,Ci=j*Ce,Oi=ei(w,Fe),zi=rt*ke+2*oi(Ci),Yi=2*zi,Fi=2*E*Ve,ki=ni(2*E,Le),Vi=2*K*Xe+oi(Fi),Li=2*j*qe,$i=ei(ti(w),Qe),Xi=2*rt*Ge+2*oi(Li),qi=R*Se,Qi=ei(S,Ee),Gi=tt*Me+2*oi(qi),Di=R*he,Hi=ei(S,ae),Ui=tt*pe+2*oi(Di),Zi=Fi+qi,Ri=ri(ki,Qi),Wi=Vi+Gi+oi(Zi),ji=Vi+Gi+Wi,Ji=Li+Di,Ki=ri($i,Hi),tu=Xi+Ui+oi(Ji),nu=Xi+Ui+tu,eu=Et*F,ru=ei(cn,c),ou=fn*D+Nn*_+2*oi(eu),iu=at*z,uu=ei(Vt,u),su=Lt*G+gn*g+2*oi(iu),cu=Ve*Y,fu=ei(Le,s),lu=Xe*H+$e*m+2*oi(cu),hu=eu+iu,au=ri(ru,uu),vu=ou+su+oi(hu),pu=Pi*A,du=ei(Ti,e),gu=Bi*$+Ai*a+2*oi(pu),mu=Zi*B,_u=ei(Ri,r),bu=ji*X+Wi*v+2*oi(mu),xu=Ci*O,Iu=ei(Oi,i),Nu=Yi*Q+zi*d+2*oi(xu),Su=Ji*C,Eu=ei(Ki,o),Mu=nu*q+tu*p+2*oi(Su),wu=pu+xu,yu=ri(du,Iu),Pu=gu+Nu+oi(wu),Tu=mu+Su,Au=ri(_u,Eu),Bu=bu+Mu+oi(Tu),Cu=wu+Tu,Ou=ri(yu,Au),zu=Pu+Bu+oi(Cu),Yu=2*hu+cu,Fu=ri(ti(au),fu),ku=2*vu+lu+oi(Yu),Vu=Cu+Yu,Lu=ri(Ou,Fu),$u=zu+ku+oi(Vu),Xu=3*E,qu=oi(Xu),Qu=Ko(3,E),Gu=Xu*Kn,Du=ei(Qu,te),Hu=oi(Gu),Uu=qu*ee+2*oi(Gu),Zu=3*y,Ru=oi(Zu),Wu=Ko(3,y),ju=Zu*re,Ju=ei(Wu,oe),Ku=oi(ju),ts=Ru*ue+2*oi(ju),ns=E*be,es=ni(E,xe),rs=K*Ne+oi(ns),os=E*he,is=ni(E,ae),us=K*pe+oi(os),ss=y*se,cs=ni(y,fe),fs=et*le+oi(ss),ls=y*de,hs=ni(y,ge),as=et*_e+oi(ls),vs=ns+ss,ps=ri(es,cs),ds=oi(vs),gs=rs+fs+ds,ms=os+ls,_s=ri(is,hs),bs=oi(ms),xs=us+as+bs,Is=Gu*A,Ns=ei(Du,e),Ss=Uu*$+Hu*a+2*oi(Is),Es=ju*O,Ms=ei(Ju,i),ws=ts*Q+Ku*d+2*oi(Es),ys=vs*B,Ps=ei(ps,r),Ts=gs*X+ds*v+2*oi(ys),As=ms*C,Bs=ei(_s,o),Cs=xs*q+bs*p+2*oi(As),Os=se*z,zs=ei(fe,u),Ys=le*G+ce*g+2*oi(Os),Fs=he*F,ks=ei(ae,c),Vs=pe*D+ve*_+2*oi(Fs),Ls=tr*Y,$s=ei(nr,s),Xs=rr*H+er*m+2*oi(Ls),qs=W*k,Qs=ei(N,f),Gs=P*U+nt*b+2*oi(qs),Ds=J*V,Hs=ei(M,l),Us=T*Z+ot*x+2*oi(Ds),Zs=Is+Es,Rs=ri(Ns,Ms),Ws=Ss+ws+oi(Zs),js=ys+As,Js=ri(Ps,Bs),Ks=Ts+Cs+oi(js),tc=Os+Fs,nc=ri(zs,ks),ec=Ys+Vs+oi(tc),rc=Zs+js,oc=ri(Rs,Js),ic=Ws+Ks+oi(rc),uc=tc+Ls,sc=ri(nc,$s),cc=ec+Xs+oi(uc),fc=qs+Ds,lc=ri(Qs,Hs),hc=Gs+Us+oi(fc),ac=rc+uc,vc=ri(oc,sc),pc=ic+cc+oi(ac),dc=ac+fc,gc=ri(vc,lc),mc=pc+hc+oi(dc),_c=Xu*ut,bc=ei(Qu,yt),xc=oi(_c),Ic=qu*Pt+2*xc,Nc=Zu*It,Sc=ei(Wu,nn),Ec=oi(Nc),Mc=Ru*en+2*Ec,wc=E*De,yc=ni(E,He),Pc=oi(wc),Tc=K*Ue+oi(wc),Ac=y*Ze,Bc=ni(y,Re),Cc=oi(Ac),Oc=et*We+oi(Ac),zc=ut*z,Yc=ei(yt,u),Fc=Pt*G+vn*g+2*oi(zc),kc=It*F,Vc=ei(nn,c),Lc=en*D+In*_+2*oi(kc),$c=ft*Y,Xc=ei(Ct,s),qc=Ot*H+dn*m+2*oi($c),Qc=vt*Y,Gc=ei($t,s),Dc=Xt*H+bn*m+2*oi(Qc),Hc=2*(zc+kc),Uc=ti(ri(Yc,Vc)),Zc=2*(Fc+Lc)+oi(Hc),Rc=$c+Qc,Wc=ri(Xc,Gc),jc=qc+Dc+oi(Rc),Jc=R*k,Kc=ei(S,f),tf=tt*b+2*oi(Jc),nf=j*V,ef=ei(w,l),rf=rt*x+2*oi(nf),of=_c*A,uf=ei(bc,e),sf=Ic*$+xc*a+2*oi(of),cf=Nc*O,ff=ei(Sc,i),lf=Mc*Q+Ec*d+2*oi(cf),hf=wc*B,af=ei(yc,r),vf=Tc*X+Pc*v+2*oi(hf),pf=Ac*C,df=ei(Bc,o),gf=Oc*q+Cc*p+2*oi(pf),mf=of+cf,_f=ri(uf,ff),bf=sf+lf+oi(mf),xf=hf+pf,If=ri(af,df),Nf=vf+gf+oi(xf),Sf=mf+xf,Ef=ri(_f,If),Mf=bf+Nf+oi(Sf),wf=Hc+Rc,yf=ri(Uc,Wc),Pf=Zc+jc+oi(wf),Tf=Jc+nf,Af=ri(Kc,ef),Bf=tf+rf+oi(Tf),Cf=Sf+wf,Of=ri(Ef,yf),zf=Mf+Pf+oi(Cf),Yf=Cf+Tf,Ff=ri(Of,Af),kf=zf+Bf+oi(Yf),Vf=E*A,Lf=ni(E,e),$f=K*a+oi(Vf),Xf=E*C,qf=ni(E,o),Qf=K*p+oi(Xf),Gf=y*B,Df=ni(y,r),Hf=et*v+oi(Gf),Uf=y*O,Zf=ni(y,i),Rf=et*d+oi(Uf),Wf=Vf+Gf,jf=ri(Lf,Df),Jf=$f+Hf+oi(Wf),Kf=Xf+Uf,tl=ri(qf,Zf),nl=Qf+Rf+oi(Kf),el=Wf+z,rl=ri(jf,u),ol=Jf+g+oi(el),il=Kf+F,ul=ri(tl,c),sl=nl+_+oi(il),cl=it*el,fl=ei(wt,rl),ll=an*ol+2*oi(cl),hl=xt*il,al=ei(tn,ul),vl=xn*sl+2*oi(hl),pl=ct*Y,dl=ei(Bt,s),gl=pn*m+2*oi(pl),ml=E*k,_l=ni(E,f),bl=K*b+oi(ml),xl=y*V,Il=ni(y,l),Nl=et*x+oi(xl),Sl=cl+hl,El=ri(fl,al),Ml=ll+vl+oi(Sl),wl=Sl+pl,yl=ri(El,dl),Pl=Ml+gl+oi(wl),Tl=ml+xl,Al=ri(_l,Il),Bl=bl+Nl+oi(Tl),Cl=wl+Tl,Ol=ri(yl,Al),zl=Pl+Bl+oi(Cl),Yl=Cl+L,Fl=ri(Ol,h),kl=zl+I+oi(Yl);return{coeffs:[jn,Rr,wi,Lu,gc,Ff,Fl],errBound:[ii*Jn,ii*Wr,ii*yi,ii*$u,ii*mc,ii*kf,ii*kl]}},function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:s,vᵧᵧ:c,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:v,vₓᵧᵧ_:p,vᵧᵧᵧ_:d,vₓₓ_:g,vₓᵧ_:m,vᵧᵧ_:_,vₓ_:b,vᵧ_:x,v_:I}}=Oo(t),{coeffs:[[N,S,E,[,M]],[w,y,P,[,T]]],errorBound:[[A,B,C],[O,z,Y]]}=jr(n),F=e[1],k=r[1],V=o[1],L=i[1],$=u[1],X=s[1],q=c[1],Q=f[1],G=l[1],D=h[1],H=Si(F),U=Si(k),Z=Si(V),R=Si(L),W=Si($),j=Si(X),J=Si(q),K=Si(Q),tt=Si(G),nt=(Si(D),E[1]),et=S[1],rt=N[1],ot=P[1],it=y[1],ut=w[1],st=Si(M),ct=Si(nt),ft=Si(et),lt=Si(rt),ht=Si(T),at=Si(ot),vt=Si(it),pt=Si(ut),dt=M*M,gt=M*nt,mt=M*et,_t=M*rt,bt=M*T,xt=M*ot,It=M*it,Nt=M*ut,St=nt*nt,Et=nt*et,Mt=nt*rt,wt=nt*T,yt=nt*ot,Pt=nt*it,Tt=nt*ut,At=et*ot,Bt=et*et,Ct=et*rt,Ot=et*T,zt=et*it,Yt=et*ut,Ft=rt*rt,kt=rt*T,Vt=rt*ot,Lt=rt*it,$t=rt*ut,Xt=T*T,qt=T*ot,Qt=T*it,Gt=T*ut,Dt=ot*ot,Ht=ot*it,Ut=ut*ut,Zt=it*it,Rt=it*ut,Wt=ot*ut,jt=_i(M,M),Jt=xi(M,E),Kt=st*C+Si(gt),tn=xi(M,S),nn=st*B+Si(mt),en=xi(M,N),rn=st*A+Si(_t),on=_i(M,T),un=xi(M,P),sn=st*Y+Si(xt),cn=xi(M,y),fn=st*z+Si(It),ln=xi(M,w),hn=st*O+Si(Nt),an=Ii(E,E),vn=Si(St),pn=2*(C*ct+vn),dn=Ii(E,S),gn=C*ft+ct*B+2*Si(Et),mn=Ii(E,N),_n=C*lt+ct*A+2*Si(Mt),bn=xi(T,E),xn=ht*C+Si(wt),In=Ii(E,P),Nn=C*at+ct*Y+2*Si(yt),Sn=Ii(E,y),En=C*vt+ct*z+2*Si(Pt),Mn=Ii(E,w),wn=C*pt+ct*O+2*Si(Tt),yn=Ii(S,P),Pn=B*at+ft*Y+2*Si(At),Tn=Ii(S,S),An=Si(Bt),Bn=2*(B*ft+An),Cn=Ii(S,N),On=B*lt+ft*A+2*Si(Ct),zn=xi(T,S),Yn=ht*B+Si(Ot),Fn=Ii(S,y),kn=B*vt+ft*z+2*Si(zt),Vn=Ii(S,w),Ln=B*pt+ft*O+2*Si(Yt),$n=Ii(N,N),Xn=2*(A*lt+Si(Ft)),qn=xi(T,N),Qn=ht*A+Si(kt),Gn=Ii(N,P),Dn=A*at+lt*Y+2*Si(Vt),Hn=Ii(N,y),Un=Si(Lt),Zn=A*vt+lt*z+2*Un,Rn=Ii(N,w),Wn=A*pt+lt*O+2*Si($t),jn=_i(T,T),Jn=xi(T,P),Kn=ht*Y+Si(qt),te=xi(T,y),ne=ht*z+Si(Qt),ee=xi(T,w),re=ht*O+Si(Gt),oe=Ii(P,P),ie=Si(Dt),ue=2*(Y*at+ie),se=Ii(P,y),ce=Y*vt+at*z+2*Si(Ht),fe=Ii(w,w),le=2*(O*pt+Si(Ut)),he=Ii(y,y),ae=Si(Zt),ve=2*(z*vt+ae),pe=Ii(y,w),de=z*pt+vt*O+2*Si(Rt),ge=Ii(P,w),me=Si(Wt),_e=Y*pt+at*O+2*me,be=Si(dt),xe=Si(gt),Ie=Si(Ct),Ne=Si(Ft),Se=Si($t),Ee=Si(bt),Me=Si(Xt),we=Si(qt),ye=Si(Rt),Pe=Si(Ut),Te=rt*Ft,Ae=Ii(N,$n),Be=lt*Ne,Ce=A*Ne+lt*Xn+2*Be,Oe=rt*Ut,ze=Ii(N,fe),Ye=lt*Pe,Fe=A*Pe+lt*le+2*Ye,ke=ut*Ft,Ve=Ii(w,$n),Le=pt*Ne,$e=O*Ne+pt*Xn+2*Le,Xe=ut*Ut,qe=Ii(w,fe),Qe=pt*Pe,Ge=O*Pe+pt*le+2*Qe,De=Te*F,He=Ii(Ae,e),Ue=Ce*H+Be*a+2*Si(De),Ze=Oe*V,Re=Ii(ze,o),We=Fe*Z+Ye*p+2*Si(Ze),je=ke*k,Je=Ii(Ve,r),Ke=$e*U+Le*v+2*Si(je),tr=Xe*L,nr=Ii(qe,i),er=Ge*R+Qe*d+2*Si(tr),rr=De+Ze,or=Ni(He,Re),ir=Ue+We+Si(rr),ur=je+tr,sr=Ni(Je,nr),cr=Ke+er+Si(ur),fr=rr+ur,lr=Ni(or,sr),hr=ir+cr+Si(fr),ar=2*Yt+Lt,vr=Si(ar),pr=Ni(bi(Vn),Hn),dr=2*Ln+Zn+vr,gr=2*Lt+Yt,mr=Si(gr),_r=Ni(bi(Hn),Vn),br=2*Zn+Ln+Si(gr),xr=rt*ar,Ir=Si(xr),Nr=Ii(N,pr),Sr=A*vr+lt*dr+2*Ir,Er=ut*gr,Mr=Si(Er),wr=Ii(w,_r),yr=O*mr+pt*br+2*Mr,Pr=et*Ft,Tr=Si(Pr),Ar=Ii(S,$n),Br=B*Ne+ft*Xn+2*Tr,Cr=it*Ut,Or=Si(Cr),zr=Ii(y,fe),Yr=z*Pe+vt*le+2*Or,Fr=F*Pr,kr=Ii(e,Ar),Vr=Br*H+H*Br+2*Si(Fr),Lr=L*Cr,$r=Ii(i,zr),Xr=Yr*R+R*Yr+2*Si(Lr),qr=k*xr,Qr=Ii(r,Nr),Gr=Sr*U+U*Sr+2*Si(qr),Dr=V*Er,Hr=Ii(o,wr),Ur=yr*Z+Z*yr+2*Si(Dr),Zr=qr+Dr,Rr=Ni(Qr,Hr),Wr=Gr+Ur+Si(Zr),Jr=3*(Fr+Lr),Kr=xi(3,Ni(kr,$r)),to=3*(Vr+Xr)+2*Si(Jr),no=Zr+Jr,eo=Ni(Rr,Kr),ro=Wr+to+Si(no),oo=nt*$t,io=Ii(E,Rn),uo=C*Se+ct*Wn+2*Si(oo),so=ot*Ft,co=Ii(P,$n),fo=Y*Ne+at*Xn+2*Si(so),lo=et*Rt,ho=Ii(S,pe),ao=B*ye+ft*de+2*Si(lo),vo=nt*Ut,po=Ii(E,fe),go=C*Pe+ct*le+2*Si(vo),mo=et*Lt,_o=Ii(S,Hn),bo=B*Un+ft*Zn+2*Si(mo),xo=ut*Bt,Io=Ii(w,Tn),No=O*An+pt*Bn+2*Si(xo),So=rt*Wt,Eo=Ii(N,ge),Mo=A*me+lt*_e+2*Si(So),wo=it*Lt,yo=Ii(y,Hn),Po=z*Un+vt*Zn+2*Si(wo),To=oo+mo,Ao=Ni(io,_o),Bo=uo+bo+Si(To),Co=so+xo,zo=Ni(co,Io),Yo=fo+No+Si(Co),Fo=lo+So,ko=Ni(ho,Eo),Vo=ao+Mo+Si(Fo),Lo=vo+wo,$o=Ni(po,yo),Xo=go+Po+Si(Lo),qo=Mt+Bt,Qo=Ni(mn,Tn),Go=Si(qo),Do=_n+Bn+Go,Ho=Wt+Zt,Uo=Si(Ho),Zo=Ni(ge,he),Ro=_e+ve+Uo,Wo=2*To+Co,jo=Ni(bi(Ao),zo),Jo=Si(Wo),Ko=2*Bo+Yo+Jo,ti=2*Fo+Lo,ni=Ni(bi(ko),$o),ei=Si(ti),ri=2*Vo+Xo+ei,oi=k*Wo,ii=Ii(r,jo),ui=v*Jo+U*Ko+2*Si(oi),si=V*ti,ci=Ii(o,ni),fi=p*ei+Z*ri+2*Si(si),li=rt*qo,hi=Ii(N,Qo),ai=Si(li),vi=A*Go+lt*Do+2*ai,pi=ut*Ho,di=Ii(w,Zo),gi=Si(pi),mi=O*Uo+pt*Ro+2*gi,Mi=F*li,wi=Ii(e,hi),yi=a*ai+H*vi+2*Si(Mi),Pi=L*pi,Ti=Ii(i,di),Ai=d*gi+R*mi+2*Si(Pi),Bi=oi+si,Ci=Ni(ii,ci),Oi=ui+fi+Si(Bi),zi=3*(Mi+Pi),Yi=xi(3,Ni(wi,Ti)),Fi=3*(yi+Ai)+2*Si(zi),ki=Bi+zi,Vi=Ni(Ci,Yi),Li=Oi+Fi+Si(ki),$i=Yt+Lt,Xi=Ni(Vn,Hn),qi=Si($i),Qi=Ln+Zn+qi,Gi=it*Bt,Di=Ii(y,Tn),Hi=z*An+vt*Bn+2*Si(Gi),Ui=2*nt*$i,Zi=bi(Ii(E,Xi)),Ri=2*(C*qi+ct*Qi+2*Si(Ui)),Wi=Gi+Ui,ji=Ni(Di,Zi),Ji=Hi+Ri+Si(Wi),Ki=2*(Nt+At),tu=bi(Ni(ln,yn)),nu=2*(hn+Pn)+Si(Ki),eu=Ki+kt,ru=Si(eu),ou=Ni(tu,qn),iu=nu+Qn+ru,uu=rt*eu,su=Ii(N,ou),cu=A*ru+lt*iu+2*Si(uu),fu=Wi+uu,lu=Ni(ji,su),hu=Si(fu),au=Ji+cu+hu,vu=et*Zt,pu=Ii(S,he),du=B*ae+ft*ve+2*Si(vu),gu=2*ot*$i,mu=bi(Ii(P,Xi)),_u=2*(Y*qi+at*Qi+Si(gu)),bu=vu+gu,xu=Ni(pu,mu),Iu=du+_u+Si(bu),Nu=2*(Pt+kt),Su=bi(Ni(Sn,qn)),Eu=2*(En+Qn)+Si(Nu),Mu=Nu+Nt,wu=Ni(Su,ln),yu=Si(Mu),Pu=Eu+hn+yu,Tu=ut*Mu,Au=Ii(w,wu),Bu=O*yu+pt*Pu+2*Si(Tu),Cu=bu+Tu,Ou=Ni(xu,Au),zu=Si(Cu),Yu=Iu+Bu+zu,Fu=et*Bt,ku=Ii(S,Tn),Vu=B*An+ft*Bn+2*Si(Fu),Lu=2*Et+_t,$u=Ni(bi(dn),en),Xu=Si(Lu),qu=2*gn+rn+Xu,Qu=3*rt,Gu=xi(3,N),Du=Si(Qu),Hu=3*A+Du,Uu=Qu*Lu,Zu=Ii(Gu,$u),Ru=Hu*Xu+Du*qu+2*Si(Uu),Wu=Fu+Uu,ju=Ni(ku,Zu),Ju=Si(Wu),Ku=Vu+Ru+Ju,ts=it*Zt,ns=Ii(y,he),es=z*ae+vt*ve+2*Si(ts),rs=2*Ht+Gt,os=Ni(bi(se),ee),is=Si(rs),us=2*ce+re+is,ss=3*ut,cs=xi(3,w),fs=Si(ss),ls=3*O+fs,hs=ss*rs,as=Ii(cs,os),vs=ls*is+fs*us+2*Si(hs),ps=ts+hs,ds=Ni(ns,as),gs=Si(ps),ms=es+vs+gs,_s=k*fu,bs=Ii(r,lu),xs=v*hu+U*au+2*Si(_s),Is=V*Cu,Ns=Ii(o,Ou),Ss=p*zu+Z*Yu+2*Si(Is),Es=_s+Is,Ms=Ni(bs,Ns),ws=xs+Ss+Si(Es),ys=F*Wu,Ps=Ii(e,ju),Ts=a*Ju+H*Ku+2*Si(ys),As=L*ps,Bs=Ii(i,ds),Cs=d*gs+R*ms+2*Si(As),Os=ys+As,zs=Ni(Ps,Bs),Ys=Ts+Cs+Si(Os),Fs=$*Ft,ks=Ii($n,u),Vs=Xn*W+Ne*g+2*Si(Fs),Ls=q*Ut,$s=Ii(fe,c),Xs=le*J+Pe*_+2*Si(Ls),qs=Fs+Ls,Qs=Ni(ks,$s),Gs=Vs+Xs+Si(qs),Ds=X*$t,Hs=Ii(Rn,s),Us=Wn*j+Se*m+2*Si(Ds),Zs=Es+Os,Rs=Ni(Ms,zs),Ws=ws+Ys+Si(Zs),js=qs+Ds,Js=Ni(Qs,Hs),Ks=Gs+Us+Si(js),tc=Zs+js,nc=Ni(Rs,Js),ec=Ws+Ks+Si(tc),rc=zt+Vt,oc=Ni(Fn,Gn),ic=Si(rc),uc=kn+Dn+ic,sc=Tt+zt,cc=Ni(Mn,Fn),fc=Si(sc),lc=wn+kn+fc,hc=M*$i,ac=xi(M,Xi),vc=st*Qi+Si(hc),pc=T*$i,dc=xi(T,Xi),gc=ht*Qi+Si(pc),mc=nt*rc,_c=Ii(E,oc),bc=C*ic+ct*uc+2*Si(mc),xc=ot*sc,Ic=Ii(P,cc),Nc=Y*fc+at*lc+2*Si(xc),Sc=2*kt+At,Ec=Ni(bi(qn),yn),Mc=Si(Sc),wc=2*Qn+Pn+Mc,yc=2*Nt+Pt,Pc=Ni(bi(ln),Sn),Tc=Si(yc),Ac=2*hn+En+Tc,Bc=ut*St,Cc=Ii(w,an),Oc=O*vn+pt*pn+2*Si(Bc),zc=rt*Dt,Yc=Ii(N,oe),Fc=A*ie+lt*ue+2*Si(zc),kc=et*Sc,Vc=Ii(S,Ec),Lc=B*Mc+ft*wc+2*Si(kc),$c=it*yc,Xc=Ii(y,Pc),qc=z*Tc+vt*Ac+2*Si($c),Qc=2*(hc+mc),Gc=bi(Ni(ac,_c)),Dc=2*(vc+bc)+Si(Qc),Hc=2*(pc+xc),Uc=bi(Ni(dc,Ic)),Zc=2*(gc+Nc)+Si(Hc),Rc=2*M*Ct,Wc=bi(xi(M,Cn)),jc=2*st*On+Si(Rc),Jc=2*T*Rt,Kc=bi(xi(T,pe)),tf=2*ht*de+Si(Jc),nf=nt*qo,ef=Ii(E,Qo),rf=C*Go+ct*Do+2*Si(nf),of=ot*Ho,uf=Ii(P,Zo),sf=Y*Uo+at*Ro+2*Si(of),cf=$*Ct,ff=Ii(Cn,u),lf=On*W+Ie*g+2*Si(cf),hf=q*Rt,af=Ii(pe,c),vf=de*J+ye*_+2*Si(hf),pf=Qc+Bc,df=Ni(Gc,Cc),gf=Si(pf),mf=Dc+Oc+gf,_f=Hc+zc,bf=Ni(Uc,Yc),xf=Si(_f),If=Zc+Fc+xf,Nf=pf+kc,Sf=Ni(df,Vc),Ef=Si(Nf),Mf=mf+Lc+Ef,wf=_f+$c,yf=Ni(bf,Xc),Pf=Si(wf),Tf=If+qc+Pf,Af=Rc+nf,Bf=Ni(Wc,ef),Cf=Si(Af),Of=jc+rf+Cf,zf=Jc+of,Yf=Ni(Kc,uf),Ff=Si(zf),kf=tf+sf+Ff,Vf=2*(cf+hf),Lf=bi(Ni(ff,af)),$f=2*(lf+vf)+Si(Vf),Xf=k*Nf,qf=Ii(r,Sf),Qf=v*Ef+U*Mf+2*Si(Xf),Gf=V*wf,Df=Ii(o,yf),Hf=p*Pf+Z*Tf+2*Si(Gf),Uf=F*Af,Zf=Ii(e,Bf),Rf=a*Cf+H*Of+2*Si(Uf),Wf=L*zf,jf=Ii(i,Yf),Jf=d*Ff+R*kf+2*Si(Wf),Kf=Xf+Gf,tl=Ni(qf,Df),nl=Qf+Hf+Si(Kf),el=3*(Uf+Wf),rl=xi(3,Ni(Zf,jf)),ol=3*(Rf+Jf)+2*Si(el),il=X*$i,ul=Ii(s,Xi),sl=m*qi+j*Qi+2*Si(il),cl=Kf+el,fl=Ni(tl,rl),ll=nl+ol+Si(cl),hl=il+Vf,al=Ni(ul,Lf),vl=sl+$f+Si(hl),pl=cl+hl,dl=Ni(fl,al),gl=ll+vl+Si(pl),ml=Tt+rc,_l=Ni(Mn,oc),bl=Si(ml),xl=wn+uc+bl,Il=2*Mt+Bt,Nl=Ni(bi(mn),Tn),Sl=Si(Il),El=2*_n+Bn+Sl,Ml=2*Wt+Zt,wl=Ni(bi(ge),he),yl=Si(Ml),Pl=2*_e+ve+yl,Tl=2*M*ml,Al=xi(2*M,_l),Bl=2*st*xl+Si(Tl),Cl=2*T*ml,Ol=xi(2*T,_l),zl=2*ht*xl+Si(Cl),Yl=Pt+2*At,Fl=Ni(Sn,bi(yn)),kl=Si(Yl),Vl=En+2*Pn+kl,Ll=At+2*Pt,$l=Ni(yn,bi(Sn)),Xl=Si(Ll),ql=Pn+2*En+Xl,Ql=T*Il,Gl=xi(T,Nl),Dl=ht*El+Si(Ql),Hl=M*Ml,Ul=xi(M,wl),Zl=st*Pl+Si(Hl),Rl=nt*Yl,Wl=Ii(E,Fl),jl=C*kl+ct*Vl+2*Si(Rl),Jl=ot*Ll,Kl=Ii(P,$l),th=Y*Xl+at*ql+2*Si(Jl),nh=M*Il,eh=xi(M,Nl),rh=st*El+Si(nh),oh=T*Ml,ih=xi(T,wl),uh=ht*Pl+Si(oh),sh=et*St,ch=Ii(S,an),fh=B*vn+ft*pn+2*Si(sh),lh=it*Dt,hh=Ii(y,oe),ah=z*ie+vt*ue+2*Si(lh),vh=Tl+Ql,ph=Ni(Al,Gl),dh=Bl+Dl+Si(vh),gh=Cl+Hl,mh=Ni(Ol,Ul),_h=zl+Zl+Si(gh),bh=vh+Rl,xh=Ni(ph,Wl),Ih=Si(bh),Nh=dh+jl+Ih,Sh=gh+Jl,Eh=Ni(mh,Kl),Mh=Si(Sh),wh=_h+th+Mh,yh=nh+sh,Ph=Ni(eh,ch),Th=Si(yh),Ah=rh+fh+Th,Bh=oh+lh,Ch=Ni(ih,hh),Oh=Si(Bh),zh=uh+ah+Oh,Yh=k*bh,Fh=Ii(r,xh),kh=v*Ih+U*Nh+2*Si(Yh),Vh=V*Sh,Lh=Ii(o,Eh),$h=p*Mh+Z*wh+2*Si(Vh),Xh=F*yh,qh=Ii(e,Ph),Qh=a*Th+H*Ah+2*Si(Xh),Gh=L*Bh,Dh=Ii(i,Ch),Hh=d*Oh+R*zh+2*Si(Gh),Uh=Xh+Gh,Zh=Si(Uh),Rh=Ni(qh,Dh),Wh=Qh+Hh+Zh,jh=Yh+Vh,Jh=Ni(Fh,Lh),Kh=kh+$h+Si(jh),ta=jh+3*Uh,na=Ni(Jh,xi(3,Rh)),ea=Kh+3*(Wh+Zh)+Si(ta),ra=X*ml,oa=Ii(s,_l),ia=m*bl+j*xl+2*Si(ra),ua=$*Il,sa=Ii(u,Nl),ca=g*Sl+W*El+2*Si(ua),fa=ra+ua,la=Ni(oa,sa),ha=ia+ca+Si(fa),aa=q*Ml,va=Ii(c,wl),pa=_*yl+J*Pl+2*Si(aa),da=fa+aa,ga=Ni(la,va),ma=ha+pa+Si(da),_a=ta+da,ba=Ni(na,ga),xa=ea+ma+Si(_a),Ia=Pt+At,Na=Ni(Sn,yn),Sa=En+Pn+Si(Ia),Ea=kt+Nt,Ma=Ni(qn,ln),wa=Qn+hn+Si(Ea),ya=Et+_t,Pa=Ni(dn,en),Ta=gn+rn+Si(ya),Aa=Si(ya),Ba=Ht+Gt,Ca=Ni(se,ee),Oa=ce+re+Si(Ba),za=Si(Ba),Ya=2*Ia+kt,Fa=Ni(bi(Na),qn),ka=2*Sa+Qn+Si(Ya),Va=2*Ia+Nt,La=Ni(bi(Na),ln),$a=2*Sa+hn+Si(Va),Xa=2*Ot+yt,qa=Ni(bi(zn),In),Qa=Si(Xa),Ga=2*Yn+Nn+Qa,Da=2*It+yt,Ha=Ni(bi(cn),In),Ua=Si(Da),Za=2*fn+Nn+Ua,Ra=ya+Et,Wa=Ni(Pa,dn),ja=Ta+gn+Si(Ra),Ja=Ba+Ht,Ka=Ni(Ca,se),tv=Oa+ce+Si(Ja),nv=3*M,ev=_i(3,M),rv=nv*Ra,ov=Ii(ev,Wa),iv=Si(nv)*ja+2*Si(rv),uv=3*T,sv=_i(3,T),cv=uv*Ja,fv=Ii(sv,Ka),lv=Si(uv)*tv+2*Si(cv),hv=nt*St,av=Ii(E,an),vv=C*vn+ct*pn+2*Si(hv),pv=ot*Dt,dv=Ii(P,oe),gv=Y*ie+at*ue+2*Si(pv),mv=$*ya,_v=Ii(u,Pa),bv=g*Aa+W*Ta+Si(mv),xv=q*Ba,Iv=Ii(c,Ca),Nv=_*za+J*Oa+Si(xv),Sv=Ya+Ea,Ev=Ni(Fa,Ma),Mv=ka+wa+Si(Sv),wv=Va+Ea,yv=Ni(La,Ma),Pv=$a+wa+Si(wv),Tv=M*Sv,Av=xi(M,Ev),Bv=st*Mv+Si(Tv),Cv=T*wv,Ov=xi(T,yv),zv=ht*Pv+Si(Cv),Yv=nt*Xa,Fv=Ii(E,qa),kv=C*Qa+ct*Ga+2*Si(Yv),Vv=ot*Da,Lv=Ii(P,Ha),$v=Y*Ua+at*Za+2*Si(Vv),Xv=rt*Q,qv=Ii(N,f),Qv=A*K+lt*b+2*Si(Xv),Gv=ut*G,Dv=Ii(w,l),Hv=O*tt+pt*x+2*Si(Gv),Uv=Tv+Yv,Zv=Ni(Av,Fv),Rv=Si(Uv),Wv=Bv+kv+Rv,jv=Cv+Vv,Jv=Ni(Ov,Lv),Kv=Si(jv),tp=zv+$v+Kv,np=rv+hv,ep=Ni(ov,av),rp=Si(np),op=iv+vv+rp,ip=cv+pv,up=Ni(fv,dv),sp=Si(ip),cp=lv+gv+sp,fp=Ea+Ia,lp=Ni(Ma,Na),hp=Si(fp),ap=wa+Sa+hp,vp=2*(mv+xv),pp=bi(Ni(_v,Iv)),dp=2*(bv+Nv)+Si(vp),gp=k*Uv,mp=Ii(r,Zv),_p=v*Rv+U*Wv+2*Si(gp),bp=V*jv,xp=Ii(o,Jv),Ip=p*Kv+Z*tp+2*Si(bp),Np=F*np,Sp=Ii(e,ep),Ep=a*rp+H*op+2*Si(Np),Mp=L*ip,wp=Ii(i,up),yp=d*sp+R*cp+2*Si(Mp),Pp=X*fp,Tp=Ii(s,lp),Ap=m*hp+j*ap+2*Si(Pp),Bp=gp+bp,Cp=Ni(mp,xp),Op=_p+Ip+Si(Bp),zp=Np+Mp,Yp=Ni(Sp,wp),Fp=Ep+yp+Si(zp),kp=Pp+vp,Vp=Ni(Tp,pp),Lp=Ap+dp+Si(kp),$p=Xv+Gv,Xp=Ni(qv,Dv),qp=Qv+Hv+Si($p),Qp=Bp+zp,Gp=Ni(Cp,Yp),Dp=Op+Fp+Si(Qp),Hp=kp+$p,Up=Ni(Vp,Xp),Zp=Lp+qp+Si(Hp),Rp=Qp+Hp,Wp=Ni(Gp,Up),jp=Dp+Zp+Si(Rp),Jp=yt+Ot,Kp=Ni(In,zn),td=Nn+Yn+Si(Jp),nd=yt+It,ed=Ni(In,cn),rd=Nn+fn+Si(nd),od=2*Jp+It,id=Ni(bi(Kp),cn),ud=2*td+fn+Si(od),sd=2*nd+Ot,cd=Ni(bi(ed),zn),fd=2*rd+Yn+Si(sd),ld=M*od,hd=xi(M,id),ad=st*ud+Si(ld),vd=T*St,pd=xi(T,an),dd=ht*pn+Si(vd),gd=T*sd,md=xi(T,cd),_d=ht*fd+Si(gd),bd=M*Dt,xd=xi(M,oe),Id=st*ue+Si(bd),Nd=M*St,Sd=xi(M,an),Ed=st*pn+Si(Nd),Md=et*dt,wd=Ii(S,jt),yd=B*be+2*Si(Md),Pd=T*Dt,Td=xi(T,oe),Ad=ht*ue+Si(Pd),Bd=it*Xt,Cd=Ii(y,jn),Od=z*Me+2*Si(Bd),zd=ld+vd,Yd=Ni(hd,pd),Fd=ad+dd+Si(zd),kd=ad+dd+Fd,Vd=gd+bd,Ld=Ni(md,xd),$d=_d+Id+Si(Vd),Xd=_d+Id+$d,qd=Nd+Md,Qd=Ni(Sd,wd),Gd=Si(qd),Dd=Ed+yd+Gd,Hd=Pd+Bd,Ud=Ni(Td,Cd),Zd=Si(Hd),Rd=Ad+Od+Zd,Wd=F*qd,jd=Ii(e,Qd),Jd=a*Gd+H*Dd+2*Si(Wd),Kd=L*Hd,tg=Ii(i,Ud),ng=d*Zd+R*Rd+2*Si(Kd),eg=3*(Wd+Kd),rg=xi(3,Ni(jd,tg)),og=3*(Jd+ng)+2*Si(eg),ig=Jp+It,ug=Ni(Kp,cn),sg=Si(ig),cg=td+fn+sg,fg=2*mt+St,lg=Ni(bi(tn),an),hg=Si(fg),ag=2*nn+pn+hg,vg=2*Qt+Dt,pg=Ni(bi(te),oe),dg=Si(vg),gg=2*ne+ue+dg,mg=k*zd,_g=Ii(r,Yd),bg=v*Fd+U*kd+2*Si(mg),xg=V*Vd,Ig=Ii(o,Ld),Ng=p*$d+Z*Xd+2*Si(xg),Sg=X*ig,Eg=Ii(s,ug),Mg=m*sg+j*cg+2*Si(Sg),wg=$*fg,yg=Ii(u,lg),Pg=g*hg+W*ag+2*Si(wg),Tg=q*vg,Ag=Ii(c,pg),Bg=_*dg+J*gg+2*Si(Tg),Cg=et*Q,Og=Ii(S,f),zg=B*K+ft*b+Si(Cg),Yg=it*G,Fg=Ii(y,l),kg=z*tt+vt*x+Si(Yg),Vg=Cg+Yg,Lg=Ni(Og,Fg),$g=zg+kg+Si(Vg),Xg=mg+xg,qg=Ni(_g,Ig),Qg=bg+Ng+Si(Xg),Gg=eg+Sg,Dg=Ni(rg,Eg),Hg=og+Mg+Si(Gg),Ug=wg+Tg,Zg=Ni(yg,Ag),Rg=Pg+Bg+Si(Ug),Wg=Xg+Gg,jg=Ni(qg,Dg),Jg=Qg+Hg+Si(Wg),Kg=Ug+Vg,tm=Ni(Zg,Lg),nm=Rg+$g+Si(Kg),em=Wg+Kg,rm=Ni(jg,tm),om=Jg+nm+Si(em),im=wt+xt,um=Ni(bn,un),sm=Si(im),cm=xn+sn+sm,fm=M*k,lm=xi(M,r),hm=Si(fm),am=st*v+hm,vm=T*V,pm=xi(T,o),dm=Si(vm),gm=ht*p+dm,mm=im+wt,_m=Ni(um,bn),bm=Si(mm),xm=cm+xn+bm,Im=im+xt,Nm=Ni(um,un),Sm=Si(Im),Em=cm+sn+Sm,Mm=nt*dt,wm=Ii(E,jt),ym=Si(Mm),Pm=C*be+2*ym,Tm=Mm*F,Am=Ii(wm,e),Bm=Pm*H+ym*a+2*Si(Tm),Cm=ot*Xt,Om=Ii(P,jn),zm=Si(Cm),Ym=Y*Me+2*zm,Fm=Cm*L,km=Ii(Om,i),Vm=Ym*R+zm*d+2*Si(Fm),Lm=X*im,$m=Ii(s,um),Xm=m*sm+j*cm+2*Si(Lm),qm=gt*$,Qm=Ii(Jt,u),Gm=Kt*W+xe*g+2*Si(qm),Dm=qt*q,Hm=Ii(Jn,c),Um=Kn*J+we*_+2*Si(Dm),Zm=qm+Dm,Rm=Ni(Qm,Hm),Wm=Gm+Um+Si(Zm),jm=nt*Q,Jm=Ii(E,f),Km=C*K+ct*b+Si(jm),t_=ot*G,n_=Ii(P,l),e_=Y*tt+at*x+Si(t_),r_=jm+t_,o_=Ni(Jm,n_),i_=Km+e_+Si(r_),u_=fm*mm,s_=Ii(lm,_m),c_=am*bm+hm*xm+2*Si(u_),f_=vm*Im,l_=Ii(pm,Nm),h_=gm*Sm+dm*Em+2*Si(f_),a_=u_+f_,v_=Ni(s_,l_),p_=c_+h_+Si(a_),d_=3*(Tm+Fm),g_=xi(3,Ni(Am,km)),m_=3*(Bm+Vm)+2*Si(d_),__=Lm+2*Zm,b_=Ni($m,bi(Rm)),x_=Xm+2*Wm+Si(__),I_=a_+d_,N_=Ni(v_,g_),S_=p_+m_+Si(I_),E_=__+r_,M_=Ni(b_,o_),w_=x_+i_+Si(E_),y_=I_+E_,P_=Ni(N_,M_),T_=S_+w_+Si(y_),A_=M*F,B_=xi(M,e),C_=st*a+Si(A_),O_=T*k,z_=xi(T,r),Y_=ht*v+Si(O_),F_=A_+O_,k_=Ni(B_,z_),V_=C_+Y_+Si(F_),L_=M*V,$_=xi(M,o),X_=st*p+Si(L_),q_=T*L,Q_=xi(T,i),G_=ht*d+Si(q_),D_=L_+q_,H_=Ni($_,Q_),U_=X_+G_+Si(D_),Z_=F_+$,R_=Ni(k_,u),W_=V_+g+Si(Z_),j_=D_+q,J_=Ni(H_,c),K_=U_+_+Si(j_),tb=dt*Z_,nb=Ii(jt,R_),eb=be*W_+2*Si(tb),rb=Xt*j_,ob=Ii(jn,J_),ib=Me*K_+2*Si(rb),ub=tb+rb,sb=Ni(nb,ob),cb=eb+ib+Si(ub),fb=bt*X,lb=Ii(on,s),hb=Ee*m+Si(fb),ab=ub+fb,vb=Ni(sb,lb),pb=cb+hb+Si(ab),db=M*Q,gb=xi(M,f),mb=st*b+Si(db),_b=T*G,bb=xi(T,l),xb=ht*x+Si(_b),Ib=db+_b,Nb=Ni(gb,bb),Sb=mb+xb+Si(Ib),Eb=ab+Ib,Mb=Ni(vb,Nb),wb=pb+Sb+Si(Eb),yb=Eb+D,Pb=Ni(Mb,h),Tb=wb+I+Si(yb);return{coeffs:[lr,eo,Vi,nc,dl,ba,Wp,rm,P_,Pb],errBound:[Ei*hr,Ei*ro,Ei*Li,Ei*ec,Ei*gl,Ei*xa,Ei*jp,Ei*om,Ei*T_,Ei*Tb]}}]],ls=[[Qi,Au,Ru],[eu,ku,es],[Mu,Gu,function(t,n){const e=Ci(t);if(0===cs(e[0][0])&&0===cs(e[1][0]))return es(lu(t),n);const[[r,o,i,[u]],[s,c,f,[l]]]=Ci(n);if(0===cs(r)&&0===cs(s))return Gu(t,lu(n));const{vₓₓₓ:h,vₓₓᵧ:a,vₓᵧᵧ:v,vᵧᵧᵧ:p,vₓₓ:d,vₓᵧ:g,vᵧᵧ:m,vₓ:_,vᵧ:b,v:x}=_u(e),I=rs(u,u),N=os(u,i),S=os(u,o),E=os(u,r),M=rs(u,l),w=os(u,f),y=os(u,c),P=os(u,s),T=is(i,i),A=is(i,o),B=is(i,r),C=os(l,i),O=is(i,f),z=is(i,c),Y=is(i,s),F=is(o,f),k=is(o,o),V=is(o,r),L=os(l,o),$=is(o,c),X=is(o,s),q=is(r,r),Q=os(l,r),G=is(r,f),D=is(r,c),H=is(r,s),U=rs(l,l),Z=os(l,f),R=os(l,c),W=os(l,s),j=is(f,f),J=is(f,c),K=is(s,s),tt=is(c,c),nt=is(c,s),et=is(f,s),rt=is(r,q),ot=is(r,K),it=is(s,q),ut=is(s,K),st=is(rt,h),ct=is(ot,v),ft=is(it,a),lt=is(ut,p),ht=us(st,ct),at=us(ft,lt),vt=us(ht,at),pt=us(ss(X),D),dt=us(ss(D),X),gt=is(r,pt),mt=is(s,dt),_t=is(o,q),bt=is(c,K),xt=is(h,_t),It=is(p,bt),Nt=is(a,gt),St=is(v,mt),Et=us(Nt,St),Mt=os(3,us(xt,It)),wt=us(Et,Mt),yt=is(i,H),Pt=is(f,q),Tt=is(o,nt),At=is(i,K),Bt=is(o,D),Ct=is(s,k),Ot=is(r,et),zt=is(c,D),Yt=us(yt,Bt),Ft=us(Pt,Ct),kt=us(Tt,Ot),Vt=us(At,zt),Lt=us(B,k),$t=us(et,tt),Xt=us(ss(Yt),Ft),qt=us(ss(kt),Vt),Qt=is(a,Xt),Gt=is(v,qt),Dt=is(r,Lt),Ht=is(s,$t),Ut=is(h,Dt),Zt=is(p,Ht),Rt=us(Qt,Gt),Wt=os(3,us(Ut,Zt)),jt=us(Rt,Wt),Jt=us(X,D),Kt=is(c,k),tn=ss(is(i,Jt)),nn=us(Kt,tn),en=ss(us(P,F)),rn=us(en,Q),on=is(r,rn),un=us(nn,on),sn=is(o,tt),cn=ss(is(f,Jt)),fn=us(sn,cn),ln=ss(us(z,Q)),hn=us(ln,P),an=is(s,hn),vn=us(fn,an),pn=is(o,k),dn=us(ss(A),E),gn=is(os(3,r),dn),mn=us(pn,gn),_n=is(c,tt),bn=us(ss(J),W),xn=is(os(3,s),bn),In=us(_n,xn),Nn=is(a,un),Sn=is(v,vn),En=us(Nn,Sn),Mn=is(h,mn),wn=is(p,In),yn=us(Mn,wn),Pn=is(q,d),Tn=is(K,m),An=us(Pn,Tn),Bn=is(H,g),Cn=us(En,yn),On=us(An,Bn),zn=us(Cn,On),Yn=us($,G),Fn=us(Y,$),kn=os(u,Jt),Vn=os(l,Jt),Ln=is(i,Yn),$n=is(f,Fn),Xn=us(ss(Q),F),qn=us(ss(P),z),Qn=is(s,T),Gn=is(r,j),Dn=is(o,Xn),Hn=is(c,qn),Un=ss(us(kn,Ln)),Zn=ss(us(Vn,$n)),Rn=ss(os(u,V)),Wn=ss(os(l,nt)),jn=is(i,Lt),Jn=is(f,$t),Kn=is(V,d),te=is(nt,m),ne=us(Un,Qn),ee=us(Zn,Gn),re=us(ne,Dn),oe=us(ee,Hn),ie=us(Rn,jn),ue=us(Wn,Jn),se=ss(us(Kn,te)),ce=is(a,re),fe=is(v,oe),le=is(h,ie),he=is(p,ue),ae=us(ce,fe),ve=os(3,us(le,he)),pe=is(g,Jt),de=us(ae,ve),ge=us(pe,se),me=us(de,ge),_e=us(Y,Yn),be=us(ss(B),k),xe=us(ss(et),tt),Ie=os(2*u,_e),Ne=os(2*l,_e),Se=us(z,ss(F)),Ee=us(F,ss(z)),Me=os(l,be),we=os(u,xe),ye=is(i,Se),Pe=is(f,Ee),Te=os(u,be),Ae=os(l,xe),Be=is(o,T),Ce=is(c,j),Oe=us(Ie,Me),ze=us(Ne,we),Ye=us(Oe,ye),Fe=us(ze,Pe),ke=us(Te,Be),Ve=us(Ae,Ce),Le=is(a,Ye),$e=is(v,Fe),Xe=is(h,ke),qe=is(p,Ve),Qe=us(Xe,qe),Ge=us(Le,$e),De=us(Ge,os(3,Qe)),He=is(g,_e),Ue=is(d,be),Ze=us(He,Ue),Re=is(m,xe),We=us(Ze,Re),je=us(De,We),Je=us(z,F),Ke=us(Q,P),tr=us(A,E),nr=us(J,W),er=us(ss(Je),Q),rr=us(ss(Je),P),or=us(ss(L),O),ir=us(ss(y),O),ur=us(tr,A),sr=us(nr,J),cr=is(rs(3,u),ur),fr=is(rs(3,l),sr),lr=is(i,T),hr=is(f,j),ar=is(d,tr),vr=is(m,nr),pr=us(er,Ke),dr=us(rr,Ke),gr=os(u,pr),mr=os(l,dr),_r=is(i,or),br=is(f,ir),xr=is(r,_),Ir=is(s,b),Nr=us(gr,_r),Sr=us(mr,br),Er=us(cr,lr),Mr=us(fr,hr),wr=us(Ke,Je),yr=ss(us(ar,vr)),Pr=is(a,Nr),Tr=is(v,Sr),Ar=is(h,Er),Br=is(p,Mr),Cr=is(g,wr),Or=us(Pr,Tr),zr=us(Ar,Br),Yr=us(Cr,yr),Fr=us(xr,Ir),kr=us(Or,zr),Vr=us(Yr,Fr),Lr=us(kr,Vr),$r=us(O,L),Xr=us(O,y),qr=us(ss($r),y),Qr=us(ss(Xr),L),Gr=os(u,qr),Dr=os(l,T),Hr=os(l,Qr),Ur=os(u,j),Zr=os(u,T),Rr=is(o,I),Wr=os(l,j),jr=is(c,U),Jr=us(Gr,Dr),Kr=us(Hr,Ur),to=us(Zr,Rr),no=us(Wr,jr),eo=is(h,to),ro=is(p,no),oo=os(3,us(eo,ro)),io=us($r,y),uo=us(ss(S),T),so=us(ss(R),j),co=is(a,Jr),fo=is(v,Kr),lo=is(g,io),ho=is(d,uo),ao=is(m,so),vo=is(o,_),po=is(c,b),go=us(vo,po),mo=us(co,fo),_o=us(oo,lo),bo=us(ho,ao),xo=us(mo,_o),Io=us(bo,go),No=us(xo,Io),So=us(C,w),Eo=os(u,a),Mo=os(l,v),wo=us(So,C),yo=us(So,w),Po=is(i,I),To=is(Po,h),Ao=is(f,U),Bo=is(Ao,p),Co=is(g,So),Oo=is(N,d),zo=is(Z,m),Yo=us(Oo,zo),Fo=is(i,_),ko=is(f,b),Vo=us(Fo,ko),Lo=is(Eo,wo),$o=is(Mo,yo),Xo=us(Lo,$o),qo=os(3,us(To,Bo)),Qo=us(Co,ss(Yo)),Go=us(Xo,qo),Do=us(Qo,Vo),Ho=us(Go,Do),Uo=os(u,h),Zo=os(l,a),Ro=us(Uo,Zo),Wo=os(u,v),jo=os(l,p),Jo=us(Wo,jo),Ko=us(Ro,d),ti=us(Jo,m),ni=is(I,Ko),ei=is(U,ti),ri=us(ni,ei),oi=is(M,g),ii=us(ri,oi),ui=os(u,_),si=os(l,b),ci=us(ui,si),fi=us(ii,ci);return[vt,wt,jt,zn,me,je,Lr,No,Ho,us(fi,x)]}]];function hs(t,n){const{coeffs:e,errBound:r}=fs[t.length-2][n.length-2](t,n);return{coeffs:e,errBound:r,getPExact:()=>ls[t.length-2][n.length-2](t,n)}}const as=ne,vs=Kn,ps=oe,ds=Jn,gs=Dr,ms=134217729;function _s(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r/i,s=i*u,c=ms*i,f=c-(c-i),l=i-f,h=ms*u,a=h-(h-u),v=u-a,p=o*u,d=s+p,g=p-(d-s)+(l*v-(s-f*a-l*a-f*v)),m=d+g,_=(r-m+(e-(g-(m-d))))/i,b=u+_;return[_-(b-u),b]}const bs=_s,xs=Number.EPSILON/2,Is=xs*xs,Ns=oe,Ss=oe,Es=oe,Ms=Dr,ws=ne,ys=at,Ps=Kn,Ts=ee,As=Number.EPSILON/2,Bs=As*As,Cs=Math.abs,Os=Es,zs=[0,1],Ys=Ms,Fs=Ps,ks=ws,Vs=ys,Ls=Ts,$s=function(t,n,e,r){const o=t[0],i=t[1],u=n[0],s=n[1],c=bs(t,n),f=Math.abs(o+i),l=Math.abs(u+s),h=l-xs*l-r;return h<=0?{est:c,err:Number.POSITIVE_INFINITY}:{est:c,err:(l*e+f*r)/h**2+9*Is*Math.abs(f/l)}},Xs=function(t,n){return Ns(t,n)[1]>0?n:t},qs=function(t,n){return Ss(t,n)[1]>0?t:n},Qs=bn(3);function Gs(t,n){return n[0][0]!==n[1][0]||n[0][1]!==n[1][1]?4===t.length?function([[t,n],[e,r],[o,i],[u,s]],[c,f]){const l=Os(f,c),h=3*Bs*Cs(l[1]),a=Os(zs,c),v=3*Bs*Cs(a[1]),p=$s(l,a,h,v);f=Ys(p.est,p.err);const d=Os(zs,c),g=ks(c,c),m=ks(c,d),_=ks(d,d),b=ks(g,c),x=ks(g,d),I=ks(_,c),N=ks(_,d),S=Os(zs,f),E=ks(f,f),M=ks(f,S),w=ks(S,S),y=ks(E,f),P=ks(E,S),T=ks(w,f),A=ks(w,S),B=Cs(c[1]),C=Cs(d[1]),O=Cs(g[1]),z=Cs(m[1]),Y=Cs(_[1]),F=Cs(b[1]),k=Cs(x[1]),V=Cs(I[1]),L=Cs(N[1]),$=Cs(f[1]),X=Cs(S[1]),q=Cs(E[1]),Q=Cs(M[1]),G=Cs(w[1]),D=Cs(y[1]),H=Cs(P[1]),U=Cs(T[1]),Z=Cs(A[1]);let R=Cs(t),W=Cs(n),j=Cs(e),J=Cs(r),K=Cs(o),tt=Cs(i),nt=Cs(u),et=Cs(s);const rt=Fs(Vs(u,c),Vs(o,d)),ot=Fs(Fs(Vs(u,g),Vs(2*o,m)),Vs(e,_)),it=Fs(Fs(Vs(u,b),Vs(t,N)),Vs(3,Fs(Vs(o,x),Vs(e,I)))),ut=Fs(ks(ot,f),ks(it,S)),st=Fs(Fs(ks(rt,E),ks(it,w)),ks(Ls(ot),M)),ct=Fs(Fs(Vs(u,y),ks(it,A)),Vs(3,Fs(ks(rt,P),ks(ot,T)))),ft=Cs(it[1]),lt=nt*B+K*C,ht=nt*O+2*K*z+j*Y;R=nt*F+R*L+3*(K*k+j*V),j=ht*$+ft*X,K=lt*q+ft*G+2*ht*Q,nt=nt*D+ft*Z+3*(lt*H+ht*U),R*=11*Bs,j*=15*Bs,K*=20*Bs,nt*=22*Bs;const at=Fs(Vs(s,c),Vs(i,d)),vt=Fs(Fs(Vs(s,g),Vs(2*i,m)),Vs(r,_)),pt=Fs(Fs(Vs(s,b),Vs(n,N)),Vs(3,Fs(Vs(i,x),Vs(r,I)))),dt=Fs(ks(vt,f),ks(pt,S)),gt=Fs(Fs(ks(at,E),ks(pt,w)),ks(Ls(vt),M)),mt=Fs(Fs(Vs(s,y),ks(pt,A)),Vs(3,Fs(ks(at,P),ks(vt,T)))),_t=Cs(pt[1]),bt=et*B+tt*C,xt=et*O+2*tt*z+J*Y;W=et*F+W*L+3*(tt*k+J*V),J=xt*$+_t*X,tt=bt*q+_t*G+2*xt*Q,et=et*D+_t*Z+3*(bt*H+xt*U),W*=11*Bs,J*=15*Bs,tt*=20*Bs,et*=22*Bs;const It=Xs(Xs(Ys(it,-R),Ys(ut,-j)),Xs(Ys(st,-K),Ys(ct,-nt))),Nt=qs(qs(Ys(it,+R),Ys(ut,+j)),qs(Ys(st,+K),Ys(ct,+nt)));return[[It,Xs(Xs(Ys(pt,-W),Ys(dt,-J)),Xs(Ys(gt,-tt),Ys(mt,-et)))],[Nt,qs(qs(Ys(pt,+W),Ys(dt,+J)),qs(Ys(gt,+tt),Ys(mt,+et)))]]}(t,n):3===t.length?function([[t,n],[e,r],[o,i]],[u,s]){const c=Os(s,u),f=3*Bs*Cs(c[1]),l=Os(zs,u),h=3*Bs*Cs(l[1]),a=$s(c,l,f,h);s=Ys(a.est,a.err);const v=Os(zs,u),p=ks(u,u),d=ks(u,v),g=ks(v,v),m=Os(zs,s),_=ks(s,s),b=ks(s,m),x=ks(m,m),I=Cs(u[1]),N=Cs(v[1]),S=Cs(p[1]),E=Cs(d[1]),M=Cs(g[1]),w=Cs(s[1]),y=Cs(m[1]),P=Cs(_[1]),T=Cs(b[1]),A=Cs(x[1]);let B=Cs(t),C=Cs(n),O=Cs(e),z=Cs(r),Y=Cs(o),F=Cs(i);const k=Fs(Fs(Vs(o,p),Vs(2*e,d)),Vs(t,g)),V=Fs(Vs(o,u),Vs(e,v)),L=k,$=Fs(ks(s,V),ks(m,k)),X=Fs(Fs(Vs(o,_),ks(Ls(b),V)),ks(x,k)),q=Y*S+2*O*E+B*M,Q=Y*I+O*N;B=q,O=w*Q+y*q,Y=P*o+2*T*Q+A*q,B*=7*Bs,O*=11*Bs,Y*=14*Bs;const G=Fs(Fs(Vs(i,p),Vs(2*r,d)),Vs(n,g)),D=Fs(Vs(i,u),Vs(r,v)),H=G,U=Fs(ks(s,D),ks(m,G)),Z=Fs(Fs(Vs(i,_),ks(Ls(b),D)),ks(x,G)),R=F*S+2*z*E+C*M,W=F*I+z*N;C=R,z=w*W+y*R,F=P*i+2*T*W+A*R,C*=7*Bs,z*=11*Bs,F*=14*Bs;const j=Xs(Xs(Ys(L,-B),Ys($,-O)),Ys(X,-Y)),J=qs(qs(Ys(L,+B),Ys($,+O)),Ys(X,+Y));return[[j,Xs(Xs(Ys(H,-C),Ys(U,-z)),Ys(Z,-F))],[J,qs(qs(Ys(H,+C),Ys(U,+z)),Ys(Z,+F))]]}(t,n):function([[t,n],[e,r]],[o,i]){const u=Os(i,o),s=3*Bs*Cs(u[1]),c=Os(zs,o),f=3*Bs*Cs(c[1]),l=$s(u,c,s,f);i=Ys(l.est,l.err);const h=Os(zs,o),a=Os(zs,i),v=Cs(o[1]),p=Cs(h[1]),d=Cs(i[1]),g=Cs(a[1]);let m=Cs(t),_=Cs(n),b=Cs(e),x=Cs(r);const I=Fs(Vs(e,o),Vs(t,h)),N=Fs(Vs(e,i),ks(I,a));m=b*v+m*p,b=b*d+m*g,m*=3*As,b*=7*As;const S=Fs(Vs(r,o),Vs(n,h)),E=Fs(Vs(r,i),ks(S,a));_=x*v+_*p,x=x*d+_*g,_*=3*As,x*=7*As;const M=Xs(Ys(I,-m),Ys(N,-b)),w=qs(Ys(I,+m),Ys(N,+b));return[[M,Xs(Ys(S,-_),Ys(E,-x))],[w,qs(Ys(S,+_),Ys(E,+x))]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n[0]&&0===n[1]){const t=[0,e[0]],n=[0,e[1]];return[[t,n],[t,n]]}if(0===n[0]&&1===n[1]){const t=[0,r[0]],n=[0,r[1]];return[[t,n],[t,n]]}const o=function(t,n){if(0===n[0]&&0===n[1])return t[0].map(t=>[0,t]);if(0===n[0]&&1===n[1])return t[t.length-1].map(t=>[0,t]);if(4===t.length){const[[e,r],[o,i],[u,s],[c,f]]=t,l=gs(as(ds(o,e),n),e),h=gs(as(ds(u,o),n),o),a=gs(as(ds(c,u),n),u),v=vs(l,as(ps(h,l),n)),p=vs(h,as(ps(a,h),n)),d=vs(v,as(ps(p,v),n)),g=gs(as(ds(i,r),n),r),m=gs(as(ds(s,i),n),i),_=gs(as(ds(f,s),n),s),b=vs(g,as(ps(m,g),n)),x=vs(m,as(ps(_,m),n));return[d,vs(b,as(ps(x,b),n))]}if(3===t.length){const[[e,r],[o,i],[u,s]]=t,c=vs([0,e],as(ds(o,e),n)),f=vs([0,o],as(ds(u,o),n)),l=vs(c,as(ps(f,c),n)),h=vs([0,r],as(ds(i,r),n)),a=vs([0,i],as(ds(s,i),n));return[l,vs(h,as(ps(a,h),n))]}if(2===t.length){const[[e,r],[o,i]]=t;return[gs(as(ds(o,e),n),e),gs(as(ds(i,r),n),r)]}if(1===t.length){const[n,e]=t[0];return[[0,n],[0,e]]}throw new Error("The given bezier curve must be of order <= 3.")}(t,n);let i;if(4===t.length)i=dn(t,n).map(t=>16*Qs*t);else if(3===t.length)i=dn(t,n).map(t=>10*Qs*t);else if(2===t.length)i=dn(t,n).map(t=>4*Qs*t);else if(1===t.length)return[o,o];return[[Ys(o[0],-i[0]),Ys(o[1],-i[1])],[Ys(o[0],+i[0]),Ys(o[1],+i[1])]]}(t,n[0])}function Ds(t){return(n,e)=>{let[[r,o],[i,u]]=n,[[s,c],[f,l]]=e;return(o[1]>u[1]||o[1]===u[1]&&o[0]>u[0])&&([o,u]=[u,o]),(c[1]>l[1]||c[1]===l[1]&&c[0]>l[0])&&([c,l]=[l,c]),(r[1]>i[1]||r[1]===i[1]&&r[0]>i[0])&&([r,i]=[i,r]),(s[1]>f[1]||s[1]===f[1]&&s[0]>f[0])&&([s,f]=[f,s]),t?(r[1]<f[1]||r[1]===f[1]&&r[0]<=f[0])&&(i[1]>s[1]||i[1]===s[1]&&i[0]>=s[0])&&(c[1]<u[1]||c[1]===u[1]&&c[0]<=u[0])&&(l[1]>o[1]||l[1]===o[1]&&l[0]>=o[0]):(r[1]<f[1]||r[1]===f[1]&&r[0]<f[0])&&(i[1]>s[1]||i[1]===s[1]&&i[0]>s[0])&&(c[1]<u[1]||c[1]===u[1]&&c[0]<u[0])&&(l[1]>o[1]||l[1]===o[1]&&l[0]>o[0])}}function Hs(t){return[(t.x.box[0][0]+t.x.box[1][0])/2,(t.x.box[0][1]+t.x.box[1][1])/2]}function Us(t,n){const e=hs(t,n);if(void 0===e)return;const{coeffs:r,errBound:o,getPExact:i}=e,u=hn(r,0,1,o,i);return 0!==u.length?{ris:u.map(zr),getPExact:i}:void 0}function Zs(t){return{tS:st(t.tS),tE:st(t.tE),multiplicity:t.multiplicity}}function Rs(t,n){const e=Us(t,n);if(void 0===e)return[];const{getPExact:r}=e;let o,{ris:i}=e;const u=()=>(o=o||r(),o),s=Us(n,t);if(void 0===s)return[];let{ris:c}=s;const{getPExact:f}=s;let l;const h=()=>(l=l||f(),l);let a;a=1;let v,p=0;t:for(;p<a;){v=c.map(n=>Gs(t,[n.tS,n.tE]));for(let t=0;t<c.length;t++){const n=v[t];for(let e=t+1;e<c.length;e++){const t=v[e];if(Ds(!0)(n,t)){const t=[];for(const n of c)t.push(...Gr({tS:n.tS[1],tE:n.tE[1],multiplicity:n.multiplicity},h()));c=t,p++;continue t}}}break t}a=1;let d,g=0;t:for(;g<a;){d=i.map(t=>Gs(n,[t.tS,t.tE]));for(let t=0;t<i.length;t++){const n=d[t];for(let e=t+1;e<i.length;e++){const t=d[e];if(Ds(!0)(n,t)){const t=[];for(const n of i)t.push(...Gr({tS:n.tS[1],tE:n.tE[1],multiplicity:n.multiplicity},u()));i=t,g++;continue t}}}break t}const m=[];for(let t=0;t<c.length;t++){const n=v[t];for(let e=0;e<i.length;e++){const o=d[e];if(Ds(!0)(n,o)){const u={compensated:p,ri:Zs(c[t]),riExp:p?c[t]:void 0,getPExact:p?void 0:f,kind:1,box:Ws(n)},s={compensated:g,ri:Zs(i[e]),riExp:g?i[e]:void 0,getPExact:g?void 0:r,kind:1,box:Ws(o)};m.push({psX:u,sideX:s})}}}return m}function Ws(t){return t.map(t=>t.map(st))}function js(t,n){const e=t.xs,r=[],o=new Map;for(const t of e){const n=t.curve,e=o.get(n);e?e.push(t):o.set(n,[t])}const i=function(t){const[[n,e],[r,o]]=t.box,i=[[[r,e],[n,e]],[[n,e],[n,o]],[[n,o],[r,o]],[[r,o],[r,e]]];return(n,e,r)=>{const o=n.ps,u=e.slice();for(let t=0;t<i.length;t++){const n=Rs(o,i[t]);for(const{psX:e,sideX:r}of n)u.push({x:e,side:t,sideX:r,curve:void 0})}u.sort((t,n)=>t.x.ri.tS-n.x.ri.tS);const s=[],c=[];let f,l;for(const n of u)void 0!==n.side?(!0===l&&c.push({dir:1,p:Hs(n),_x_:f,container:t,idx:++r,side:n.side,sideX:n.sideX}),l=!1):(!1===l&&(s.push({dir:-1,p:Hs(f),_x_:n,container:t,idx:++r,side:f.side,sideX:f.sideX}),n.in_=s[s.length-1]),l=!0),f=n;return{ins:s,outs:c,ioIdx:r}}}(t);for(const t of o){const[e,o]=t;let u,s;({ins:u,outs:s,ioIdx:n}=i(e,o,n)),r.push(...u),r.push(...s)}return{inOuts:r,ioIdx:n}}function Js(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[3*(r-n),3*(o-e)],[3*(i-r),3*(u-o)],[3*(s-i),3*(c-u)]]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[[2*(r-n),2*(o-e)],[2*(i-r),2*(u-o)]]}if(2===t.length){const[[n,e],[r,o]]=t;return[[r-n,o-e]]}throw new Error("The given bezier curve must be of order 1, 2 or 3.")}function Ks(t,n){const e=t.xs;return 2===e.length&&1===e[0].x.kind&&1===e[1].x.kind&&e[0].x.ri.multiplicity%2==1&&e[1].x.ri.multiplicity%2==1?function(t,n){const e=t.xs,r=[],o=e[0],i=e[1],u=o.curve.ps,s=i.curve.ps,c=p(u,o.x.ri.tS),f=o.x.ri.tS,l=o.x.ri.tE,h=i.x.ri.tS,a=i.x.ri.tE;let v,d,g;v=4===u.length||3===u.length?Pn(Js(u),[f,l]):Js(u),d=4===s.length||3===s.length?Pn(Js(s),[h,a]):Js(s);for(let e=0;e<v.length;e++)for(let r=0;r<d.length;r++){const o=Math.sign(Ln(v[e],d[r],[0,0]));if(0===o)return js(t,n);if(void 0!==g){if(g!==o)return js(t,n)}else g=o}return g>0?(r.push({dir:-1,p:c,_x_:o,container:t}),r.push({dir:1,p:c,_x_:i,container:t}),r.push({dir:1,p:c,_x_:o,container:t}),r.push({dir:-1,p:c,_x_:i,container:t}),o.in_=r[0],i.in_=r[3]):(r.push({dir:-1,p:c,_x_:o,container:t}),r.push({dir:-1,p:c,_x_:i,container:t}),r.push({dir:1,p:c,_x_:o,container:t}),r.push({dir:1,p:c,_x_:i,container:t}),o.in_=r[0],i.in_=r[1]),{inOuts:r,ioIdx:n}}(t,n):js(t,n)}function tc(t,n,e,r){const o=[];for(const r of t)o.push({type:-1,item:r,x:n(r)}),o.push({type:1,item:r,x:e(r)});o.sort(nc);const i=new Set,u=[];for(const t of o){const n=t.item;if(-1===t.type){for(const t of i.values()){const e=r(n,t);e&&u.push({a:n,b:t,u:e})}i.add(n)}else 1===t.type&&i.delete(t.item)}return u}function nc(t,n){const e=t.x-n.x;return 0!==e?e:t.type}const ec=Kn,rc=Hn,oc=Yt,ic=ct,uc=st,sc=ne,cc=Fr,fc=Math.abs,lc=bn(3);const hc=Math.abs;const ac=Math.abs,vc=ne,pc=Kn,dc=Hn,gc=Yt,mc=ct,_c=st,bc=Fr,xc=Math.abs,Ic=_n(1),Nc=bn(3);function Sc(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],s=r[i-1],c=1===o&&1===i;{const{vₓₓ:n,vₓᵧ:e,vᵧᵧ:r,vₓ:o,vᵧ:i,v:f}=function(t){const[[n,e,r],[o,i,u]]=m(t),s=n*i-e*o,c=n*u-r*o;return{vₓₓ:-o*o,vₓᵧ:2*n*o,vᵧᵧ:-n*n,vₓ:i*s-2*o*c,vᵧ:2*n*c-e*s,v:s*(e*u-r*i)-c*c}}(t),{vₓₓ_:l,vₓᵧ_:h,vᵧᵧ_:a,vₓ_:v,vᵧ_:p,v_:d}=function(t){const[n,e]=t[0],[[r,o],[i,u]]=function(t){const[[n,e],[r,o],[i,u]]=t,s=hc(n),c=hc(r),f=hc(i),l=hc(e),h=hc(o);return[[f+s+2*c,2*(c+s),0],[hc(u)+l+2*h,2*(h+l),0]]}(t),s=ac(n),c=ac(e),f=r*u+o*i,l=r*c+s*i;return{vₓₓ_:i*i,vₓᵧ_:2*r*i,vᵧᵧ_:r*r,vₓ_:u*f+2*i*l,vᵧ_:2*r*l+o*f,v_:f*(o*c+s*u)+l*l}}(t),g=c?0:1,_=xc(u),b=xc(s);if((g+12)*Ic*(l*(_*_)+h*(_*b)+a*(b*b)+(v*_+p*b)+d)<xc(n*u*u+e*u*s+r*s*s+(o*u+i*s)+f))return!1}{const{coeffs:{vₓₓ:n,vₓᵧ:o,vᵧᵧ:i,vₓ:c,vᵧ:f,v:l},errorBound:{vₓₓ_:h,vₓᵧ_:a,vᵧᵧ_:v,vₓ_:p,vᵧ_:d,v_:g}}=_o(t),m=bc(e),_=bc(r),b=xc(u),x=xc(s),I=b/3,N=x/3,S=vc(m,m),E=S[1],M=2*(b*I+E),w=vc(_,_),y=w[1],P=2*(x*N+y),T=vc(m,_),A=xc(T[1]),B=b*N+I*x+2*A,C=vc(n,S),O=xc(n[1])*M+h*E+2*xc(C[1]),z=vc(o,T),Y=xc(o[1])*B+a*A+2*xc(z[1]),F=vc(i,w),k=xc(i[1])*P+v*y+2*xc(F[1]),V=vc(m,c),L=xc(c[1])*I+p*b+2*xc(V[1]),$=vc(_,f),X=xc(f[1])*N+d*x+2*xc($[1]),q=pc(C,z),Q=O+Y+xc(q[1]),G=pc(q,F),D=Q+k+xc(G[1]),H=pc(V,$),U=L+X+xc(H[1]),Z=pc(G,H),R=D+U+xc(Z[1]),W=pc(Z,l),j=R+g+xc(W[1]);if(Nc*j<xc(_c(W)))return!1}{const n=function(t){return Ri(Oi(t))}(t);if(void 0===n)return c&&u===t[0][0]&&s===t[0][1];n.hasOwnProperty("vₓₓ")||(n.vₓₓ=[0],n.vₓᵧ=[0],n.vᵧᵧ=[0]);const{vₓₓ:o,vₓᵧ:i,vᵧᵧ:f,vₓ:l,vᵧ:h,v:a}=n,v=gc(gc(gc(dc(o,dc(e,e)),dc(i,dc(e,r))),dc(f,dc(r,r))),gc(gc(dc(e,l),dc(r,h)),a));return 0===mc(v)}}const Ec=Math.abs,Mc=ne,wc=Kn,yc=Hn,Pc=Yt,Tc=ct,Ac=st,Bc=Fr,Cc=Math.abs,Oc=_n(1),zc=bn(3);function Yc(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],s=r[i-1],c=1===o&&1===i;{const{vₓₓₓ:n,vₓₓᵧ:e,vₓᵧᵧ:r,vᵧᵧᵧ:o,vₓₓ:i,vₓᵧ:f,vᵧᵧ:l,vₓ:h,vᵧ:a,v}=function(t){const[[n,e,r,o],[i,u,s,c]]=g(t),f=n*s,l=r*i,h=n*u,a=e*i,v=n*n,p=i*i,d=n*c-o*i,m=f-l,_=h-a,b=e*c-o*u,x=e*s-r*u,I=r*c-o*s,N=2*m,S=d*d,E=d*x,M=N*b,w=_*b,y=-3*d-x,P=-3*S-2*E+(M+_*I),T=2*(d*m-w),A=d*_-m*m+_*x;return{vₓₓₓ:-i*p,vₓₓᵧ:3*n*p,vₓᵧᵧ:-3*i*v,vᵧᵧᵧ:n*v,vₓₓ:y*p+_*(s*i-u*u)+N*u*i,vₓᵧ:2*(_*(e*u-(l+f)/2)-(y*n*i+m*(a+h))),vᵧᵧ:y*v+_*(r*n-e*e)+N*e*n,vₓ:i*P+(u*T+s*A),vᵧ:-n*P-(e*T+r*A),v:d*(M-S-E)+(A*I-w*b)}}(t),{vₓₓₓ_:p,vₓₓᵧ_:d,vₓᵧᵧ_:m,vᵧᵧᵧ_:_,vₓₓ_:b,vₓᵧ_:x,vᵧᵧ_:I,vₓ_:N,vᵧ_:S,v_:E}=function(t){const[n,e]=t[0],[[r,o,i],[u,s,c]]=function(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=hc(n),l=hc(r),h=hc(i),a=hc(s),v=hc(e),p=hc(o),d=hc(u);return[[a+f+3*(l+h),3*(h+f+2*l),3*(l+f),0],[hc(c)+v+3*(p+d),3*(d+v+2*p),3*(p+v),0]]}(t),f=Ec(n),l=Ec(e),h=r*c,a=i*u,v=r*s,p=o*u,d=r*r,g=u*u,m=r*l+f*u,_=h+a,b=v+p,x=o*l+f*s,I=o*c+i*s,N=i*l+f*c,S=2*_,E=m*m,M=m*I,w=S*x,y=b*x,P=3*m+I,T=3*E+2*M+(w+b*N),A=2*(m*_+y),B=m*b+_*_+b*I;return{vₓₓₓ_:u*g,vₓₓᵧ_:3*r*g,vₓᵧᵧ_:3*u*d,vᵧᵧᵧ_:r*d,vₓₓ_:P*g+b*(c*u+s*s)+S*s*u,vₓᵧ_:2*(b*(o*s+(a+h)/2)+(P*r*u+_*(p+v))),vᵧᵧ_:P*d+b*(i*r+o*o)+S*o*r,vₓ_:u*T+(s*A+c*B),vᵧ_:r*T+(o*A+i*B),v_:m*(w+E+M)+(B*N+y*x)}}(t),M=u*u,w=s*s,y=n*(M*u)+e*(M*s)+(r*(u*w)+o*(w*s))+(i*M+f*(u*s)+l*w)+(h*u+a*s+v),P=c?0:1,T=Cc(u),A=Cc(s),B=T*T,C=A*A;if((P+26)*Oc*(p*(B*T)+d*(B*A)+(m*(T*C)+_*(C*A))+(b*B+x*(T*A)+I*C)+(N*T+S*A+E))<Cc(y))return!1}{const{coeffs:{vₓₓₓ:n,vₓₓᵧ:o,vₓᵧᵧ:i,vᵧᵧᵧ:c,vₓₓ:f,vₓᵧ:l,vᵧᵧ:h,vₓ:a,vᵧ:v,v:p},errorBound:{vₓₓₓ_:d,vₓₓᵧ_:g,vₓᵧᵧ_:m,vᵧᵧᵧ_:_,vₓₓ_:b,vₓᵧ_:x,vᵧᵧ_:I,vₓ_:N,vᵧ_:S,v_:E}}=Oo(t),M=Cc(n[1]),w=Cc(o[1]),y=Cc(i[1]),P=Cc(c[1]),T=Bc(e),A=Bc(r),B=Cc(u),C=Cc(s),O=B/3,z=C/3,Y=Mc(T,T),F=Y[1],k=2*(B*O+F),V=Mc(T,Y),L=Cc(V[1]),$=B*k+O*F+2*L,X=Mc(A,A),q=X[1],Q=2*(C*z+q),G=Mc(A,X),D=Cc(G[1]),H=C*Q+z*q+2*D,U=Mc(A,Y),Z=Cc(U[1]),R=C*k+z*F+2*Z,W=Mc(T,X),j=Cc(W[1]),J=B*Q+O*q+2*j,K=Mc(T,A),tt=Cc(K[1]),nt=B*z+O*C+2*tt,et=Mc(n,V),rt=M*$+d*L+2*Cc(et[1]),ot=Mc(o,U),it=w*R+g*Z+2*Cc(ot[1]),ut=Mc(i,W),st=y*J+m*j+2*Cc(ut[1]),ct=Mc(c,G),ft=P*H+_*D+2*Cc(ct[1]),lt=Mc(f,Y),ht=Cc(f[1])*k+b*F+2*Cc(lt[1]),at=Mc(l,K),vt=Cc(l[1])*nt+x*tt+2*Cc(at[1]),pt=Mc(h,X),dt=Cc(h[1])*Q+I*q+2*Cc(pt[1]),gt=Mc(T,a),mt=Cc(a[1])*O+N*B+2*Cc(gt[1]),_t=Mc(A,v),bt=Cc(v[1])*z+S*C+2*Cc(_t[1]),xt=wc(et,ot),It=rt+it+Cc(xt[1]),Nt=wc(ut,ct),St=st+ft+Cc(Nt[1]),Et=wc(xt,Nt),Mt=It+St+Cc(Et[1]),wt=wc(lt,at),yt=ht+vt+Cc(wt[1]),Pt=wc(wt,pt),Tt=yt+dt+Cc(Pt[1]),At=wc(Et,Pt),Bt=Mt+Tt+Cc(At[1]),Ct=wc(gt,_t),Ot=mt+bt+Cc(Ct[1]),zt=wc(Ct,p),Yt=Ot+E+Cc(zt[1]),Ft=wc(At,zt),kt=Bt+Yt+Cc(Ft[1]);if(zc*kt<Cc(Ac(Ft)))return!1}{const n=function(t){return _u(Ci(t))}(t);if(void 0===n)return c&&u===t[0][0]&&s===t[0][1];n.hasOwnProperty("vₓₓₓ")||(n.vₓₓₓ=[0],n.vₓₓᵧ=[0],n.vₓᵧᵧ=[0],n.vᵧᵧᵧ=[0]),n.hasOwnProperty("vₓₓ")||(n.vₓₓ=[0],n.vₓᵧ=[0],n.vᵧᵧ=[0]);const{vₓₓₓ:o,vₓₓᵧ:i,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:h,vₓᵧ:a,vᵧᵧ:v,vₓ:p,vᵧ:d,v:g}=n,m=yc(e,e),_=yc(e,m),b=yc(r,r),x=yc(r,b),I=yc(r,m),N=yc(e,b),S=yc(e,r),E=yc(o,_),M=yc(i,I),w=yc(f,N),y=yc(l,x),P=yc(h,m),T=yc(a,S),A=yc(v,b),B=yc(e,p),C=yc(r,d),O=Pc(E,M),z=Pc(w,y),Y=Pc(O,z),F=Pc(P,T),k=Pc(F,A),V=Pc(Y,k),L=Pc(B,C),$=Pc(L,g),X=Pc(V,$);return 0===Tc(X)}}function Fc(t,n){const{coeffs:e,errBound:r,getPExact:o}=hs(t,n);return hn(e,0,1,r,o,!0)}const kc=Math.min,Vc=Math.max;function Lc(t,n){let[[e,r],[o,i]]=t,[[u,s],[c,f]]=n;if(e>o&&([e,o]=[o,e]),u>c&&([u,c]=[c,u]),r>i&&([r,i]=[i,r]),s>f&&([s,f]=[f,s]),e<=c&&o>=u&&s<=i&&f>=r)return[[Vc(e,u),Vc(r,s)],[kc(o,c),kc(i,f)]]}function $c(t,n,e){if(void 0===e)return;if(0===e.length)return[];const r=Fc(n,t);if(void 0===r)return;if(0===r.length)return[];const o=r.map(n=>Pn(t,[n.tS,n.tE])),i=e.map(t=>Pn(n,[t.tS,t.tE])),u=[];for(let t=0;t<r.length;t++){const n=o[t];for(let o=0;o<e.length;o++){const s=Lc(n,i[o]);if(void 0!==s){const n={ri:r[t],box:s,kind:1},i={ri:e[o],box:s,kind:1};u.push([n,i])}}}return u}function Xc(t,n,e){for(const r of[t,n]){const o=r.length;for(let i=1;i<o+1;i++){const u=r[i-1],s=r[i%o],c=[s[1]-u[1],u[0]-s[0]];let f=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const e=c[0]*t[n][0]+c[1]*t[n][1];e<f&&(f=e),e>l&&(l=e)}let h=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(let t=0;t<n.length;t++){const e=c[0]*n[t][0]+c[1]*n[t][1];e<h&&(h=e),e>a&&(a=e)}if(e&&(l<h||a<f))return!1;if(!e&&(l<=h||a<=f))return!1}}return!0}const qc=It,Qc=Yt,Gc=ct,Dc=Fn,Hc=Number.EPSILON/2,Uc=Math.abs;function Zc(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=s+3*r,l=n+3*i,h=f-l,a=Uc(3*r)+Uc(f)+(Uc(3*i)+Uc(l))+Uc(h);if(Uc(h)-Hc*a>0)return!1;const v=c+3*o,p=e+3*u,d=v-p,g=Uc(3*o)+Uc(v)+(Uc(3*u)+Uc(p))+Uc(d);return!(Uc(d)-Hc*g>0)&&0===Gc(Dc(Qc([s],qc(3,r)),Qc([n],qc(3,i))))&&0===Gc(Dc(Qc([c],qc(3,o)),Qc([e],qc(3,u))))}const Rc=Fn,Wc=ct,jc=Nt,{abs:Jc}=Math;function Kc(t){const n=t[0][0],e=t[0][1];for(let r=1;r<t.length;r++)if(n!==t[r][0]||e!==t[r][1])return!1;return!0}function tf(t){return 4===t.length&&Zc(t)&&(t=lu(t)),3===t.length&&function(t){const[[n,e],[r,o],[i,u]]=t,s=n+i,c=s-2*r,f=Jc(s)+Jc(c);if(Jc(c)-f>0)return!1;const l=e+u,h=l-2*o,a=Jc(l)+Jc(h);return!(Jc(h)-a>0)&&0===Wc(Rc(jc(n,i),[2*r]))&&0===Wc(Rc(jc(e,u),[2*o]))}(t)&&(t=[t[0],t[2]]),2===t.length&&Kc(t)&&(t=[t[0]]),t}const nf=Number.EPSILON,ef=nf/2;function rf(t,n){return n<0?t<1?t:1-ef:0===n?1:t>1?t:1+nf}function of(t){const n=function(t){const n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,t,!1),Array.from(new Uint8Array(n))}(t),e=n[0],r=n[1],o=e>>7,i=((127&e)<<4)+((240&r)>>4),u=0===i?0:16,s=0===i?i-1022:i-1023,c=n.slice(1);return c[0]=(15&r)+u,{sign:o,exponent:s,significand:c}}function uf(t){return of(t).significand}function sf(t){return Math.log2(t&-t)}function cf(t){if(0===t||!Number.isFinite(t))return NaN;const n=uf(t),e=n.length;for(let t=e-1;t>=0;t--){if(0===n[t])continue;const r=sf(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function ff(t){return t>=128?7:t>=64?6:t>=32?5:t>=16?4:t>=8?3:t>=4?2:t>=2?1:t>=1?0:NaN}function lf(t){if(0===t||!Number.isFinite(t))return NaN;const n=uf(t),e=n.length;for(let t=0;t<e;t++){const r=ff(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function hf(t){return of(t).exponent}function af(t){if(0===t||!Number.isFinite(t))return NaN;const n=hf(t);return lf(t)-52+n}function vf(t,n){const e=(2**(53-n)+1)*t;return e-(e-t)}const pf=ct,df=Vn;function gf(t){return 0===t?0:lf(t)-cf(t)+1}const mf=Hn,_f=function(t,n){if(t=df(t),0===pf(t))return[0];const e=af(t[t.length-1]);let r=e,o=t.length-1;for(;o>0;){const i=af(t[o-1]);if(e-i>n)break;r=i,o--}const i=Math.min(n-(e-r),53);let u=t[o];u=vf(u,i);const s=t.slice(o);return s[0]=u,s},bf=function(t){const n=Vn(t);if(0===ct(n))return 0;const e=n[n.length-1],r=n[0];return hf(e)-hf(r)+(53-cf(r))},xf=Fn,If=st;function Nf(t){return st(function(t,n,e){let r=n,o=t,i=!1,u=0;e||(u=bf(o)-bf(r)+1,e=u/53+1,i=!0);let s=[1/If(r)],c=1;for(;;){if(o=mf(o,s),c>e)return i?(o=_f(o,u),o):o.slice(o.length-e,o.length);r=mf(r,s),s=xf([2],r),c*=2}}(t[0],t[1],2))}function Sf(t){return ct(t[0])*ct(t[1])}function Ef(t){return(n,e)=>{const r=Bi(n),o=Bi(e),i=Bi(n.slice().reverse()),u=Bi(e.slice().reverse()),s=t(r,o),c=t(i,o),f=t(r,u),l=t(i,u),h=-Sf(c),a=-Sf(l),v=Nf(s),p=Nf(f);return[rf(v,h),rf(p,a)]}}const Mf=Ef(function(t,n){const e=0===ct(t[0][0])?1:0;return function(t,n){const[e,r]=t,[,o]=n;return[Fn(o,r),e]}(t[e],n[e])});function wf(t,n){return ct(Fn(t,n))}function yf(t,n){return wf(Hn(t[0],n[1]),Hn(t[1],n[0]))*ct(t[1])*ct(n[1])}const Pf=hf,Tf=gf;function Af(t){let n=-1024;for(let e=0;e<t.length;e++){const r=t[e];for(let t=0;t<r.length;t++){const e=r[t];if(0===e)continue;const o=-Pf(e)+Tf(e)-1;o>n&&(n=o)}}return 0===n?t.map(t=>t.map(t=>BigInt(t))):n>0?t.map(t=>t.map(t=>{if(0===t)return 0n;const e=-Pf(t)+Tf(t)-1;return BigInt(t*2**e)*2n**BigInt(n-e)})):t.map(t=>t.map(t=>BigInt(t*2**n)))}function Bf(t,n){if(n=n<0n?-n:n,0n===(t=t<0n?-t:t))return n;if(0n===n)return t;for(;0n!==n;){const e=n;n=t%n,t=e}return t}const Cf=BigInt(2**53);function Of(t){if(0n===t)return[0];const n=[];let e=0,r=t;for(;0n!==r;){r=t/Cf;const o=t%Cf;n.push(Number(o)*2**(53*e)),t=r,e++}return Vn(n)}const{round:zf,sqrt:Yf}=Math;function Ff(t){if(t<=1n){if(t<0n)throw new Error("square root of negative numbers are not allowed");return t}let n=BigInt(zf(Yf(Number(t))));for(;;){const e=n+t/n>>1n;if(e===n)return n;n=e}}function kf(t){return t<0n?-t:t}function Vf(t){let n=0n;for(let e=0;e<t.length;e++)n+=t[e];return n}function Lf(t,n){const[e,r]=$f(t[0],n[0]),[o,i]=$f(t[1],n[1]);if(0===yf(e,o)||0===yf(e,i))return e;if(0===yf(r,o)||0===yf(r,i))return r;throw new Error("An unexpected error occured.")}function $f(t,n){const[e,r]=t,[o,i]=n,[u,s]=function(t){const[n,e]=Af(t).map(Vf),r=Bf(n,e);return[Of(Ff(kf(n/r))),Of(Ff(kf(e/r)))]}([o,e]);return[[Fn(Hn(i,s),Hn(r,u)),Hn(u,Pe(e))],[Fn(Hn(i,On(s)),Hn(r,u)),Hn(u,Pe(e))]].sort(yf)}function Xf(t,n){const e=Bi(t),r=0===ct(e[0][0])?0:0===ct(e[1][0])?1:-1;if(-1!==r){const e=t[0][r],o=t[2][r],i=n[0][r],u=n[2][r];return Mf([[e,e],[o,o]],[[i,i],[u,u]])}return Ef(Lf)(t,n)}const{round:qf,cbrt:Qf}=Math;function Gf(t){const n=(e=t)>0n?1n:e<0n?-1n:0n;var e;if((t=kf(t))<=1n)return n*t;let r=BigInt(qf(Qf(Number(t))));for(;;){const e=(2n*r+t/(r*r))/3n;if(e===r)return n*r;r=e}}function Df(t){return Hn(t,t)}const Hf=Ef(function(t,n){const e=0===ct(t[0][0])?1:0;return function(t,n){const[e,r]=t,[o,i]=n,u=function(t){const[n,e]=Af(t).map(Vf),r=Bf(n,e);return[Of(Gf(n/r)),Of(Gf(e/r))]}([o,e]),s=Df(u[0]);return[Fn(Hn(i,Df(u[1])),Hn(r,s)),Hn(_t(3,e),s)]}(t[e],n[e])}),{EPSILON:Uf}=Number,Zf=Uf/2+Uf**2/2;function Rf(t){return t>0?t-t*Zf:t+t*Zf}const{EPSILON:Wf}=Number,jf=Wf/2+Wf**2/2;function Jf(t){return t>0?t+t*jf:t-t*jf}function Kf(t){if(0===t||1===t)return[t,t];const n=Rf(Rf(t)),e=function(t){return Jf(Jf(t))}(t);return[n,e]}function tl(t,n,e,r){const o=t.ps,i=n.ps,u=[];let s=Fc(o,i);if(void 0===s){const r=2**(e-47),s=function(t,n,e=!1){e||(t=tf(t),n=tf(n));const r=[,,Mf,Xf,Hf],[o,i]=r[t.length](t,n),[u,s]=r[t.length](n,t),c=[{tA:o,tB:0,bez:"B",start:!0},{tA:i,tB:1,bez:"B",start:!1},{tA:0,tB:u,bez:"A",start:!0},{tA:1,tB:s,bez:"A",start:!1}].sort((t,n)=>t.tA-n.tA);if(c[1].tA===c[2].tA){const n=c[1],e=n.tA,r=n.tB,o=Pn(t,[e,e]);return[{p:o[0],kind:4,box:o,t1:e,ri1:{tS:e,tE:e,multiplicity:1},t2:r,ri2:{tS:r,tE:r,multiplicity:1}}]}if(c[0].bez===c[1].bez)return[];const f=c[1],l=c[2],[h,a]=Kf(f.tA),[v,p]=Kf(f.tB),[d,g]=Kf(l.tA),[m,_]=Kf(l.tB),b=Pn(t,[h,a]),x=Pn(n,[v,p]),I=Pn(t,[d,g]),N=Pn(n,[m,_]),S=Lc(b,x),E=Lc(I,N),M={tS:h,tE:a,multiplicity:1},w={tS:v,tE:p,multiplicity:1},y={tS:d,tE:g,multiplicity:1},P={tS:m,tE:_,multiplicity:1};return[{p:Qn(S),kind:5,box:S,t1:qn(M),ri1:M,t2:qn(w),ri2:w},{p:Qn(E),kind:5,box:E,t1:qn(y),ri1:y,t2:qn(P),ri2:P}]}(o,i);for(const e of s){const i=p(o,e.ri1.tS),s=[[i[0]-r,i[1]-r],[i[0]+r,i[1]+r]],c={x:{ri:e.ri1,kind:5,box:s},curve:t},f={x:{ri:e.ri2,kind:5,box:s},curve:n};u.push([c,f])}return u}if(r&&(s=s.filter(t=>t.tS>0)),0===s.length)return[];const c=$c(o,i,s);if(void 0===c||0===c.length)return[];for(const e of c){const r={x:e[0],curve:t},o={x:e[1],curve:n};u.push([r,o])}return u}const nl=p,el=dn,rl=_n(1);function ol(t,n,e){const r=n.ps;if(0===t)return r[0],{x:{ri:{tS:t,tE:t,multiplicity:1},box:[r[0],r[0]],kind:e},curve:n};if(1===t){const o=r[r.length-1];return{x:{ri:{tS:t,tE:t,multiplicity:1},box:[o,o],kind:e},curve:n}}const{p:o,pE:i}=function(t,n){const e=nl(t,n),r=el(t,[0,n]);if(4===t.length)return{p:e,pE:r.map(t=>9*rl*t)};if(3===t.length)return{p:e,pE:r.map(t=>6*rl*t)};if(2===t.length)return{p:e,pE:r.map(t=>3*rl*t)};if(1===t.length)return{p:t[0],pE:[0,0]};throw new Error("The given bezier curve must be of order <= 3.")}(r,t);return{x:{ri:{tS:t,tE:t,multiplicity:1},box:[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]],kind:e},curve:n}}function il(t,n){if(n.next===t){if(t.next===n)return;[t,n]=[n,t]}const e=t.ps,r=n.ps;if(function(t,n){if(4===t.length)return Yc(t,n);if(3===t.length)return Sc(t,n);if(2===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],s=r[i-1],c=1===o&&1===i;{const{coeffs:{vₓ:n,vᵧ:o,v:i},errorBound:{v_:c}}=oo(t),f=cc(e),l=cc(r),h=fc(u),a=fc(s),v=fc(n[1]),p=fc(o[1]),d=h/3,g=a/3,m=n[1]*u,_=sc(f,n),b=v*d+2*fc(m),x=o[1]*s,I=sc(l,o),N=p*g+2*fc(x),S=ec(_,I),E=b+N+fc(S[1]),M=ec(S,i),w=E+c+fc(M[1]);if(lc*w<fc(uc(M)))return!1}{const n=function(t){return Li(zi(t))}(t);if(void 0===n)return c&&u===t[0][0]&&s===t[0][1];const{vₓ:o,vᵧ:i,v:f}=n,l=rc(e,o),h=rc(r,i),a=oc(oc(l,h),f);return 0===ic(a)}}(t,n);if(1===t.length){const e=Vn(n[0]),r=Vn(n[1]);return 1===e.length&&1===r.length&&e[0]===t[0][0]&&r[0]===t[0][1]}throw new Error("The given bezier curve must be of order <= 3")}(e,r[r.length-1].map(t=>[t]))){const i=$c(e,r,[(o=1,{tS:o,tE:o,multiplicity:1})]);if(void 0===i||0===i.length)return;return[[{x:i[0][0],curve:t},ol(1,n,1)]]}var o}function ul(t,n){const e=[];for(const n of t)for(const t of n.curves)e.push(t);const r=tc(e,t=>br(t.ps)[0][0],t=>br(t.ps)[1][0],function(t){return(n,e)=>{const r=n.ps,o=e.ps;if(2===r.length&&2===o.length)return function(t,n,e){let r=t.ps,o=n.ps;const i=br(r),u=br(o);if(t.next!==n&&n.next!==t){if(wr(!0,i,u)){const r=tl(t,n,e,!1);return r.length?r:void 0}return}if(n.next===t&&([t,n]=[n,t],[r,o]=[o,r]),0!==Ln(r[0],r[1],o[1]))return;if(!wr(!1,i,u))return;let s;return s=ot(r[0],r[1])>ot(o[0],o[1])?[qn(nr(r,o[1])[0].ri),1]:[0,qn(nr(o,r[0])[0].ri)],[[ol(1,t,5),ol(0,n,5)],[ol(s[0],t,5),ol(s[1],n,5)]]}(n,e,t);if(n.next===e||e.next===n)return wr(!1,br(r),br(o))&&Xc(Xn(r,!1),Xn(o,!1),!1)?e.next===n?tl(e,n,t,!0):tl(n,e,t,!0):il(n,e);let i=wr(!0,br(r),br(o));return i?(i=Xc(Xn(r,!1),Xn(o,!1),!0),i?tl(n,e,t,!1):void 0):void 0}}(n)),o=[];for(const t of r)for(const n of t.u)o.push(n);return o}const sl=On;function cl(t){return t[t.length-1]<0?sl(t):t}Number.EPSILON;const fl=Number.EPSILON/2;function ll(t,n,e,r){const o=t/n,i=Math.abs(t),u=Math.abs(n),s=u-r;return s<=0?{est:o,err:Number.POSITIVE_INFINITY}:{est:o,err:(u*e+i*r)/s**2+fl*Math.abs(i/u)}}const hl=Math.abs;const al=Math.abs,vl=_n(1),pl=Hn,dl=Yt,gl=Fn,ml=Fn,_l=Hn,bl=_t,xl=Jn,Il=function(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]},Nl=lo,Sl=Kn,El=ee,Ml=_s,wl=Yt,yl=Mi,Pl=2*Number.EPSILON,Tl=Math.abs,Al=_n(1);function Bl(t,n=!0){if(t.length<4)return[];const{coeffs:[e,r,o],errBound:[i,u,s]}=function(t){const{coeffs:[[n,e,r],[o,i,u]],errorBound:[[s,c],[f,l]]}=function(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=s-n,l=r-i,h=f+3*l,a=i+n,v=a-2*r,p=r-n,d=c-e,g=o-u,m=d+3*g,_=u+e,b=_-2*o,x=o-e;return{coeffs:[[h,3*v,3*p,n],[m,3*b,3*x,e]],errorBound:[[hl(f)+6*hl(l)+hl(h),6*(hl(a)+hl(v)),6*hl(p),0],[hl(d)+6*hl(g)+hl(m),6*(hl(_)+hl(b)),6*hl(x),0]]}}(t),h=al(n),a=al(e),v=al(r),p=al(o),d=al(i),g=al(u),m=e*o,_=n*i,b=n*u,x=r*o,I=e*u,N=r*i,S=c*p+a*f+al(m),E=s*d+h*l+al(_),M=s*g+al(b),w=v*f+al(x),y=c*g+al(I),P=v*l+al(N),T=m-_,A=al(T),B=S+E+A,C=x-b,O=al(C),z=w+M+O,Y=I-N,F=al(Y),k=y+P+F,V=T*T,L=T*C,$=Y*T,X=C*C,q=$+X;return{coeffs:[V,L,q],errBound:[2*B*A+al(V),B*O+A*z+al(L),k*A+F*B+al($)+(2*O*z+al(X))+al(q)].map(t=>vl*t)}}(t);if(Tl(e)<=i){const[[n,e],[r,o],[i,u],[s,c]]=t,f=wl(xl(s,n),bl(3,xl(r,i))),l=yl(Il(i,n),-2*r),h=wl(xl(c,e),bl(3,xl(o,u))),a=yl(Il(u,e),-2*o);if(0===wf(_l(l,h),_l(f,a)))return[]}const c=r*r,f=4*e*o,l=c-f,h=2*u*Tl(r)+Al*c+(4*(i*Tl(o)+Tl(e)*s)+Al*Tl(f))+Al*Tl(l);if(l<-h)return[];if(l>h){const{est:t,err:c}=function(t,n){if(t-n<=0){const e=t>0?Math.sqrt(t):0;return{est:e,err:Math.max(Math.sqrt(t+n)-e,e)}}const e=Math.sqrt(t),r=Math.sqrt(t-n),o=Math.sqrt(t+n);return{est:e,err:Math.max(Math.abs(r-e),Math.abs(o-e))}}(l,h);let f;f=r>=0?-r-t:-r+t;const a=u+c+Al*Tl(f),{est:v,err:p}=ll(f,2*e,a,2*i),{est:d,err:g}=ll(2*o,f,2*s,a);if(n){if(v+p<0||v-p>1||d+g<0||d-g>1)return[]}else if((v+p<0||v-p>1)&&(d+g<0||d-g>1))return[]}let[a,v,p]=function(t){const[[n,e,r],[o,i,u]]=Ci(t),s=pl(e,o),c=pl(n,i),f=pl(n,u),l=pl(r,o),h=pl(e,u),a=pl(r,i),v=gl(s,c),p=gl(l,f),d=gl(h,a),g=pl(v,v),m=pl(v,p),_=pl(v,d),b=pl(p,p);return[g,m,dl(_,b)]}(t);const d=ml(_l(v,v),bl(4,_l(a,p))),g=ct(d);if(g<0)return[];if(g>0){const t=function(t){const n=t[0],e=t[1];if(0===e)return[0,0];const r=Math.sqrt(e),o=r*r,i=134217729*r,u=i-(i-r),s=r-u,c=.5*(e-o-(s*s-(o-u*u-u*s*2))+n)/r;return[c-(r+c-r),r+c]}(Fr(d));let e;a=Fr(a),v=Fr(v),p=Fr(p),e=ct(v)>=0?Nl(Sl(v,t)):Sl(Nl(v),t);let r=st(Ml(e,El(a))),o=st(Ml(El(p),e));if(n){if(r<-Pl||r>1+Pl||o<-Pl||o>1+Pl)return[]}else if((r<-Pl||r>1+Pl)&&(o<-Pl||o>1+Pl))return[];return[r,o]=r<o?[r,o]:[o,r],r>=0-Pl&&r<=1+Pl?o>=0-Pl&&o<=1+Pl?[r,o]:[r]:o>=0-Pl&&o<=1+Pl?[o]:[]}const m=Te(a);if(ct(v)*ct(m)<0)return[];if(wf(cl(v),cl(m))>0)return[];const _=Fr(v),b=Fr(m),x=Ml(_,b),I=x[1]+x[0];return[I,I]}const Cl=Number.EPSILON;function Ol(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[6*(s-n+3*(r-i)),6*(i+n-2*r)],[6*(c-e+3*(o-u)),6*(u+e-2*o)]]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[[2*(i-2*r+n)],[2*(u-2*o+e)]]}if(t.length<=2)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}const zl=Ln;function Yl(t){if(4===t.length)return 0===zl(t[0],t[1],t[2])&&0===zl(t[1],t[2],t[3])&&0===zl(t[0],t[2],t[3]);if(3===t.length)return 0===zl(t[0],t[1],t[2]);if(t.length<=2)return!0;throw new Error("The given bezier curve must be of order <= 3.")}function Fl(t){if(Yl(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&Zc(t)&&(t=lu(t)),3===t.length){const n=function(t){const[[n,e],[r,o],[i,u]]=t,s=i-r,c=s-(r-n),f=u-o,l=f-(o-e);return[c*c+l*l,-(n*(c-r)-r*(s-r)+e*(l-o)-o*(f-o))]}(t);return{minima:[],maxima:U(n,0,1),inflections:[]}}const n=function(t){const[[n,e,r],[o,i,u]]=_(t),[[s,c],[f,l]]=Ol(t),[[h],[a]]=function(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[6*(s-n+3*(r-i))],[6*(c-e+3*(o-u))]]}if(t.length<=3)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}(t),v=h*i,p=a*e,d=c*u,g=c*i,m=f*f,b=s*u,x=l*r,I=l*e,N=f*r,S=r*e,E=r*n,M=r*o,w=e*e,y=e*n,P=e*i,T=n*u,A=n*o,B=n*n,C=u*i,O=u*o,z=i*i,Y=i*o,F=o*o,k=h*u-a*r,V=c*r+l*u,L=d-x,$=r*r+u*u,X=P+T,q=O+z,Q=E+w,G=e*o+n*i,D=B-F,H=y-Y,U=S-C,Z=r*i+e*u,R=O+q,W=E+Q,j=M+X,J=P+X,K=W-R,tt=X+T,nt=M+P+T,et=2*I+N;return{inflectionPoly:[s*o-f*n,c*o+s*i-l*n-f*e,g+b-I-N,d-x],otherExtremaPoly:[B*(v-3*p)+F*(3*v-p)+2*(A*(h*e-a*i+3*(l*f-c*s))+3*s*f*H)+3*(G*(m-s*s)+D*(c*f+l*s)),h*(o*(W+3*q)+n*J)-a*(r*(3*B+F)+e*(3*y+2*Y)+n*R)+3*(c*(l*D-c*A+2*(f*H-s*G))+s*(2*l*H+f*(2*(E-O)+(w-z))-s*nt)+l*(l*A+2*f*G)+m*j),h*(2*r*G+e*tt+i*(4*O+R))-a*(2*r*(3*y+Y)+e*(w+2*O)+i*tt)+3*(c*(2*(l*H-s*nt)+f*K-c*G)+s*(2*f*U-s*Z)+l*(l*G+2*f*j+s*K)+m*Z),h*(r*(M+2*X)+u*(w+3*q))-a*(r*(3*Q+R)+u*J)+3*(c*(l*K-c*j+2*(f*U-s*Z))+s*(r*(et-s*u)-u*(2*l*i+f*u))+l*(l*X+r*(2*f*i+l*o))+f*u*et),$*(v-p)+2*(S+C)*k-3*(V*(g+b-I-N)+(c*e+s*r+l*i+f*u)*L),k*$-3*V*L]}}(t),e=n.inflectionPoly,r=n.otherExtremaPoly,o=U(r,0,1),i=B(r),u=[],s=[];for(let t=0;t<o.length;t++){const n=o[t],r=w(i,n);w(e,n)*r>=0?u.push(n):s.push(n)}return{minima:u,maxima:s,inflections:U(e,0,1)}}function kl(t,n){const[e,r]=_(t),[o,i]=Ol(t),u=w(e,n),s=w(r,n),c=w(o,n);return(u*w(i,n)-s*c)/Math.sqrt((u*u+s*s)**3)}const{abs:Vl}=Math,Ll=A(function(t){const n=t.curves;let e=Tn(n[0].ps).minY,r=n[0];for(let o=1;o<n.length;o++){const n=Tn(t.curves[o].ps).minY,i=n.box[0][1],u=e.box[0][1];(i<u||i===u&&n.ts[0]>e.ts[0])&&(e=n,r=t.curves[o])}return{curve:r,y:e}});function $l(t){const{curve:n,y:e}=Ll(t),r=e.ts;return r[0]<=0?[ol(0,n,0),ol(1,n.prev,0)]:r[1]>=1?[ol(1,n,0),ol(0,n.next,0)]:[{x:{ri:{tS:r[0],tE:r[1],multiplicity:1},kind:0,box:e.box},curve:n},{x:{ri:{tS:r[0],tE:r[1],multiplicity:1},kind:0,box:e.box},curve:n}]}function Xl(t,n,e){const r=e-(n-Math.floor(Math.log2(Math.abs(t))))+1;return r<=0?0:e>=53?t:vf(t,r)}const{abs:ql}=Math;function Ql(t,n){let e=t.side-n.side;if(0!==e)return e;const r=t.sideX,o=n.sideX;e=r.ri.tS-o.ri.tS;const i=8*Number.EPSILON;return ql(e)>=i?e:(r.compensated||(r.compensated=1,r.riExp=Gr(r.ri,r.getPExact())[0]),o.compensated||(o.compensated=1,o.riExp=Gr(o.ri,o.getPExact())[0]),e=wf(r.riExp.tS,o.riExp.tS),0!==e?e:(e=n.dir-t.dir,0!==e?e:1===t.dir?t.idx-n.idx:n.idx-t.idx))}function Gl(t){return t.box[0][0]}function Dl(t){return t.box[1][0]}function Hl(t){const n=t.inOuts,e=n[0],r=n[n.length-1];return 1===e.dir?(e.orientation=-1,e):(r.orientation=1,r)}function Ul(t){return t.slice().reverse()}function Zl(t){return 2===t.length?t[0][0]===t[1][0]&&t[0][1]===t[1][1]:3===t.length?t[0][0]===t[1][0]&&t[0][1]===t[1][1]&&t[1][1]===t[2][1]&&t[1][1]===t[2][1]:t[0][0]===t[1][0]&&t[0][1]===t[1][1]&&t[1][1]===t[2][1]&&t[1][1]===t[2][1]&&t[2][1]===t[3][1]&&t[2][1]===t[3][1]}function Rl(t=[],n){const e=[],r={beziers:t,curves:e,idx:n};if(!t.length)return r;let o,i=0;for(let n=0;n<t.length;n++){if(Zl(t[n]))continue;const u={loop:r,ps:t[n],prev:o,next:void 0,idx:i};o&&(o.next=u),o=u,e.push(u),i++}const u=e[e.length-1];return e[0].prev=u,u.next=e[0],u.ps[u.ps.length-1]=e[0].ps[0],r}function Wl(t){if(!Yl(t))return!1;const n=t.map(t=>t[0]),e=t.map(t=>t[1]);return!(jl(n)&&jl(e))}function jl(t){return function(t){for(let n=1;n<t.length;n++)if(t[n-1]>t[n])return!1;return!0}(t)||function(t){for(let n=1;n<t.length;n++)if(t[n-1]<t[n])return!1;return!0}(t)}function Jl(t,n){const e=n/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[e*t[0],e*t[1]]}function Kl(t,n){return[n[0]-t[0],n[1]-t[1]]}function th(t){for(let n=0;n<t.length-1;n++)for(let e=n+1;e<t.length;e++)if(t[n][0]===t[e][0]&&t[n][1]===t[e][1])return!1;return!0}const{abs:nh}=Math;function eh(t,n,e){if(void 0!==t&&!Kc(t)){if(2===t.length)return t;if(3===t.length){if(th(t))return Yl(t)?[t[0],t[2]]:t;if(oh(t[0],t[2]))return;return[t[0],t[2]]}if(th(t)){const r=rh(t);if(void 0===r)return;return function(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e][0]!==n[e][0]||t[e][1]!==n[e][1])return!1;return!0}(r,t)?t:eh(r,n,e)}if(oh(t[0],t[3])){if(Yl(t))return;return t}if(Yl(t))return[t[0],t[3]];if(oh(t[0],t[1])&&oh(t[1],t[2])||oh(t[1],t[2])&&oh(t[2],t[3])||oh(t[0],t[1])&&oh(t[2],t[3]))return eh([t[0],t[t.length-1]],n,e);if(oh(t[0],t[2])||oh(t[1],t[3])||oh(t[1],t[2]))return t;if(oh(t[0],t[1])){if(ot(t[1],t[2])<4*n)return[t[0],t[2],t[2],t[3]];{const r=Jl(Kl(t[1],t[2]),2*n),o=ut(t[1],r);return rh([t[0],e(o),t[2],t[3]])}}if(oh(t[2],t[3])){if(ot(t[2],t[1])<4*n)return[t[0],t[1],t[1],t[3]];{const r=Jl(Kl(t[2],t[1]),2*n),o=ut(t[2],r);return rh([t[0],t[1],e(o),t[3]])}}}}function rh(t){return Yl(t)?[t[0],t[3]]:Zc(t)?lu(t):t}function oh(t,n){return t[0]===n[0]&&t[1]===n[1]}function ih(t){return t}function uh(t,n,e,r=!1,o=!0){const i=function(t,n,e=!0){const r=2**t*2**-n,o=e?function(t,n){return e=>[Xl(e[0],t,n),Xl(e[1],t,n)]}(t,n):ih;return t=>{const n=[];for(let e=0;e<t.length;e++){let i=t[e].slice();const u=n[n.length-1],s=u?u[u.length-1]:o(t[0][0]);i[0]=s,i=i.map(t=>o(t)),Wl(i)&&(i=[i[0],i[i.length-1]]),i=eh(i,r,o),void 0!==i&&n.push(i)}const e=n.length;if(!e)return[];const i=n[e-1];return i[i.length-1]=n[0][0],n}}(e,n,o);let u=t.slice();return u=r?function(t,n,e,r=.02){const o=[];for(const i of t){const t=[];for(const o of i){const i=o.map(t=>t.map(t=>{let o,i=0,u=0,s=0;for(;!(++u>10);){i=(t+Math.random())*(1+(Math.random()-.7)*r),i=Xl(i,e,n);const u=gf(i);u>s&&(s=u,o=i)}return o}));t.push(i)}o.push(t)}return o}(u,n,e,1):u,u=u.map(i),u=u.filter(t=>t.length>0),u}const sh=A(t=>{let n=0;for(const e of t)for(const t of e)for(const e of t)for(const t of e){const e=Math.abs(t);e>n&&(n=e)}return n});function ch(t,n,e={}){const{noMicroCorners:r=!1}=e;let o;"undefined"!=typeof _debug_&&(o=performance.now()),n=n||sh(t);const i=Math.ceil(Math.log2(n)),u=2**i*2**-46*64;(function(t){if("undefined"!=typeof _debug_){if("undefined"!=typeof document){const n=function(t){let n="";for(const e of t)n=n+j(e)+"\n";return n}(t);document.getElementsByClassName("shape")[0].setAttributeNS(null,"d",n)}for(const n of t){_debug_.generated.elems.loopPre.push(...t),_debug_.generated.elems.loopsPre.push(t);for(const t of n){const n=br(t),e=Cn(t),r=Xn(t,!1);_debug_.generated.elems.bezier_.push(t),_debug_.generated.elems.looseBoundingBox_.push(n),_debug_.generated.elems.tightBoundingBox_.push(e),_debug_.generated.elems.boundingHull_.push(r)}}}})(t=uh(t,46,i,!1,!0)),t.sort(Sr);const s=t.map((t,n)=>Rl(t,n)),{extremes:c}=function(t,n,e){const r=ul(t,e),o=function(t){const n=[];for(const e of t)for(const t of e.curves){const e=t.ps,r=Bl(e);if(0===r.length)continue;const o=r[0]===r[1]?3:2,i=r[0]-Cl,u=r[0]+Cl,s=r[1]-Cl,c=r[1]+Cl,f=Pn(e,[i,u]),l=Pn(e,[s,c]);n.push([{x:{ri:{tS:i,tE:u,multiplicity:1},box:f,kind:o},curve:t},{x:{ri:{tS:s,tE:c,multiplicity:1},box:l,kind:o},curve:t}])}return n}(t),i=function(t){const n=[];for(const e of t)for(const t of e.curves)n.push([ol(1,t,4),ol(0,t.next,4)]);return n}(t),{extremes:u,xs:s}=function(t){const n=new Map,e=[];for(const r of t){const t=$l(r);e.push(t),n.set(r,t)}return{extremes:n,xs:e}}(t),c=function(t,n){const e=[];for(const r of n)for(const n of r.curves){const r=n.ps,o=Fl(r),{minima:i,maxima:u}=o,s=[0,1,...i,...u];for(let o of s)Vl(kl(r,o))>1e7*2**-t&&e.push([ol(o,n,7),ol(o,n,7)])}return e}(e,t);let f=[...r,...o,...i,...s,...c];if("undefined"!=typeof _debug_){for(const t of r)_debug_.generated.elems.intersection.push(...t);for(const t of o)_debug_.generated.elems.intersection.push(...t);for(const t of i)_debug_.generated.elems.intersection.push(...t);for(const t of s)_debug_.generated.elems.intersection.push(...t);for(const t of c)_debug_.generated.elems.intersection.push(...t)}let l=f.map(t=>({xs:t,box:[[t[0].x.box[0][0]-n,t[0].x.box[0][1]-n],[t[0].x.box[1][0]+n,t[0].x.box[1][1]+n]],inOuts:void 0}));for(;;){const t=tc(l,Gl,Dl,yr);if(!t.length)break;const n=new Map;Pr(n,t);const e=Br(n),r=Cr(l,e);l=[...Or(e),...r]}l=function(t){return t.filter(t=>{const n=t.xs;if(2===t.xs.length){const t=n[0];if(1===t.x.kind&&t.x.ri.multiplicity%2==0)return!1}for(const n of t.xs)if(4!==n.x.kind)return!0;return!1})}(l),l=function(t,n,e){const r=Math.log2(e)-3;return t.map(t=>{const e=t.box.map(t=>t.map(t=>Xl(t,n,n-r)));return{...t,box:e}})}(l,e,n),"undefined"!=typeof _debug_&&(_debug_.generated.elems.container=l);let h=0;for(const t of l){for(const n of t.xs)n.container=t;let n;({inOuts:n,ioIdx:h}=Ks(t,h)),t.inOuts=n}f=f.filter(t=>void 0!==t[0].container),function(t){const n=new Map;for(const e of t)for(const t of e){const e=t.curve.loop,r=n.get(e)||[];r.length||n.set(e,r),r.push(t)}for(const t of n){const n=t[1];if(!n||!n.length)continue;n.sort((t,n)=>{let e=t.curve.idx-n.curve.idx;return 0!==e?e:(e=t.x.ri.tS-n.x.ri.tS,0!==e?e:void 0!==t.in_?-1:1)});const e=n.length;for(let t=0;t<e;t++)n[t].next=n[(t+1)%e]}}(f);for(const t of l)for(const n of t.inOuts){if(-1===n.dir)continue;let t=n._x_;for(;t=t.next,void 0===t.in_;);n.next=t.in_,n.idx=n.next.idx}for(const t of l)t.inOuts.sort(Ql);for(const t of l){const n=t.inOuts;let e=n[n.length-1];for(let t=0;t<n.length;t++){const r=n[t];r.prevAround=e,e.nextAround=r,e=r}}return{extremes:u,containers:l}}(s,u,i),f={dir:void 0,idx:0,parent:void 0,children:new Set,windingNum:0,p:void 0,_x_:void 0,container:void 0},l=new Set,h=new Set;for(const t of s){if(l.has(t))continue;l.add(t);const n=Nr(f,t),e=c.get(t)[0].container;if(!e.inOuts.length)continue;const r=Hl(e);r.parent=n,r.windingNum=n.windingNum+r.orientation,r.children=new Set,sr(0,Hl(e),l,h)}const a=function(t){const n=[],e=[t];for(;e.length;){const t=e.pop();t.children=t.children||new Set;for(const r of t.children)0===t.windingNum&&n.push(r),e.push(r);0===t.windingNum&&(t.children=new Set)}return n}(f),v=a.map(Mr).map(t=>t.map((n,e)=>function(t,n,e){return n<0?Rl(t.beziers,e):function(t){const n=[],e=t.curves;for(let t=e.length-1;t>=0;t--){const r=Ul(e[t].ps);n.push(r)}return Rl(n,void 0)}(Rl(t.beziers,e))}(n,t[0].orientation,e))),p=(2**i*2**-16)**2,d=[];for(let t=0;t<v.length;t++){const n=v[t].filter(t=>Math.abs(y(t))>p);n.length&&(n.sort((t,n)=>Sr(t.beziers,n.beziers)),d.push(n))}return function(t){if("undefined"!=typeof _debug_)for(const n of t)_debug_.generated.elems.loop.push(...n),_debug_.generated.elems.loops.push(n)}(d),"undefined"!=typeof _debug_&&(_debug_.generated.timing.simplifyPaths=performance.now()-o),d}class fh{constructor(){this.initialPoint=void 0,this.vals=void 0,this.prev2ndCubicControlPoint=void 0,this.prev2ndQuadraticControlPoint=void 0,this.p=[0,0]}}function lh(t){const n=[t.p,t.initialPoint];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n}function hh(t){t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0;const n=(e=t.p,t.vals[0],t.vals[1],t.vals[2],t.vals[3],t.vals[4],[[e,[t.vals[5],t.vals[6]]]]);var e;const r=n[n.length-1];return t.p=r[r.length-1],n}const ah={c:function(t){const n=[t.p,[t.vals[0],t.vals[1]],[t.vals[2],t.vals[3]],[t.vals[4],t.vals[5]]];return t.prev2ndCubicControlPoint=n[2],t.prev2ndQuadraticControlPoint=void 0,n},h:function(t){const n=[t.p,[t.vals[0],t.p[1]]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},l:function(t){const n=[t.p,t.vals];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},q:function(t){const n=[t.vals[0],t.vals[1]],e=[t.vals[2],t.vals[3]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=n,[t.p,n,e]},s:function(t){const n=t.prev2ndCubicControlPoint?[t.p[0]-t.prev2ndCubicControlPoint[0]+t.p[0],t.p[1]-t.prev2ndCubicControlPoint[1]+t.p[1]]:t.p,e=[t.p,n,[t.vals[0],t.vals[1]],[t.vals[2],t.vals[3]]];return t.prev2ndCubicControlPoint=e[2],t.prev2ndQuadraticControlPoint=void 0,e},t:function(t){const n=t.prev2ndQuadraticControlPoint?[t.p[0]-t.prev2ndQuadraticControlPoint[0]+t.p[0],t.p[1]-t.prev2ndQuadraticControlPoint[1]+t.p[1]]:t.p,e=[t.vals[0],t.vals[1]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=n,[t.p,n,e]},v:function(t){const n=[t.p,[t.p[0],t.vals[0]]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},z:lh};function vh(t){let n=0,e=0,r=1,o=0,i=1,u=1;const s=t._currentIndex;if(t._skipOptionalSpaces(),t._currentIndex<t._endIndex&&"+"===t._string[t._currentIndex]?t._currentIndex+=1:t._currentIndex<t._endIndex&&"-"===t._string[t._currentIndex]&&(t._currentIndex+=1,i=-1),t._currentIndex===t._endIndex||(t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")&&"."!==t._string[t._currentIndex])throw new Error("The first character of a number must be one of [0-9+-.].");const c=t._currentIndex;for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)t._currentIndex+=1;if(t._currentIndex!==c){let n=t._currentIndex-1,r=1;for(;n>=c;)e+=r*(Number(t._string[n])-0),n-=1,r*=10}if(t._currentIndex<t._endIndex&&"."===t._string[t._currentIndex]){if(t._currentIndex+=1,t._currentIndex>=t._endIndex||t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")throw new Error("There must be a least one digit following the .");for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)r*=10,o+=Number(t._string.charAt(t._currentIndex))/r,t._currentIndex+=1}if(t._currentIndex!==s&&t._currentIndex+1<t._endIndex&&("e"===t._string[t._currentIndex]||"E"===t._string[t._currentIndex])&&"x"!==t._string[t._currentIndex+1]&&"m"!==t._string[t._currentIndex+1]){if(t._currentIndex+=1,"+"===t._string[t._currentIndex]?t._currentIndex+=1:"-"===t._string[t._currentIndex]&&(t._currentIndex+=1,u=-1),t._currentIndex>=t._endIndex||t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")throw new Error("There must be an exponent.");for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)n*=10,n+=Number(t._string[t._currentIndex]),t._currentIndex+=1}let f=e+o;if(f*=i,n&&(f*=Math.pow(10,u*n)),s===t._currentIndex)throw new Error("Internal error: startIndex === source._currentIndex");return t._skipOptionalSpacesOrDelimiter(),f}const ph={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"};class dh{constructor(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=void 0,this._skipOptionalSpaces()}parseSegment(){const t=this._string[this._currentIndex];let n,e=ph[t];if(void 0===e){if(void 0===this._prevCommand)throw new Error("Implicit command not allowed for first commands.");if(!("+"===t||"-"===t||"."===t||t>="0"&&t<="9")||"Z"===this._prevCommand)throw new Error("Remaining coordinates not found for implicit command");e="M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand}else this._currentIndex+=1;this._prevCommand=e;const r=e.toUpperCase();if("H"===r||"V"===r?n=[vh(this)]:"M"===r||"L"===r||"T"===r?n=[vh(this),vh(this)]:"S"===r||"Q"===r?n=[vh(this),vh(this),vh(this),vh(this)]:"C"===r?n=[vh(this),vh(this),vh(this),vh(this),vh(this),vh(this)]:"A"===r?n=[vh(this),vh(this),vh(this),this._parseArcFlag(),this._parseArcFlag(),vh(this),vh(this)]:"Z"===r&&(this._skipOptionalSpaces(),n=[]),void 0===n)throw new Error("Unknown command");return{type:e,values:n}}hasMoreData(){return this._currentIndex<this._endIndex}initialCommandIsMoveTo(){if(!this.hasMoreData())return!0;const t=ph[this._string[this._currentIndex]];return"M"===t||"m"===t}_isCurrentSpace(){const t=this._string[this._currentIndex];return t<=" "&&(" "===t||"\n"===t||"\t"===t||"\r"===t||"\f"===t)}_skipOptionalSpaces(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex}_skipOptionalSpacesOrDelimiter(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)}_parseArcFlag(){if(this._currentIndex>=this._endIndex)throw new Error("Unable to parse arc flag");let t;const n=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===n)t=0;else{if("1"!==n)throw new Error("Unable to parse arc flag - arc flag must be 0 or 1");t=1}return this._skipOptionalSpacesOrDelimiter(),t}}function gh(t){return function(t){if(0===t.length)return[];if("m"!==t[0].type.toLowerCase())throw new Error("Invalid SVG - every new path must start with an M or m.");const n=new fh,e=[];let r,o=[];for(let i=0;i<t.length;i++){const u=t[i],s=u.type.toLowerCase();if(n.vals=u.values,u.type===s)if("v"===s)n.vals[0]+=n.p[1];else if("a"===s)n.vals[5]+=n.p[0],n.vals[6]+=n.p[1];else for(let t=0;t<n.vals.length;t++)n.vals[t]+=n.p[t%2];if("m"!==s){if("a"===s)o.push(...hh(n));else{const t=ah[s];if(!t)throw new Error("Invalid SVG - command not recognized.");const e=t(n);n.p=e[e.length-1],o.push(e)}r=s}else o.length&&("z"!==r&&o.push(lh(n)),e.push(o),o=[]),n.initialPoint=n.p=n.vals,r=s}return o.length>0&&("z"!==r&&o.push(lh(n)),e.push(o)),e}(function(t){if(!t.length)return[];const n=new dh(t),e=[];if(!n.initialCommandIsMoveTo())throw new Error("Path must start with m or M");for(;n.hasMoreData();)e.push(n.parseSegment());return e}(t))}export{Ds as areBoxesIntersectingDd,j as beziersToSvgPathStr,Xc as doConvexPolygonsIntersect,rt as enableDebugForBooleanOp,ul as getIntersections,y as getLoopArea,P as getLoopCentroid,gh as getPathsFromStr,Rl as loopFromBeziers,ch as simplifyPaths,tc as sweepLine};